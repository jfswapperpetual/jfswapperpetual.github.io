"use strict";(self.webpackChunkcloud_trade_sdk=self.webpackChunkcloud_trade_sdk||[]).push([[1040],{92153:(e,o,s)=>{s.d(o,{L:()=>C,Z:()=>O});var t=s(38777),i=s(56666),n=s(31763),r=s.n(n),a=s(98493),l=s.n(a),c=s(33120),d=s(42742),p=s(58564);e=s.hmd(e);var u,g=s(23716);function h(e,o){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);o&&(t=t.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),s.push.apply(s,t)}return s}function x(e){for(var o=1;o<arguments.length;o++){var s=null!=arguments[o]?arguments[o]:{};o%2?h(Object(s),!0).forEach((function(o){(0,i.Z)(e,o,s[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):h(Object(s)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(s,o))}))}return e}(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&u(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var m,b,f=(0,c.L)().isHybrid,v=(0,d.Ue)((0,d.xf)(p)),j=function(e,o){var s=e.substring(0,50);if(s.includes("blob:"))return o(!1);if(!s)return o(!1);var t=document.createElement("canvas"),i=t.getContext("2d"),n=new window.Image;return n.crossOrigin="Anonymous",n.src="".concat(e,"?").concat(Date.now()),n.onload=function(){t.height=n.height,t.width=n.width,i.drawImage(n,0,0);try{t.toBlob((function(e){o(URL.createObjectURL(e))}))}catch(e){o(n.src)}t=null},null},y=function(e,o,s,t,i){setTimeout((function(){r()(e,x({scale:1,allowTaint:!0,useCORS:!0,width:e.offsetWidth,height:e.offsetHeight,backgroundColor:null,y:0,scrollY:0},o)).then((function(e){if(i&&i(e),!1!==i)try{var o=e.toDataURL("image/jpeg");s&&s(o)}catch(e){t&&t(e)}})).catch((function(e){t&&t(e)}))}),10)},w=function(e,o,s,i,n){var r=e.querySelectorAll("img"),a=0;if(r[0]){var l=setInterval((function(){clearInterval(l),r.length!==a&&i&&i("超时")}),1e4);(0,t.Z)(r).forEach((function(t){j(t.src,(function(c){!1!==c&&(t.src=c),a++,r.length===a&&(clearInterval(l),y(e,o,s,i,n))}))}))}else y(e,o,s,i,n)},k=function(e,o,s,t,i){l().toJpeg(e,x({quality:1,cacheBust:!0},o)).then((function(e){if(i&&i(e),!1!==i)try{s&&s(e)}catch(e){t&&t(e)}})).catch((function(e){t&&t(e)}))};function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.el,s=e.android,t=e.ios,i=e.success,n=e.error,r=e.handle;o?f&&/(iPhone|iPad|iPod|iOS)/i.test(window.navigator.userAgent)?w(o,t,i,n,r):k(o,s,i,n,r):g.warn("domToImage: 未找到该节点，无法执行后续的截图操作")}function C(e,o){if(f)v.share({type:"IMAGE",image:e,shareStyle:1});else{var s=document.createElement("a");s.download=o,s.href=e,s.click()}}(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(m.register(f,"isHybrid","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/shared/utils/domToImage.js"),m.register(v,"bridge","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/shared/utils/domToImage.js"),m.register(j,"getUrlBlob","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/shared/utils/domToImage.js"),m.register(y,"IosRender","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/shared/utils/domToImage.js"),m.register(w,"IosHandle","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/shared/utils/domToImage.js"),m.register(k,"AndroidRender","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/shared/utils/domToImage.js"),m.register(O,"domToImage","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/shared/utils/domToImage.js"),m.register(C,"download","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/shared/utils/domToImage.js")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)},19925:(e,o,s)=>{s.d(o,{Z:()=>a});var t=s(5163),i=s(2784),n=s(62143),r=(0,i.forwardRef)((function(e,o){return e.visible?i.createElement(n.Z,(0,t.__assign)({ref:o,variant:"mask"},e,{__css:{position:"fixed",top:0,left:0,bottom:0,right:0}})):null}));r.displayName="Mask";const a=r},34553:(e,o,s)=>{s.d(o,{Z:()=>g});var t=s(5163),i=s(2784),n=s(87938),r=s(92036),a=s(19925),l=s(62143),c=s(48658),d=s(77711),p="undefined"!=typeof window?i.useLayoutEffect:i.useEffect,u=(0,i.forwardRef)((function(e,o){var s=e.open,u=e.title,g=e.titleSx,h=e.containerSx,x=e.contentSx,m=e.mask,b=void 0===m||m,f=e.maskSx,v=e.showMaskOnMobile,j=void 0!==v&&v,y=e.onMaskClick,w=e.onCloseIconClick,k=e.showCloseIcon,O=void 0===k||k,C=e.children,P=e.onPressEnter,Z=void 0===P?function(){}:P,N=e.onPressEsc,L=void 0===N?function(){}:N,I=e.specialCss,S=void 0===I?{}:I,E=e.closeSx,_=void 0===E?{}:E,M=e.closeIconProps,$=void 0===M?{}:M,D=e.showTitleBottomLine,R=void 0===D||D,T=(0,t.__rest)(e,["open","title","titleSx","containerSx","contentSx","mask","maskSx","showMaskOnMobile","onMaskClick","onCloseIconClick","showCloseIcon","children","onPressEnter","onPressEsc","specialCss","closeSx","closeIconProps","showTitleBottomLine"]),z=function(e){13===e.keyCode?Z(e):27===e.keyCode&&L(e)};if((0,i.useEffect)((function(){return s?document.addEventListener("keydown",z):document.removeEventListener("keydown",z),function(){document.removeEventListener("keydown",z)}}),[s]),p((function(){return b&&s?document.body.style.overflow="hidden":document.body.style.removeProperty("overflow"),function(){document.body.style.removeProperty("overflow")}}),[b,s]),!s||"undefined"==typeof document||!document.body)return null;var H=!1;"undefined"!=typeof window&&window.matchMedia("(max-width: 766px)").matches&&(H=!0);var U=(0,t.__assign)({zIndex:"unset"},f),V=b&&(j||!H);return i.createElement(n.ZP,null,i.createElement(r.Z,{__css:(0,t.__assign)({zIndex:"modal",position:"fixed",alignItems:"center",justifyContent:"center",top:0,left:0,bottom:0,right:0},S),sx:h},V&&i.createElement(a.Z,{visible:!0,onClick:function(e){return y&&y(e)},sx:U}),i.createElement(l.Z,(0,t.__assign)({ref:o,__css:{position:"relative",borderRadius:["0px","large","large"],boxShadow:"dialog",backgroundColor:"popupBg",width:["100%","auto"],height:["100%","auto"],color:"t.primary"}},T),O&&i.createElement(l.Z,(0,t.__assign)({__css:{position:"absolute",top:0,right:0,left:"unset",pt:"20px",pr:"md",color:"t.disabled",cursor:"pointer",":hover":{color:"t.third"}}},$,{sx:_,onClick:function(e){return w&&w(e)}}),i.createElement(d.Z,{size:24})),u&&i.createElement(c.Z,{variant:"headline6",className:"modal-title",__css:{pl:"md",pr:"lg",pt:"20px",pb:"19px",borderBottom:"1px solid",borderBottomColor:"line",border:R?"":"none",textAlign:"left"},sx:g},u),i.createElement(l.Z,{className:"style-dialog-body",__css:{p:"md",fontSize:"sm",lineHeight:"20px"},sx:x},C))))}));u.displayName="StyledDialog";const g=u},977:(e,o,s)=>{function t(e,o,s){void 0===o&&(o="yyyy-MM-dd hh:mm"),void 0===s&&(s=!1);var t=s?{"M+":e.getUTCMonth()+1,"d+":e.getUTCDate(),"h+":e.getUTCHours(),"m+":e.getUTCMinutes(),"s+":e.getUTCSeconds(),"q+":Math.floor((e.getUTCMonth()+3)/3),S:e.getUTCMilliseconds()}:{"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()},i=o;return/(y+)/.test(o)&&(i=o.replace(RegExp.$1,(""+e.getFullYear()).substr(4-RegExp.$1.length))),Object.keys(t).forEach((function(e){new RegExp("("+e+")").test(i)&&(i=i.replace(RegExp.$1,1===RegExp.$1.length?t[e]:("00"+t[e]).substr((""+t[e]).length)))})),i}s.d(o,{v:()=>t})},11981:(e,o,s)=>{s.d(o,{C:()=>c});var t=s(52322),i=s(48658),n=s(33322),r=s(27986),a=s(56851);const l={color:"t.primary"},c=e=>{var{label:o,disabled:s,className:c,tooltipText:d,tooltipLearnMoreLink:p,checked:u,onChange:g}=e,h=function(e,o){var s={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&o.indexOf(t)<0&&(s[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(t=Object.getOwnPropertySymbols(e);i<t.length;i++)o.indexOf(t[i])<0&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(s[t[i]]=e[t[i]])}return s}(e,["label","disabled","className","tooltipText","tooltipLearnMoreLink","checked","onChange"]);const x=e=>{e.preventDefault()},m=(0,t.jsx)(i.Z,Object.assign({fontSize:12,onClick:x},{children:o}),void 0);return(0,t.jsxs)(n.Z,Object.assign({className:c,width:"auto"},{children:[(0,t.jsx)(r.Z,Object.assign({},h,{onChange:e=>{g(e.currentTarget.checked)},checked:u,disabled:s}),void 0),d?(0,t.jsx)(a.m,Object.assign({labelSx:l,tip:(0,t.jsx)("span",Object.assign({onClick:x},{children:d}),void 0),learnMoreLink:p},{children:m}),void 0):m]}),void 0)}},91040:(e,o,s)=>{s.r(o),s.d(o,{default:()=>oe});var t=s(52322),i=s(2784),n=s(97060),r=s(60190),a=s(88767),l=s(5163),c=s(51336),d=function(){return(0,l.__awaiter)(void 0,void 0,void 0,(function(){return(0,l.__generator)(this,(function(e){return[2,(0,c.v_)("/bapi/futures/v1/private/future/agent/agentcode/get")]}))}))},p=s(60390),u=s(29261),g=s(11981),h=s(62143),x=s(48658),m=s(92036),b=s(59111),f=s(977),v=s(73121),j=s(72779),y=s.n(j),w=s(82108),k=s.n(w);const O={display:"inline-block",textTransform:"capitalize","&.short":{color:"t.sell"},"&.long":{color:"t.buy"}},C=({className:e,direction:o,variant:s="caption1"})=>{const{getI18n:i}=(0,n.yk)(),r=o?i(o,{defaultValue:k()(o)}):"-",a=o?o.toLowerCase():"";return(0,t.jsx)(x.Z,Object.assign({variant:s,className:y()(e,a),sx:O},{children:r}),void 0)};var P=s(41498),Z=s.n(P),N=s(93603);const L={display:"flex",alignItems:"center",".code-container":{display:"flex",alignItems:"center",justifyContent:"center",width:"64px",height:"64px",bg:"white"}},I=({link:e})=>(0,t.jsx)(m.Z,Object.assign({sx:L},{children:e&&(0,t.jsx)("div",Object.assign({className:"code-container"},{children:(0,t.jsx)(Z(),{size:54,value:e},void 0)}),void 0)}),void 0),S=({link:e})=>{const{t:o}=(0,n.yk)(),{address:s=""}=(0,N.dc)(),i=s.slice(0,6)+"......"+s.slice(-4),r=o("futures-referral-address",{defaultValue:"Address"});return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(I,{link:e},void 0),(0,t.jsxs)(m.Z,Object.assign({className:"referral"},{children:[(0,t.jsx)("div",Object.assign({className:"referral-label"},{children:r}),void 0),(0,t.jsx)("div",Object.assign({className:"referral-value"},{children:i}),void 0)]}),void 0)]},void 0)},E={position:"relative",zIndex:1,display:"flex",flexDirection:"column",justifyContent:"center",width:"343px",height:"412px",p:"24px 22px",fontSize:"12px",lineHeight:"16px",borderRadius:"16px",".logo":{height:"40px",mb:"16px",backgroundPosition:"left center",backgroundRepeat:"no-repeat"},".direction-leverage":{display:"flex",alignItems:"center",width:"100%",fontWeight:"400",mb:"16px",color:"t.primary",".divider":{display:"inline-block",width:"1px",height:"16px",bg:"t.primary",mx:"8px"},"> span":{whiteSpace:"nowrap"}},".pnl-roe-title":{mb:"8px",color:"t.secondary"},".pnl-roe-large-block":{fontSize:"48px",lineHeight:"40px",fontWeight:500},".pnl-roe-small-block":{fontSize:"20px",lineHeight:"28px"},".prices-block":{display:"flex",height:"40px",".list":{display:"flex",flexDirection:"column",justifyContent:"space-between",mr:"24px"},".name":{whiteSpace:"nowrap"}},".share-time":{my:"16px",textAlign:"left",color:"t.secondary"},".footer":{display:"flex",alignItems:"center",".referral":{display:"flex",flexDirection:"column",ml:"12px",".referral-label":{fontWeight:"400",color:"t.third"},".referral-value":{fontWeight:"700",fontSize:"20px",lineHeight:"28px",color:"t.primary"}}}},{shareImgFolder:_="static/images/share-poster"}=b.ll,M=({symbolDisplay:e,direction:o="LONG",leverage:s,showLeverage:i,pnlColor:r,pnl:a,showPnl:l,roe:c,marginAsset:d,entryPrice:p,markPrice:g,lastPrice:b,showPrices:j,shareLink:y})=>{const w="light"===(0,u.Fg)(),{getI18n:k,t:O}=(0,n.yk)(),{useLastPrice:P}=(0,v.F7)(),Z=`${_}/${w?"light":"dark"}_logo.png`,N=`${_}/mobile_${w?"light":"dark"}_${Number(a)>0?"win":"loss"}.png`;return(0,t.jsxs)(h.Z,Object.assign({sx:Object.assign(Object.assign({},E),{backgroundImage:`url(${N})`})},{children:[(0,t.jsx)(h.Z,{className:"logo",sx:{backgroundImage:`url(${Z})`}},void 0),(0,t.jsx)(x.Z,Object.assign({variant:"headline6",mb:"4px"},{children:e}),void 0),(0,t.jsxs)("div",Object.assign({className:"direction-leverage"},{children:[(0,t.jsx)(C,{direction:o},void 0),i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"divider"},void 0),(0,t.jsx)("span",{children:`${s}x`},void 0)]},void 0)]}),void 0),(0,t.jsx)(x.Z,Object.assign({className:"pnl-roe-title"},{children:l?`${k("PNL")}(${k("ROE")}%)`:`${k("ROE")}%`}),void 0),(0,t.jsx)(h.Z,Object.assign({sx:{color:r,mb:"8px",height:"68px"}},{children:l?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(m.Z,Object.assign({alignItems:"flex-end"},{children:[(0,t.jsx)(x.Z,Object.assign({className:"pnl-roe-large-block"},{children:a}),void 0),(0,t.jsx)(x.Z,Object.assign({className:"pnl-roe-small-block",ml:"4px"},{children:`${d}`}),void 0)]}),void 0),(0,t.jsxs)(x.Z,Object.assign({className:"pnl-roe-small-block"},{children:["(",c,")"]}),void 0)]},void 0):(0,t.jsx)(x.Z,Object.assign({className:"pnl-roe-large-block"},{children:c}),void 0)}),void 0),(0,t.jsx)("div",Object.assign({className:"prices-block"},{children:j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",Object.assign({className:"list"},{children:[(0,t.jsx)(x.Z,Object.assign({className:"name",color:"t.secondary"},{children:k("entryPrice",{defaultValue:"Entry Price"})}),void 0),(0,t.jsx)(x.Z,Object.assign({className:"name",color:"t.secondary"},{children:P?k("lastPrice",{defaultValue:"Last Price"}):k("markPrice",{defaultValue:"Mark Price"})}),void 0)]}),void 0),(0,t.jsxs)("div",Object.assign({className:"list"},{children:[(0,t.jsx)(x.Z,Object.assign({color:"t.yellow"},{children:p}),void 0),(0,t.jsx)(x.Z,Object.assign({color:"t.yellow"},{children:P?b:g}),void 0)]}),void 0)]},void 0)}),void 0),(0,t.jsx)(x.Z,Object.assign({variant:"caption",className:"share-time"},{children:`${k("cut-off-time")}: ${(0,f.v)(new Date,"yyyy-MM-dd hh:mm")}`}),void 0),(0,t.jsx)(h.Z,Object.assign({className:"footer"},{children:(0,t.jsx)(S,{link:y},void 0)}),void 0)]}),void 0)};var $=s(45362),D=s(81993),R=s(34553),T=s(77711),z=s(92153);const H={overflow:"hidden",bg:"transparent",".style-dialog-body":{display:"flex",flexDirection:"column",justifyContent:"space-between",width:"100%",maxWidth:"100%",height:"100%",p:0}},U={position:"fixed",width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.5)"},V={overflowY:"auto",my:"auto",".poster-container":{boxShadow:"dialog",display:"flex",justifyContent:"center"}},A={position:"relative",p:"15px",pb:"24px",bg:"popupBg",borderRadius:"10px 10px 0px 0px",".checkbox-row-container":{display:"flex",flexDirection:"row",mt:"8px"},".config-checkbox":{mr:"20px","&:last-child":{mr:0}},".checkbox-label":{color:"t.primary",fontSize:"14px"},".button-row":{display:"flex",mt:"24px"},".cancel-btn, .download-btn":{flex:"1"},".cancel-btn":{mr:"15px"}},F={position:"absolute",right:"15px",top:"15px",zIndex:2,color:"t.third",cursor:"pointer","&:hover":{color:"t.primary"}},G=({visible:e,shareLink:o,onClose:s,renderPoster:r,renderCheckboxes:a})=>{const l=(0,i.useRef)(null),{getI18n:c}=(0,n.yk)(),{enqueueNotification:d}=(0,D.Z)();return(0,t.jsxs)(R.Z,Object.assign({sx:H,open:e,showCloseIcon:!1,closeSx:F},{children:[(0,t.jsx)(h.Z,{sx:U},void 0),(0,t.jsx)(h.Z,Object.assign({sx:V},{children:(0,t.jsx)("div",Object.assign({ref:l,className:"poster-container"},{children:r()}),void 0)}),void 0),(0,t.jsxs)(h.Z,Object.assign({sx:A},{children:[(0,t.jsx)(T.Z,{sx:F,size:20,onClick:s},void 0),(0,t.jsx)(x.Z,Object.assign({variant:"subtitle1",color:"t.primary",textAlign:"center",mb:"24px"},{children:c("shareModal-config-title-short",{defaultValue:"Select Parameters"})}),void 0),(0,t.jsx)(x.Z,Object.assign({variant:"body2",color:"t.secondary"},{children:c("shareModal-config-title",{defaultValue:"Please select the information you wish to share:"})}),void 0),(0,t.jsx)("div",Object.assign({className:"checkbox-row-container"},{children:a()}),void 0),(0,t.jsxs)("div",Object.assign({className:"button-row"},{children:[(0,t.jsx)($.Z,Object.assign({className:"cancel-btn",sz:"normal",colorStyle:"secondary",onClick:()=>{o&&(navigator.clipboard.writeText(o),d({variant:"success",message:c("copy-successfully",{defaultValue:"Copy successfully!"})}))}},{children:c("copy-link",{defaultValue:"Copy Link"})}),void 0),(0,t.jsx)($.Z,Object.assign({className:"download-btn",sz:"normal",variant:"primary",onClick:()=>{if(!o)return;const e=l.current;(0,z.Z)({el:e,success(e){(0,z.L)(e,`share-poster-${Date.now()}`),d({variant:"success",message:c("download-successfully",{defaultValue:"Download successfully!"})})}})}},{children:c("download",{defaultValue:"Download"})}),void 0)]}),void 0)]}),void 0)]}),void 0)},B={position:"relative",zIndex:1,display:"flex",flexDirection:"column",justifyContent:"center",flex:"1",width:"552px",height:"384px",p:"24px",fontSize:"12px",lineHeight:"16px",borderRadius:"16px",".logo":{height:"40px",mb:"16px",backgroundPosition:"left center",backgroundRepeat:"no-repeat"},".direction-leverage":{display:"flex",alignItems:"center",width:"100%",fontWeight:"400",mb:"16px",color:"t.primary",".divider":{display:"inline-block",width:"1px",height:"16px",bg:"t.primary",mx:"8px"},"> span":{whiteSpace:"nowrap"}},".pnl-roe-title":{mb:"8px",color:"t.secondary"},".pnl-roe-large-block":{fontSize:"48px",lineHeight:"40px",fontWeight:500},".prices-block":{display:"flex",height:"40px",".list":{display:"flex",flexDirection:"column",justifyContent:"space-between",mr:"24px"},".name":{whiteSpace:"nowrap"}},".share-time":{my:"16px",textAlign:"left",color:"t.secondary"},".footer":{display:"flex",alignItems:"center",".referral":{display:"flex",flexDirection:"column",ml:"12px",".referral-label":{fontWeight:"400",color:"t.third"},".referral-value":{fontWeight:"700",fontSize:"20px",lineHeight:"28px",color:"t.primary"}}}},{shareImgFolder:W="static/images/share-poster"}=b.ll,q=({symbolDisplay:e,direction:o="LONG",leverage:s,showLeverage:i,pnlColor:r,pnl:a,showPnl:l,roe:c,marginAsset:d,entryPrice:p,markPrice:g,lastPrice:b,showPrices:j,shareLink:y})=>{const w="light"===(0,u.Fg)(),{getI18n:k,t:O}=(0,n.yk)(),{useLastPrice:P}=(0,v.F7)(),Z=`${W}/${w?"light":"dark"}_logo.png`,N=`${W}/pc_${w?"light":"dark"}_${Number(a)>0?"win":"loss"}.png`;return(0,t.jsxs)(h.Z,Object.assign({sx:Object.assign(Object.assign({},B),{backgroundImage:`url(${N})`})},{children:[(0,t.jsx)(h.Z,{className:"logo",sx:{backgroundImage:`url(${Z})`}},void 0),(0,t.jsx)(x.Z,Object.assign({variant:"headline6",mb:"4px"},{children:e}),void 0),(0,t.jsxs)("div",Object.assign({className:"direction-leverage"},{children:[(0,t.jsx)(C,{direction:o},void 0),i&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("span",{className:"divider"},void 0),(0,t.jsx)("span",{children:`${s}x`},void 0)]},void 0)]}),void 0),(0,t.jsx)(x.Z,Object.assign({className:"pnl-roe-title"},{children:l?`${k("PNL")}(${k("ROE")}%)`:`${k("ROE")}%`}),void 0),(0,t.jsx)(m.Z,Object.assign({sx:{alignItems:"flex-end",color:r,mb:"8px"}},{children:l?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(x.Z,Object.assign({className:"pnl-roe-large-block"},{children:a}),void 0),(0,t.jsx)(x.Z,Object.assign({variant:"headine3",mx:"4px"},{children:`${d}`}),void 0),(0,t.jsxs)(x.Z,Object.assign({variant:"headine3"},{children:["(",c,")"]}),void 0)]},void 0):(0,t.jsx)(x.Z,Object.assign({className:"pnl-roe-large-block"},{children:c}),void 0)}),void 0),(0,t.jsx)("div",Object.assign({className:"prices-block"},{children:j&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",Object.assign({className:"list"},{children:[(0,t.jsx)(x.Z,Object.assign({className:"name",color:"t.secondary"},{children:k("entryPrice",{defaultValue:"Entry Price"})}),void 0),(0,t.jsx)(x.Z,Object.assign({className:"name",color:"t.secondary"},{children:P?k("lastPrice",{defaultValue:"Last Price"}):k("markPrice",{defaultValue:"Mark Price"})}),void 0)]}),void 0),(0,t.jsxs)("div",Object.assign({className:"list"},{children:[(0,t.jsx)(x.Z,Object.assign({color:"t.yellow"},{children:p}),void 0),(0,t.jsx)(x.Z,Object.assign({color:"t.yellow"},{children:P?b:g}),void 0)]}),void 0)]},void 0)}),void 0),(0,t.jsx)(x.Z,Object.assign({variant:"caption",className:"share-time"},{children:`${k("cut-off-time")}: ${(0,f.v)(new Date,"yyyy-MM-dd hh:mm")}`}),void 0),(0,t.jsx)(h.Z,Object.assign({className:"footer"},{children:(0,t.jsx)(S,{link:y},void 0)}),void 0)]}),void 0)};var K=s(71927);const Y={overflow:"hidden",".style-dialog-body":{display:"flex",flexDirection:"column",width:"600px",maxWidth:"100%",height:"100%",p:0}},J={position:"absolute",right:"11px",top:"11px",zIndex:2,color:"t.third",cursor:"pointer","&:hover":{color:"t.primary"}},Q={".poster-container":{position:"relative",overflow:"hidden",display:"flex",flexDirection:"column",boxSizing:"border-box",p:"24px",pb:0},".action-panel":{mt:"auto",p:"24px",bg:"popupBg"},".checkbox-row-container":{display:"flex",flexDirection:"row",mt:"8px"},".config-checkbox":{mr:"24px","&:last-child":{mr:0}},".checkbox-label":{color:"t.primary",fontSize:"14px"},".button-row":{display:"flex",mt:"24px"},".cancel-btn, .download-btn":{flex:"1"},".cancel-btn":{mr:"8px"}},X=({visible:e,shareLink:o,onClose:s,renderPoster:r,renderCheckboxes:a})=>{const l=(0,i.useRef)(null),{getI18n:c}=(0,n.yk)(),{enqueueNotification:d}=(0,D.Z)();return(0,t.jsxs)(R.Z,Object.assign({sx:Y,open:e,showCloseIcon:!1,closeSx:J},{children:[(0,t.jsx)(K.Z,{size:24,sx:J,onClick:s},void 0),(0,t.jsxs)(h.Z,Object.assign({sx:Q},{children:[(0,t.jsx)("div",Object.assign({className:"poster-container"},{children:(0,t.jsx)("div",Object.assign({ref:l},{children:r()}),void 0)}),void 0),(0,t.jsxs)("div",Object.assign({className:"action-panel"},{children:[(0,t.jsx)(x.Z,Object.assign({variant:"body2",color:"t.secondary"},{children:c("shareModal-config-title",{defaultValue:"Please select the information you wish to share:"})}),void 0),(0,t.jsx)("div",Object.assign({className:"checkbox-row-container"},{children:a()}),void 0),(0,t.jsxs)("div",Object.assign({className:"button-row"},{children:[(0,t.jsx)($.Z,Object.assign({className:"cancel-btn",sz:"normal",colorStyle:"secondary",onClick:()=>{o&&(navigator.clipboard.writeText(o),d({variant:"success",message:c("copy-successfully",{defaultValue:"Copy successfully!"})}))}},{children:c("copy-link",{defaultValue:"Copy Link"})}),void 0),(0,t.jsx)($.Z,Object.assign({className:"download-btn",sz:"normal",variant:"primary",onClick:()=>{if(!o)return;const e=l.current;(0,z.Z)({el:e,success(e){(0,z.L)(e,`share-poster-${Date.now()}`),d({variant:"success",message:c("download-successfully",{defaultValue:"Download successfully!"})})}})}},{children:c("download",{defaultValue:"Download"})}),void 0)]}),void 0)]}),void 0)]}),void 0)]}),void 0)};var ee=s(72019);const oe=({visible:e,onClose:o,sideKey:s})=>{const{getI18n:l}=(0,n.yk)(),{isMobile:c}=(0,n.Fs)(),[h,x]=(0,i.useState)(!0),[m,b]=(0,i.useState)(!0),[f,v]=(0,i.useState)(!0),{symbolText:j,leverage:y}=(0,ee.iA)({sideKey:s}),w=(0,r.t2)(s,"positionSize"),k=Number(w)>0?"LONG":"SHORT",{pnlColor:O,formatedPnl:C,ROEVal:P}=(0,ee.qU)({sideKey:s}),[Z,N]=C.split(" "),{formatedEntryPrice:L}=(0,ee.A4)({sideKey:s}),{formatedMarkPrice:I,formatedLastPrice:S}=(0,ee.z1)({sideKey:s}),{referralCode:E}=(()=>{var e,o;const s=(0,p._)(),{isExistFutureAccount:t}=(0,u.Pc)(),{isLoading:i,data:n}=(0,a.useQuery)("FUTURES_REFERRAL_CODE",d,{enabled:Boolean(s&&t),staleTime:1/0});return{isLoading:i,referralCode:(null===(o=null===(e=null==n?void 0:n.data)||void 0===e?void 0:e.agentCode)||void 0===o?void 0:o.toString())||""}})(),_=(0,i.useMemo)((()=>{var e,o;return`${null===(e=window.top)||void 0===e?void 0:e.location.href}${(null===(o=window.top)||void 0===o?void 0:o.location.search)?"&":"?"}ref=${E}`}),[E]),$=()=>(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.C,{className:"config-checkbox",label:l("LeverageLabel",{defaultValue:"Leverage"}),checked:h,onChange:x},void 0),(0,t.jsx)(g.C,{className:"config-checkbox",label:l("pnl-amount",{defaultValue:"PNL Amount"}),checked:m,onChange:b},void 0),(0,t.jsx)(g.C,{className:"config-checkbox",label:l("price",{defaultValue:"Price"}),checked:f,onChange:v},void 0)]},void 0);return c?(0,t.jsx)(G,{visible:e,shareLink:_,onClose:o,renderPoster:()=>(0,t.jsx)(M,{symbolDisplay:j,direction:k,leverage:y,showLeverage:h,pnlColor:O,pnl:Z,showPnl:m,marginAsset:N,roe:P,entryPrice:L,markPrice:I,lastPrice:S,showPrices:f,shareLink:_},void 0),renderCheckboxes:$},void 0):(0,t.jsx)(X,{visible:e,shareLink:_,onClose:o,renderPoster:()=>(0,t.jsx)(q,{symbolDisplay:j,direction:k,leverage:y,showLeverage:h,pnlColor:O,pnl:Z,showPnl:m,marginAsset:N,roe:P,entryPrice:L,markPrice:I,lastPrice:S,showPrices:f,shareLink:_},void 0),renderCheckboxes:$},void 0)}}}]);