"use strict";(self.webpackChunkcloud_trade_sdk=self.webpackChunkcloud_trade_sdk||[]).push([[5649],{90614:(e,t,r)=>{r.d(t,{gN:()=>s,QV:()=>o.Q});var o=r(27657),n=r(2784),a=r(23131);function s(){const[e,t]=(0,n.useState)({});return(0,n.useEffect)((()=>(0,a.RU)().getContractInfoStream().subscribe((e=>{t(e)}))),[]),e}r(55606),r(93954),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature},93954:(e,t,r)=>{r.d(t,{s:()=>p});var o,n=r(2784),a=r(27657),s=r(26786),i=r(48752),l=r(97060);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var u,c,d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},p=function(e){var t=(0,l.yk)().getI18n,r=(0,a.Q)().isCoinUnit,o=e||{},u=o.contractVal,c=o.equalQtyPrecision,d=o.precision,p=(0,n.useCallback)((function(e){var t=e.quantity,o=e.price,n=e.func,a=void 0===n?s.mD:n,l=e.format,d=void 0===l||l;return r?(0,i.unitChangeCoinQty)({quantity:t,price:o,contractVal:u,precision:c,func:a,format:d}):t}),[u,c,r]),f=(0,n.useCallback)((function(){var o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"marginAsset";return r?e[o]:t("Cont",{defaultValue:"Cont"})}),[t,r,e]),b=(0,n.useCallback)((function(){return r?c:d}),[c,r,d]);return(0,n.useMemo)((function(){return{getQuantity:p,getAssetLabel:f,getPrecision:b}}),[f,b,p])};d(p,"useFuturesLanguage{{ getI18n: getFuturesI18n }}\nusePreferenceUnit{{ isCoinUnit }}\nuseCallback{getQuantity}\nuseCallback{getAssetLabel}\nuseCallback{getPrecision}\nuseMemo{}",(function(){return[l.yk,a.Q]})),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register((function(e){var t=e.quantity,r=e.price,o=e.contractVal;return Math.floor(t*r/o)}),"unitChangeCoinToCont","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/delivery/hooks/useUnitChange.js"),u.register(p,"useUnitChange","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/delivery/hooks/useUnitChange.js")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},31928:(e,t,r)=>{var o;r.d(t,{Z:()=>a}),e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var n={form:{container:{p:"16px 12px 16px 12px",flexDirection:"column",justifyContent:"unset"},panel:{width:"100%",mr:0},tip:{pt:"15px"}},switch:{item:{bg:"calculator.resultBg",border:"none",color:"calculator.numberColor","&.active":{fontWeight:500,background:"linear-gradient(270deg, #FBDA3C 0%, #EFB80B 100%)",color:"#212833"}}},result:{container:{width:"100%",mt:"12px",bg:"calculator.resultBgMobile",py:"12px"},title:{fontWeight:"normal !important",mb:"12px"},label:{fontSize:"16px",color:"#848E9C"},value:{fontSize:"15px",color:"calculator.numberColor"},tooltipLabel:{fontSize:"16px",color:"#848E9C",borderBottom:"none !important"},description:{position:"relative",fontSize:"12px",color:"#848E9C",lineHeight:"18px",mt:10}},calculateBtn:{height:50,mt:18,fontWeight:"normal !important",background:"linear-gradient(90deg, #FBDA3C 0%, #EFB80B 100%)"},SymbolSelect:{overlayBoxSx:{width:"94vw"}},DropBpx:{sx:{bg:"calculator.dropBoxBg",borderColor:"calculator.dropBoxBg",fontWeight:"normal"}},custom:{TextField:{props:{color:"calculator.inputColor",fontSize:"15px !important",fontWeight:500,pb:"1px"},boxProps:{width:"100%",mt:12,height:44,borderColor:"calculator.inputBorderColorMobile"},prefix:{color:"#848E9C"},suffix:{color:"#848E9C",fontSize:"15px !important"}}}};const a=n;var s,i;(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&s.register(n,"default","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/Mobile/theme/overrides.js"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},1138:(e,t,r)=>{r.d(t,{Z:()=>u});var o,n,a,s=r(2784),i=r(97060),l=r(31928);function u(){var e=(0,i.Fs)().isMobile;return(0,s.useMemo)((function(){return e?l.Z:void 0}),[e])}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(u,"useResponsive{{ isMobile }}\nuseMemo{}",(function(){return[i.Fs]})),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(u,"useMobileOverrideStyles","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/Mobile/useMobileOverrideStyles.js"),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)},70465:(e,t,r)=>{r.d(t,{h:()=>v});var o,n,a,s=r(56666),i=r(2867),l=r(2784),u=r(37407),c=r(62143),d=r(92036),p=r(55742),f=r(1138),b=r(52322);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.activeKey,r=e.data,o=void 0===r?[]:r,n=e.onSelectChange,a=void 0===n?function(){}:n,s=e.sx,g=e.overlayBoxSx,v=e.itemSx,y=(0,f.Z)(),x=(0,l.useState)(!1),j=(0,i.Z)(x,2),P=j[0],h=j[1],O=(0,l.useMemo)((function(){return(0,b.jsx)(c.Z,{sx:m({width:"143px",maxHeight:"250px",borderRadius:"4px",overflow:"auto",mt:"2px",boxShadow:"0px 0px 8px rgba(11, 14, 17, 0.15)",bg:"popupBg"},g),children:o.map((function(e){var t=e.key,r=e.value,o=e.disabled,n=o?{}:{color:"t.yellow",bg:"lightPrimary"};return(0,b.jsx)(d.Z,{justifyContent:"center",alignItems:"center",sx:m({height:"35px",color:o?"t.disabled":"t.secondary",fontSize:"14px",cursor:o?"not-allowed":"pointer",bg:"popupBg","&:hover":m({},n)},v),onClick:function(){o||a(t)},children:r},t)}))})}),[o,v,a,g]),C=(0,l.useMemo)((function(){return m(m({userSelect:"none",width:"100%",color:"t.primary",py:"4px",bg:"inputBg",fontSize:"sm",fontWeight:500,mr:"xs",borderRadius:"4px",cursor:"pointer","&:last-of-type":{mr:0}},null==y?void 0:y.DropBpx.sx),s)}),[y,s]);return(0,l.useMemo)((function(){var e;return(0,b.jsx)(p.ZP,{trigger:"click",overlay:O,sx:C,enablePortal:!0,onVisibleChange:h,children:(0,b.jsxs)(d.Z,{justifyContent:"center",alignItems:"center",children:[(0,b.jsx)(c.Z,{children:null===(e=Object.values(o).find((function(e){return e.key===t})))||void 0===e?void 0:e.value}),(0,b.jsx)(u.Z,{color:"#848E9C",sx:{transform:P?"rotate(180deg)":null,transition:"transform 100ms"}})]})})}),[t,o,C,O,P])}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(v,"useMobileOverrideStyles{mobileOverrideStyles}\nuseState{[visible, setVisible](false)}\nuseMemo{overLay}\nuseMemo{dropDownSx}\nuseMemo{}",(function(){return[f.Z]})),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(v,"DropBpx","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/DropBox/DropBox.js"),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)},51182:(e,t,r)=>{r.d(t,{V:()=>m});var o,n,a,s=r(56666),i=r(2784),l=r(92036),u=r(97060),c=r(20423),d=r(38203),p=r(70465),f=r(52322);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sx,r=(0,i.useContext)(d._),o=r.marginType,n=void 0===o?c.Yl.CROSS:o,a=r.setMarginType,s=r.positionMode,b=void 0===s?c.Tw.ONEWAY:s,m=r.setPositionMode,v=(0,u.Fs)(),y=v.isMobile,x=(0,u.yk)(),j=x.getI18n;(0,i.useEffect)((function(){n===c.Yl.ISOLATED&&m(c.Tw.ONEWAY)}),[n,b,m]);var P=(0,i.useMemo)((function(){return[{key:c.Yl.CROSS,value:j("header-Cross",{defaultValue:"Cross"})},{key:c.Yl.ISOLATED,value:j("headerIsolated",{defaultValue:"Isolated"})}]}),[j]),h=(0,i.useMemo)((function(){return[{key:c.Tw.ONEWAY,value:j("OneWayPosition",{defaultValue:"One-way Mode"})},{key:c.Tw.HEDGE,value:j("TwoWayPosition",{defaultValue:"Hedge Mode"}),disabled:n===c.Yl.ISOLATED}]}),[j,n]),O=(0,i.useMemo)((function(){return{width:y?"45.5vw":"143px"}}),[y]),C=(0,i.useMemo)((function(){return g({mb:"ls"},t)}),[t]),L=(0,i.useCallback)((function(e){return a(e)}),[a]),S=(0,i.useCallback)((function(e){return m(e)}),[m]);return(0,f.jsxs)(l.Z,{sx:C,children:[(0,f.jsx)(p.h,{data:P,activeKey:n,onSelectChange:L,overlayBoxSx:O}),(0,f.jsx)(p.h,{data:h,activeKey:b,onSelectChange:S,overlayBoxSx:O})]})}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(m,"useContext{{\n    marginType = MARGIN_TYPE.CROSS,\n    setMarginType,\n    positionMode = POSITION_MODE.ONEWAY,\n    setPositionMode,\n  }}\nuseResponsive{{ isMobile }}\nuseFuturesLanguage{{ getI18n: getFuturesI18n }}\nuseEffect{}\nuseMemo{marginTypes}\nuseMemo{positionModes}\nuseMemo{overlayBoxSx}\nuseMemo{containerSx}\nuseCallback{onMarginTypeChange}\nuseCallback{onPositionChange}",(function(){return[u.Fs,u.yk]})),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(m,"MarginTypeAndPositionMode","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/DropBox/MarginTypeAndPositionMode.js"),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)},24915:(e,t,r)=>{r.d(t,{m:()=>y});var o,n,a,s=r(56666),i=r(2784),l=r(92036),u=r(97060),c=r(38203),d=r(1138),p=r(70465),f=r(38896),b=r(17584),g=r(52322);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(){var e=(0,i.useContext)(c._),t=e.symbol,r=e.setSymbol,o=(0,f.iB)(),n=(0,d.Z)(),a=(0,f.G3)(),s=(0,u.yk)().getI18n,m=(0,i.useMemo)((function(){return Object.values(o).map((function(e){var t=e.symbol;return{key:t,value:a?(0,b.lE)(t,s):t}}))}),[s,a,o]);return(0,g.jsx)(l.Z,{sx:{mb:"ls"},children:(0,g.jsx)(p.h,{data:m,activeKey:t,onSelectChange:function(e){return r(e)},overlayBoxSx:v({width:"295px",maxHeight:"285px"},null==n?void 0:n.SymbolSelect.overlayBoxSx)})})}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(y,"useContext{{ symbol, setSymbol }}\nuseProduct{productMap}\nuseMobileOverrideStyles{mobileOverrideStyles}\nuseDeliveryPath{isDelivery}\nuseFuturesLanguage{{ getI18n: getFutI18n }}\nuseMemo{symbolList}",(function(){return[f.iB,d.Z,f.G3,u.yk]})),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(y,"SymbolSelect","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/DropBox/SymbolSelect.js"),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)},55822:(e,t,r)=>{r.d(t,{Vp:()=>o.V,me:()=>n.m}),r(70465);var o=r(51182),n=r(24915);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature},88502:(e,t,r)=>{r.d(t,{X:()=>m});var o,n=r(56666),a=r(2784),s=r(45362),i=r(38203),l=r(64008),u=r(1138),c=r(52322);function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function p(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var f,b,g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},m=function(e){var t=e.onClick,r=(0,a.useContext)(i._).isCalculateBtnValid,o=(0,l.Z)().getI18n,n=(0,u.Z)(),d=(0,a.useMemo)((function(){return{"&:disabled":{bg:"line",color:"t.third"}}}),[]);return(0,a.useMemo)((function(){return(0,c.jsx)(s.Z,p(p({variant:"default",width:1,sz:"l",disabled:!r,onClick:t,sx:d},p({mt:4},null==n?void 0:n.calculateBtn)),{},{"data-testid":"Calculate",children:o("Calculate",{defaultValue:"Calculate"})}))}),[d,o,r,n,t])};g(m,"useContext{{ isCalculateBtnValid }}\nuseLanguage{{ getI18n }}\nuseMobileOverrideStyles{mobileOverrideStyles}\nuseMemo{buttonSx}\nuseMemo{}",(function(){return[l.Z,u.Z]})),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&f.register(m,"CalculateBtn","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/CalculateBtn.js"),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)},37143:(e,t,r)=>{r.d(t,{Y:()=>p,p:()=>g});var o,n=r(56666),a=r(92036),s=r(62143),i=r(1138),l=r(52322);function u(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?u(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):u(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},p=function(e){var t=e.children,r=e.sx,o=e.overrideSx,n=(0,i.Z)();return(0,l.jsx)(a.Z,{__css:{p:"24px 32px 32px",justifyContent:"space-between"},sx:c(c(c({},r),null==n?void 0:n.form.container),o),children:t})};d(p,"useMobileOverrideStyles{mobileOverrideStyles}",(function(){return[i.Z]}));var f,b,g=function(e){var t,r=e.children,o=(0,i.Z)();return(0,l.jsx)(s.Z,{__css:{width:"50%",mr:4},sx:null==o||null===(t=o.form)||void 0===t?void 0:t.panel,children:r})};d(g,"useMobileOverrideStyles{mobileOverrideStyles}",(function(){return[i.Z]})),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(f.register(p,"FormContainer","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/Container.js"),f.register(g,"FormBody","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/Container.js")),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&b(e)},38203:(e,t,r)=>{r.d(t,{_:()=>i});var o,n=r(2784);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,s,i=(0,n.createContext)({currentLeverageBracket:{}});(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(i,"Context","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/Context.js"),(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&s(e)},95798:(e,t,r)=>{r.d(t,{Co:()=>y,yt:()=>v});var o,n=r(56666),a=r(2784),s=r(16831),i=r(48658),l=r(92036),u=r(62143),c=r(97060),d=r(38896),p=r(1138),f=r(98098),b=r(52322);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function v(e){var t=e.config,r=t.value,o=t.max,n=t.precision,g=t.onChange,v=t.placeholder,y=t.asset,x=t.errorText,j=void 0===x?"":x,P=t.negative,h=void 0!==P&&P,O=t.testId,C=t.type,L=void 0===C?"number":C,S=t.assetLabel,w=void 0===S?null:S,G=t.onAssetLabelClick,k=t.boxProps,M=t.mobileBoxProps,H="rtl"===(0,d.gm)(),I=(0,c.Fs)().isMobile,E=(0,p.Z)(),Z=null==E?void 0:E.custom.TextField,U=(0,a.useCallback)((function(){return G()}),[G]),D=(0,a.useCallback)((function(e){(h||+e>=0)&&+e<=+o&&g(e)}),[o,h,g]),V=(0,a.useCallback)((function(e){return(0,f._p)(e,{fn:D,filed:null,places:n,negative:h})}),[D,h,n]),F=(0,a.useCallback)((function(e){return(0,f.Y5)(e)}),[]),B=(0,a.useMemo)((function(){return v&&(0,b.jsx)(i.Z,{fontSize:14,color:"t.third",sx:null==Z?void 0:Z.prefix,children:v})}),[Z,v]),T=(0,a.useMemo)((function(){return y&&(0,b.jsxs)(l.Z,{justifyContent:"center",alignItems:"center",children:[w&&(0,b.jsx)(u.Z,{sx:{fontSize:"12px",color:"t.yellow",mr:"4px",cursor:"pointer",padding:"3px 4px",borderRadius:"4px","&:hover":{bg:"calculator.inputAssetLabelBg"}},onClick:U,children:w}),(0,b.jsx)(i.Z,{color:"t.primary",fontSize:1,sx:null==Z?void 0:Z.suffix,children:y})]})}),[y,w,Z,U]),N=(0,a.useMemo)((function(){return{sx:I?m(m({},null==Z?void 0:Z.boxProps),M):m({width:"100%",mt:"12px",border:"none",bg:"inputBg",height:"40px",input:{px:"8px"}},k)}}),[k,I,M,Z]),q=(0,a.useMemo)((function(){return m(m({style:H?{textAlign:"right"}:{}},null==Z?void 0:Z.props),O?{"data-test-id":O}:{})}),[H,Z,O]);return(0,a.useMemo)((function(){return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(s.Z,m({type:L,variant:"inline",value:r,onChange:V,onBlur:F,prefix:B,suffix:T,boxProps:N,placeholder:I?(0,f.uf)(0,n):null},q)),!!j&&(0,b.jsx)(u.Z,{sx:{fontSize:"12px",color:"t.sell"},children:j})]})}),[j,N,B,q,T,I,F,V,n,L,r])}function y(e){var t=e.inputs,r=e.boxProps;return(0,b.jsx)(b.Fragment,{children:t.map((function(e,t){return(0,b.jsx)(v,{config:e,boxProps:r},t)}))})}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(v,"useDirection{}\nuseResponsive{{ isMobile }}\nuseMobileOverrideStyles{mobileOverrideStyles}\nuseCallback{onInputAssetLabelClick}\nuseCallback{_onChange}\nuseCallback{onInputChange}\nuseCallback{onInputBlur}\nuseMemo{inputPrefix}\nuseMemo{inputSuffix}\nuseMemo{inputBoxProps}\nuseMemo{inputExtraProps}\nuseMemo{}",(function(){return[d.gm,c.Fs,p.Z]}));var x,j,P=y;(x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(x.register(v,"FormInput","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/FormInputs.js"),x.register(y,"FormInputs","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/FormInputs.js"),x.register(P,"default","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/FormInputs.js")),(j="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&j(e)},6821:(e,t,r)=>{r.d(t,{Q:()=>h});var o,n=r(2784),a=r(92036),s=r(62143),i=r(48658),l=r(51259),u=r(97060),c=r(17584),d=r(38896),p=r(1138),f=r(38203),b=r(20423),g=r(64008),m=r(52322);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var v,y,x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},j={pt:"16px",pb:"12px",".slider-tip":{color:"t.third",fontSize:"12px",pt:"16px",".position-cap":{color:"t.primary",mt:"4px"}}};function P(e,t){var r=[];if(t<10){r=[];for(var o=1;o<=t;o++)r.push(o)}else{r=[e];for(var n=1;n<=5;n++)r.push(Math.floor(n/5*t))}return r}function h(){var e,t=(0,n.useContext)(f._),r=t.leverage,o=t.setLeverage,v=t.currentLeverageBracket,y=t.isLeverageGreaterThan,x=t.symbol,h=(0,g.X)().leveragePositionUnitField,O=(0,u.Fs)().isMobile,C=(0,p.Z)(),L=(0,u.yk)().getI18n,S=(0,d.iB)(),w=(0,d.Gf)(),G=(S[x]||b.oF)[h],k=v.bracketSeq,M=v.bracketNotionalCap,H=k===(null==w||null===(e=w[x])||void 0===e?void 0:e.length),I=(0,d.ho)({symbol:x,brackets:w}).leverageData,E=I.minVal,Z=I.maxVal,U=(0,n.useMemo)((function(){return P(E,Z)}),[Z,E]),D=(0,n.useMemo)((function(){return{min:E,max:Z}}),[Z,E]),V=(0,n.useCallback)((function(e){return o(e)}),[o]),F=(0,n.useMemo)((function(){return(0,m.jsx)(m.Fragment,{children:!H&&(0,m.jsxs)("div",{className:"slider-tip",children:[L("AvailablePositionsTip",{defaultValue:"Max position at current leverage:"}),(0,m.jsxs)("div",{className:"position-cap",children:[(0,c.kh)(M)," ",G]})]})})}),[M,L,H,y,G]),B=(0,n.useMemo)((function(){var e;return(0,m.jsxs)(m.Fragment,{children:[" ",!H&&(0,m.jsxs)(a.Z,{justifyContent:"space-between",__css:{fontSize:0,pt:2,color:"calculator.labelColor","& > span":{color:"t.primary"},"&.active":{color:"#F23051",span:{color:"#F23051"}},"&.active > span":{color:"#F23051"}},sx:null==C||null===(e=C.form)||void 0===e?void 0:e.tip,className:y?"active":"",children:[(0,m.jsx)(s.Z,{sx:{fontSize:"12px",lineHeight:"16px"},children:L("AvailablePositionsTip")}),(0,m.jsxs)(s.Z,{children:[(0,m.jsxs)(i.Z,{as:"span",sx:{color:"calculator.numberColor",fontWeight:500},children:[" ",(0,c.kh)(M)," "]}),(0,m.jsx)("span",{children:G})]})]})]})}),[M,L,H,C,G,y]);return O?(0,m.jsxs)(s.Z,{mb:"8px",children:[(0,m.jsx)(l.Z,{progress:r,range:D,onChange:V,unit:"x",steppers:U,showScales:!0}),B]}):(0,m.jsxs)(s.Z,{sx:j,children:[(0,m.jsx)(l.Z,{progress:r,range:D,onChange:V,unit:"x",px:"0px",steppers:U,showScales:!0}),F]})}x(h,"useContext{{ leverage, setLeverage, currentLeverageBracket, isLeverageGreaterThan, symbol }}\nuseContractConfig{{ leveragePositionUnitField }}\nuseResponsive{{ isMobile }}\nuseMobileOverrideStyles{mobileOverrideStyles}\nuseFuturesLanguage{{ getI18n: getFuturesI18n }}\nuseProduct{productMap}\nuseBrackets{brackets}\nuseLeverageData{{\n    leverageData: { minVal: min, maxVal: max },\n  }}\nuseMemo{sliderSteppers}\nuseMemo{sliderRange}\nuseCallback{sliderOnChange}\nuseMemo{sliderTip}\nuseMemo{sliderTipMobile}",(function(){return[g.X,u.Fs,p.Z,u.yk,d.iB,d.Gf,d.ho]})),(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(10,"MINIMUM_LEVERAGE_GEAR","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/LeverageSlider.js"),v.register(5,"STEPPER_LENGTH","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/LeverageSlider.js"),v.register(j,"STYLE","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/LeverageSlider.js"),v.register(P,"toSteps","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/LeverageSlider.js"),v.register(h,"LeverageSlider","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/LeverageSlider.js")),(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&y(e)},21498:(e,t,r)=>{r.d(t,{G:()=>m});var o,n=r(2784),a=r(92036),s=r(45362),i=r(64008),l=r(1138),u=r(38203),c=r(20423),d=r(52322);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var p,f,b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},g={button:{flex:1,"&.normal-button":{bg:"inputBg",color:"t.primary","&:hover:not(:disabled):not(:active):not(.inactive)":{bg:"line"}},"&.long-button":{"&:hover:not(:disabled):not(:active)":{bg:"buyHover"},"&:active":{bg:"buyHover"}},"&.short-button":{"&:hover:not(:disabled):not(:active)":{bg:"sellHover"},"&:active":{bg:"sellHover"}}}},m=function(){var e=(0,i.Z)().getI18n,t=(0,l.Z)(),r=(0,n.useContext)(u._),o=r.positionDirection,p=r.setPositionDirection,f=r.marginType,b=r.positionMode,m=(0,n.useCallback)((function(){return p(c.DD.LONG)}),[p]),v=(0,n.useCallback)((function(){return p(c.DD.SHORT)}),[p]);return(0,n.useMemo)((function(){if(f===c.Yl.ISOLATED&&b===c.Tw.HEDGE)return null;var t=o===c.DD.LONG,r=o===c.DD.SHORT;return(0,d.jsxs)(a.Z,{sx:g,children:[(0,d.jsx)(s.Z,{variant:"default",colorStyle:"buy",className:t?"long-button":"normal-button",onClick:m,"data-testid":"LongButton",children:e("Long",{defaultValue:"Long"})}),(0,d.jsx)(s.Z,{variant:"default",colorStyle:"sell",className:r?"short-button":"normal-button",onClick:v,"data-testid":"ShortButton",children:e("Short",{defaultValue:"Short"})})]})}),[e,f,t,m,v,o,b])};b(m,"useLanguage{{ getI18n }}\nuseMobileOverrideStyles{mobileOverrideStyles}\nuseContext{{ positionDirection, setPositionDirection, marginType, positionMode }}\nuseCallback{onLongDirectionClick}\nuseCallback{onShortDirectionClick}\nuseMemo{}",(function(){return[i.Z,l.Z]})),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(g,"STYLE","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/PositionDirectionSwitch.js"),p.register(m,"PositionDirectionSwitch","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/PositionDirectionSwitch.js")),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&f(e)},83857:(e,t,r)=>{r.d(t,{z:()=>g});var o,n=r(2867),a=r(2784),s=r(20423),i=r(38896),l=r(38203),u=r(23131),c=r(52322);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var d,p,f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},b=u.Fy.leverageInfo.defaultVal,g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.children,r=(0,i.z4)()[0],o=(0,a.useState)(!1),u=(0,n.Z)(o,2),d=u[0],p=u[1],f=(0,a.useState)(r),g=(0,n.Z)(f,2),m=g[0],v=g[1],y=(0,a.useState)(s.DD.LONG),x=(0,n.Z)(y,2),j=x[0],P=x[1],h=(0,a.useState)(s.Yl.CROSS),O=(0,n.Z)(h,2),C=O[0],L=O[1],S=(0,a.useState)(s.Tw.ONEWAY),w=(0,n.Z)(S,2),G=w[0],k=w[1],M=(0,a.useState)(!1),H=(0,n.Z)(M,2),I=H[0],E=H[1],Z=(0,i.Gf)(),U=(0,i.ho)({symbol:m,brackets:Z}),D=U.findLeverageByLevel,V=U.leverageData.maxVal,F=(0,a.useState)(Math.min(V,b)),B=(0,n.Z)(F,2),T=B[0],N=B[1],q=D(T),R=d&&!I;return(0,a.useEffect)((function(){v(r)}),[r]),(0,a.useEffect)((function(){N(Math.min(V,b))}),[V,N,m]),(0,c.jsx)(l._.Provider,{value:{symbol:m,setSymbol:v,leverage:T,setLeverage:N,isLeverageGreaterThan:I,setIsLeverageGreaterThan:E,currentLeverageBracket:q||{},positionDirection:j,setPositionDirection:P,marginType:C,setMarginType:L,positionMode:G,setPositionMode:k,setIsFormValid:p,isCalculateBtnValid:R},children:t})};f(g,"useSymbol{}\nuseState{[isFormValid, setIsFormValid](false)}\nuseState{[symbol, setSymbol](originSymbol)}\nuseState{[positionDirection, setPositionDirection](POSITION_DIRECTION_MAP.LONG)}\nuseState{[marginType, setMarginType](MARGIN_TYPE.CROSS)}\nuseState{[positionMode, setPositionMode](POSITION_MODE.ONEWAY)}\nuseState{[isLeverageGreaterThan, setIsLeverageGreaterThan](false)}\nuseBrackets{brackets}\nuseLeverageData{{\n    findLeverageByLevel,\n    leverageData: { maxVal: max },\n  }}\nuseState{[leverage, setLeverage](Math.min(max, defaultLeverage))}\nuseEffect{}\nuseEffect{}",(function(){return[i.z4,i.Gf,i.ho]})),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(b,"defaultLeverage","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/Provider.js"),d.register(g,"Provider","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/Provider.js")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},55589:(e,t,r)=>{r.d(t,{u:()=>L});var o=r(2867),n=r(56666),a=r(2784),s=r(62143),i=r(48658),l=r(21209),u=r(92036),c=r(45362),d=r(21030),p=r(5163),f=r(98569);const b=function(e){return a.createElement(f.Z,(0,p.__assign)({width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24"},e),a.createElement("path",{d:"M12 9a1 1 0 100-2 1 1 0 100 2zm0 8a1 1 0 001-1v-5a1 1 0 10-2 0v5a1 1 0 001 1z"}),a.createElement("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12s4.477 10 10 10 10-4.477 10-10zm-2 0a8 8 0 10-16 0 8 8 0 0016 0z",clipRule:"evenodd"}))};var g,m=r(64008),v=r(1138),y=r(97060),x=r(77376),j=r(52322);function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}e=r.hmd(e),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&g(e);var O="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},C={width:"50%",p:"24px",pt:0,position:"relative",borderLeft:"0.5px solid",borderLeftColor:"line",".title":{mb:"28px",fontStyle:"normal",fontWeight:500,fontSize:"md",lineHeight:"24px",color:"t.primary"},".field":{mt:"12px",display:"flex",fontSize:"14px",justifyContent:"space-between"},".label":{color:"t.third"},".value":{color:"t.primary"},".description":{fontSize:"12px",lineHeight:"16px",color:"t.third",position:[null,"absolute"],bottom:"16px",mr:"16px"}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.results,r=e.sx,o=e.titleSx,n=e.itemSx,l=(0,m.Z)(),u=l.getI18n,c=(0,v.Z)();return(0,a.useMemo)((function(){return(0,j.jsxs)(s.Z,{sx:h(h(h({},C),r),null==c?void 0:c.result.container),children:[(0,j.jsx)(i.Z,{className:"title",sx:h(h({},o),null==c?void 0:c.result.title),children:u("Result",{defaultValue:"Result"})}),(0,j.jsx)(s.Z,{children:(0,j.jsx)(k,{items:t,sx:n})})]})}),[u,n,c,t,r,o])};O(L,"useLanguage{{ getI18n }}\nuseMobileOverrideStyles{mobileOverrideStyles}\nuseMemo{}",(function(){return[m.Z,v.Z]}));var S,w,G={bg:"calculator.dialogBg",userSelect:"none",width:["calc(100vw - 32px)","680px","680px"],"& .bn-slider-radio-tooltip":{color:"calculator.sliderTipColor",display:"block"},"& .bn-slider-available-step":{color:"calculator.sliderLabelColor"},"& .bn-input-prefix > div":{color:"calculator.inputPrefixColor"},"& .bn-slider-radio-button":{boxShadow:"none !important"},"& > svg":{color:"calculator.closeIconColor","&:hover":{color:"calculator.closeIconActiveColor"}},borderRadius:"7px"};function k(e){var t=e.items,r=e.sx,n=(0,a.useState)(!1),s=(0,o.Z)(n,2),p=s[0],f=s[1],g=(0,v.Z)(),m=(0,y.yk)().getI18n;return(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(l.Z,{visible:Boolean(p),onMaskClick:function(){return f(null)},sx:G,children:(0,j.jsxs)(u.Z,{flexDirection:"column",children:[(0,j.jsx)(i.Z,{sx:{px:"24px",py:"32px",fontSize:"14px",lineHeight:"22px",color:"calculator.numberColor",boxShadow:"0px 2px 8px rgba(11, 14, 17, 0.3)"},children:p}),(0,j.jsx)(c.Z,{sx:{height:"54px",borderTop:"1px solid",borderColor:"calculator.resultBg",fontSize:"17px",fontWeight:"normal",bg:"calculator.dialogBg"},onClick:function(){return f(null)},children:m("CalculatorMobile-PNLTooltipConfirm",{defaultValue:"Ok, got it"})})]})}),t.map((function(e,t){var o,n,a,s,l=e.value,c=e.label,p=e.asset,m=e.description,v=e.labelTooltip,y=e.testId;return(0,j.jsxs)(u.Z,h(h({className:"field"},y?{"data-testid":y}:{}),{},{sx:r,children:[!v&&(0,j.jsx)(i.Z,{className:"label",sx:null==g||null===(o=g.result)||void 0===o?void 0:o.label,children:c}),!!v&&(0,j.jsx)(x.Z,{children:function(e){var t;return e.isMobile?(0,j.jsxs)(u.Z,{className:"label",sx:null==g||null===(t=g.result)||void 0===t?void 0:t.tooltipLabel,onClick:function(){return f(v)},children:[(0,j.jsx)(i.Z,{mr:"8px",children:c}),(0,j.jsx)(b,{size:18})]}):(0,j.jsx)(d.Z,{tip:v,children:(0,j.jsx)(i.Z,{className:"label",children:c})})}}),(l||0===l)&&(0,j.jsx)(i.Z,{className:"label",sx:null==g||null===(n=g.result)||void 0===n?void 0:n.label,children:(0,j.jsxs)(i.Z,{className:"value",as:"span",sx:null==g||null===(a=g.result)||void 0===a?void 0:a.value,children:[l," ",p]})}),m&&(0,j.jsx)(i.Z,{className:"description",sx:null==g||null===(s=g.result)||void 0===s?void 0:s.description,children:m})]}),t)}))]})}O(k,"useState{[dialog, setDialog](false)}\nuseMobileOverrideStyles{mobileOverrideStyles}\nuseFuturesLanguage{{ getI18n: getFuturesI18n }}",(function(){return[v.Z,y.yk]})),(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(S.register(C,"STYLE","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/Results.js"),S.register(L,"Results","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/Results.js"),S.register(G,"dialogSx","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/Results.js"),S.register(k,"Result","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/Results.js")),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&w(e)},805:(e,t,r)=>{r.d(t,{Gc:()=>o.G,QY:()=>i.Q,XU:()=>n.X,Yb:()=>l.Y,p5:()=>l.p,u9:()=>a.u,zt:()=>s.z});var o=r(21498),n=r(88502),a=r(55589),s=r(83857),i=r(6821),l=r(37143);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature},15434:(e,t,r)=>{r.d(t,{Co:()=>o.Co,me:()=>n.me,yt:()=>o.yt});var o=r(95798),n=r(55822);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature},20423:(e,t,r)=>{var o;r.d(t,{DD:()=>i,Tw:()=>c,Yl:()=>u,nU:()=>d,oF:()=>s,uf:()=>l}),e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var n,a,s={baseAsset:"BTC",quoteAsset:"USDT",pricePrecision:2,quantityPrecision:2,tickSizePrecision:2},i={LONG:"LONG",SHORT:"SHORT"},l="-",u={ISOLATED:"ISOLATED",CROSS:"CROSS"},c={ONEWAY:"ONEWAY",HEDGE:"HEDGE"},d=1e10;(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(n.register(s,"DEFAULT_PRODUCT","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/constants.js"),n.register(i,"POSITION_DIRECTION_MAP","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/constants.js"),n.register(l,"INIT_VALUE","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/constants.js"),n.register(u,"MARGIN_TYPE","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/constants.js"),n.register(c,"POSITION_MODE","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/constants.js"),n.register(d,"MAX_QTY_PRICE_AMOUNT","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/constants.js")),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)},64008:(e,t,r)=>{r.d(t,{X:()=>n.X,Z:()=>o.Z});var o=r(34952),n=r(28692);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature},28692:(e,t,r)=>{r.d(t,{X:()=>P});var o,n=r(56666),a=r(2784),s=r(44174),i=r(26786),l=r(48752),u=r(74220),c=r(38896),d=r(97060),p=r(90614),f=r(20423);function b(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function g(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?b(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):b(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var m,v,y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},x=function(e){var t=e.isCoinUnit,r=e.tickSizePrecision,o=e.quantityPrecision;return{helper:g(g({},u),{},{openPrice:t?u.openPriceCoin:u.openPriceUSDT}),walletBalancePrecision:2,leveragePositionUnitField:"quoteAsset",getUnitChangeQty:function(e){var r=e.quantity,n=e.entryPrice;return t?r:(0,i.GW)(r/n,o)},getCoinUnitUnit:function(e){return e.product.baseAsset},getQuantityUnit:function(e){var r=e.product;return t?r.baseAsset:r.marginAsset},getQuantityPrecision:function(e){var o=e.product;return t?o.quantityPrecision:r},getNotionalValue:function(e){var r=e.quantity,o=e.entryPrice;return t?r*o:r}}},j=function(e){var t=e.isCoinUnit,r=e.getFuturesI18n;return{helper:g(g({},l),{},{openPrice:t?l.openPriceCoin:l.openPriceCont}),walletBalancePrecision:4,leveragePositionUnitField:"baseAsset",getUnitChangeQty:function(e){var r=e.quantity,o=e.entryPrice,n=e.contractVal;return t?Math.floor(r*o/n):r},getCoinUnitUnit:function(){return r("Cont",{defaultValue:"Cont"})},getQuantityUnit:function(e){var o=e.product;return t?o.baseAsset:r("Cont",{defaultValue:"Cont"})},getQuantityPrecision:function(e){var r=e.product;return t?r.equalQtyPrecision:r.quantityPrecision},getNotionalValue:function(e){var r=e.quantity,o=e.entryPrice,n=e.contractVal;return t?r:r*n/o}}};function P(){var e=(0,c.G3)(),t=(0,d.yk)().getI18n,r=(0,c.QV)(),o=(0,p.QV)(),n=(0,c.j2)()||f.oF,i=n.tickSize,l=n.quantityPrecision,u=(0,s.p8)(i);return(0,a.useMemo)((function(){return e?j({getFuturesI18n:t,isCoinUnit:o.isCoinUnit}):x({isCoinUnit:r.isCoinUnit,tickSizePrecision:u,quantityPrecision:l})}),[e,t,o.isCoinUnit,r.isCoinUnit,u,l])}y(P,"useDeliveryPath{isDelivery}\nuseFuturesLanguage{{ getI18n: getFuturesI18n }}\nusePerpetualPreferenceUnit{perpetualPreferenceUnit}\nuseDeliveryPreferenceUnit{deliveryPreferenceUnit}\nuseCurrentProduct{}\nuseMemo{}",(function(){return[c.G3,d.yk,c.QV,p.QV,c.j2]})),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(m.register(x,"genPerpetualConfig","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/hooks/useContractConfig.js"),m.register(j,"genDeliveryConfig","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/hooks/useContractConfig.js"),m.register(P,"useContractConfig","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/hooks/useContractConfig.js")),(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&v(e)},63752:(e,t,r)=>{r.d(t,{k:()=>O});var o,n=r(56666),a=r(2867),s=r(2784),i=r(92036),l=r(62143),u=r(38896),c=r(64008),d=r(20423),p=r(15434),f=r(38203),b=r(52322);function g(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function m(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?g(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):g(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var v,y,x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},j=(0,s.forwardRef)(x((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.walletBalance,r=e.walletBalanceInput,o=arguments.length>1?arguments[1]:void 0,n=(0,s.useContext)(f._),i=n.symbol,l=n.setIsLeverageGreaterThan,g=n.currentLeverageBracket.bracketNotionalCap,m=n.isFormValid,v=n.setIsFormValid,y=(0,c.X)(),x=y.getQuantityPrecision,j=y.getQuantityUnit,P=y.getUnitChangeQty,h=y.getNotionalValue,O=(0,c.Z)(),C=O.getI18n,L=(0,u.iB)(),S=L[i]||d.oF,w=S.quoteAsset,G=S.pricePrecision,k=S.contractVal,M=void 0===k?100:k,H=(0,s.useState)(""),I=(0,a.Z)(H,2),E=I[0],Z=I[1],U=(0,s.useState)(""),D=(0,a.Z)(U,2),V=D[0],F=D[1],B=(0,s.useCallback)((function(e){var t=e.quantity;return P({quantity:t,entryPrice:E,contractVal:M})}),[M,E,P]);return(0,s.useImperativeHandle)(o,(function(){return{getFormData:function(){return{entryPrice:+E,quantity:B({quantity:V})}}}})),(0,s.useEffect)((function(){l(h({quantity:V,entryPrice:E,contractVal:M})>g)}),[g,M,E,h,V,l]),(0,s.useEffect)((function(){var e=!!(E&&t&&V);m!==e&&v(e)}),[E,t,V,v,m]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(p.Co,{inputs:[{value:E,max:d.nU,precision:G,onChange:Z,placeholder:C("entryPrice",{defaultValue:"Entry Price"}),asset:w},{value:V,max:d.nU,precision:x({product:S}),onChange:F,placeholder:C("quantity",{defaultValue:"Quantity"}),asset:j({product:S})}]}),(0,b.jsx)(p.Co,{inputs:r})]})}),"useContext{{\n    symbol,\n    setIsLeverageGreaterThan,\n    currentLeverageBracket: { bracketNotionalCap },\n    isFormValid,\n    setIsFormValid,\n  }}\nuseContractConfig{{ getQuantityPrecision, getQuantityUnit, getUnitChangeQty, getNotionalValue }}\nuseLanguage{{ getI18n }}\nuseProduct{productMap}\nuseState{[entryPrice, setEntryPrice]('')}\nuseState{[quantity, setQuantity]('')}\nuseCallback{getUnitChangeQtyFn}\nuseImperativeHandle{}\nuseEffect{}\nuseEffect{}",(function(){return[c.X,c.Z,u.iB,s.useImperativeHandle]}))),P=function(e){var t=e.color,r=e.text;return(0,b.jsx)(i.Z,{alignItems:"center",sx:{fontSize:"14px",color:t,"&::before":{content:'""',display:"inline-block",width:"4px",height:"12px",mr:"8px",bg:t}},children:r})},h=(0,s.forwardRef)(x((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.walletBalance,r=e.walletBalanceInput,o=arguments.length>1?arguments[1]:void 0,i=(0,s.useContext)(f._),g=i.isFormValid,m=i.setIsFormValid,v=i.setIsLeverageGreaterThan,y=i.currentLeverageBracket.bracketNotionalCap,x=(0,c.X)(),j=x.getQuantityPrecision,h=x.getQuantityUnit,O=x.getUnitChangeQty,C=x.getNotionalValue,L=(0,c.Z)(),S=L.getI18n,w=(0,u.z4)(),G=(0,a.Z)(w,1),k=G[0],M=(0,u.iB)(),H=M[k]||d.oF,I=H.quoteAsset,E=H.pricePrecision,Z=H.contractVal,U=void 0===Z?100:Z,D=(0,s.useState)(""),V=(0,a.Z)(D,2),F=V[0],B=V[1],T=(0,s.useState)(""),N=(0,a.Z)(T,2),q=N[0],R=N[1],A=(0,s.useState)(""),Q=(0,a.Z)(A,2),_=Q[0],z=Q[1],W=(0,s.useState)(""),Y=(0,a.Z)(W,2),X=Y[0],K=Y[1],$=(0,s.useCallback)((function(e){var t=e.quantity,r=e.entryPrice;return O({quantity:t,entryPrice:r,contractVal:U})}),[U,O]);return(0,s.useImperativeHandle)(o,(function(){return{getFormData:function(){var e;return e={},(0,n.Z)(e,d.DD.LONG,{entryPrice:F,quantity:$({quantity:_,entryPrice:F,contractVal:U})}),(0,n.Z)(e,d.DD.SHORT,{entryPrice:q,quantity:$({quantity:X,entryPrice:q,contractVal:U})}),e}}})),(0,s.useEffect)((function(){var e=!!(F&&q&&_&&X&&t);g!==e&&m(e)}),[t,m,F,q,_,X,g]),(0,s.useEffect)((function(){v(Math.max(C({quantity:_,entryPrice:F,contractVal:U}),C({quantity:X,entryPrice:q,contractVal:U}))>y)}),[y,U,C,F,_,v,q,X]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsxs)(l.Z,{sx:{mb:"24px"},children:[(0,b.jsx)(P,{color:"buy",text:S("Long",{defaultValue:"Long"})}),(0,b.jsx)(p.Co,{inputs:[{value:F,max:d.nU,precision:E,onChange:B,placeholder:S("entryPrice",{defaultValue:"Entry Price"}),asset:I},{value:_,max:d.nU,precision:j({product:H}),onChange:z,placeholder:S("quantity",{defaultValue:"Quantity"}),asset:h({product:H})}]})]}),(0,b.jsxs)(l.Z,{sx:{mb:"24px"},children:[(0,b.jsx)(P,{color:"sell",text:S("Short",{defaultValue:"Short"})}),(0,b.jsx)(p.Co,{inputs:[{value:q,max:d.nU,precision:E,onChange:R,placeholder:S("entryPrice",{defaultValue:"Entry Price"}),asset:I},{value:X,max:d.nU,precision:j({product:H}),onChange:K,placeholder:S("quantity",{defaultValue:"Quantity"}),asset:h({product:H})}]})]}),(0,b.jsx)(p.Co,{inputs:r,boxProps:{mt:0}})]})}),"useContext{{\n    isFormValid,\n    setIsFormValid,\n    setIsLeverageGreaterThan,\n    currentLeverageBracket: { bracketNotionalCap },\n  }}\nuseContractConfig{{ getQuantityPrecision, getQuantityUnit, getUnitChangeQty, getNotionalValue }}\nuseLanguage{{ getI18n }}\nuseSymbol{[symbol]}\nuseProduct{productMap}\nuseState{[longEntryPrice, setLongEntryPrice]('')}\nuseState{[shortEntryPrice, setShortEntryPrice]('')}\nuseState{[longQuantity, setLongQuantity]('')}\nuseState{[shortQuantity, setShortQuantity]('')}\nuseCallback{getUnitChangeQtyFn}\nuseImperativeHandle{}\nuseEffect{}\nuseEffect{}",(function(){return[c.X,c.Z,u.z4,u.iB,s.useImperativeHandle]}))),O=(0,s.forwardRef)(x((function(e,t){var r=(0,s.useContext)(f._),o=r.marginType,n=r.positionMode;return o===d.Yl.CROSS&&n===d.Tw.HEDGE?(0,b.jsx)(h,m({ref:t},e)):(0,b.jsx)(j,m({ref:t},e))}),"useContext{{ marginType, positionMode }}"));(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(j,"LiqBaseAndAmountInput","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/LiquidationPrice/LiquidationPriceInputs.js"),v.register(P,"PositionDirectionLabel","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/LiquidationPrice/LiquidationPriceInputs.js"),v.register(h,"LiqLongShortPriceAndAmountInput","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/LiquidationPrice/LiquidationPriceInputs.js"),v.register(O,"LiqPriceAndAmountInput","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/LiquidationPrice/LiquidationPriceInputs.js")),(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&y(e)},68779:(e,t,r)=>{r.d(t,{Z:()=>C});var o,n=r(56666),a=r(2867),s=r(2784),i=r(97060),l=r(38896),u=r(26786),c=r(98098),d=r(34952),p=r(20423),f=r(805),b=r(38203),g=r(55822),m=r(63752),v=r(64008),y=r(52322);function x(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function j(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?x(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):x(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var P="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},h=function(){var e,t,r,o,n=(0,s.useContext)(b._),x=n.symbol,P=n.marginType,h=n.positionMode,O=n.positionDirection,C=n.leverage,L=(0,v.X)(),S=L.helper,w=L.walletBalancePrecision,G=L.getUnitChangeQty,k=(0,d.Z)().getI18n,M=(0,l._n)(),H=(0,l.iB)(),I=H[x]||p.oF,E=(0,l.KQ)(),Z=(0,l.$J)()||{},U=(0,l.F)(),D=(0,l.Gf)()||{},V=(0,i.Fs)().isMobile,F=(0,i.yk)().getI18n,B=null===(e=(0,l.CE)()[x])||void 0===e?void 0:e.markPrice,T=h===p.Tw.ONEWAY,N=I.quoteAsset,q=I.marginAsset,R=I.pricePrecision,A=I.contractVal,Q=void 0===A?100:A,_=M?P===p.Yl.CROSS?null==E||null===(t=E[q])||void 0===t?void 0:t.crossWalletBalance:(null===(r=Z[x])||void 0===r?void 0:r.isolatedWallet)||(null==E||null===(o=E[q])||void 0===o?void 0:o.crossWalletBalance):"",z=(0,s.useState)(0===Number(_)?"":(0,u.GW)(_,w)),W=(0,a.Z)(z,2),Y=W[0],X=W[1],K=(0,s.useState)(p.uf),$=(0,a.Z)(K,2),J=$[0],ee=$[1],te=(0,s.useState)(null),re=(0,a.Z)(te,2),oe=re[0],ne=re[1],ae=((0,s.useCallback)((function(e){var t=e.quantity,r=e.entryPrice;return G({quantity:t,entryPrice:r,contractVal:Q})}),[Q,G]),(0,s.useCallback)((function(){ee(p.uf),ne(F("calculator-liqPriceIsVerifyTip",{defaultValue:"Insufficient wallet balance (initial margin) to open a position."}))}),[F])),se=(0,s.useRef)(),ie=(0,s.useMemo)((function(){return[{value:J,label:k("liqPrice",{defaultValue:"Liquidation Price"}),asset:N,testId:"LiquidationPriceValue"},{description:k("liqPriceTip",{defaultValue:"Liquidation Price Tip"})}]}),[J,N,k]),le=(0,s.useMemo)((function(){return T?{}:{mb:0}}),[T]),ue=(0,s.useCallback)((function(){var e,t=se.current.getFormData(),r=O===p.DD.LONG?1:-1,o={symbol:x,brackets:D,positions:U,productMap:H,walletBalance:Y,marginType:P,positionMode:h};if(ne(null),T){var n=t.entryPrice,a=t.quantity;e=S.liquidationPrice(j(j({},o),{},{curPosition:{entryPrice:n,positionSize:a*r,contractVal:Q}})),S.isLiqPriceInValid({walletBalance:Y,entryPrice:n,quantity:a,leverage:C,contractVal:Q})?ae():ee(e<0?p.uf:(0,c.uf)(e,R))}else{var s=t[p.DD.LONG],i=s.entryPrice,l=s.quantity,u=t[p.DD.SHORT],d=u.entryPrice,f=u.quantity,b={entryPrice:i,positionSize:l,contractVal:Q,markPrice:B},g={entryPrice:d,positionSize:f,contractVal:Q,markPrice:B};e=S.liquidationPrice(j(j({},o),{},{curPosition:{markPrice:B},longPosition:b,shortPosition:g})),S.isLiqPriceInValidHEDGE({walletBalance:Y,leverage:C,longPosition:j({quantity:b.positionSize},b),shortPosition:j({quantity:g.positionSize},g),contractVal:Q})?ae():ee(e<0?p.uf:(0,c.uf)(e,R))}}),[D,Q,S,T,C,P,B,O,h,R,H,ae,x,U,Y]);return(0,s.useEffect)((function(){X((0,u.GW)(_,w))}),[_,w,P]),(0,y.jsxs)(f.Yb,{children:[(0,y.jsxs)(f.p5,{children:[(0,y.jsx)(g.Vp,{sx:le}),T&&(0,y.jsx)(f.Gc,{}),(0,y.jsx)(f.QY,{}),(0,y.jsx)(m.k,{ref:se,walletBalance:Y,walletBalanceInput:[{value:Y,max:p.nU,precision:w,onChange:X,placeholder:k("walletBalance",{defaultValue:"Wallet Balance"}),asset:q,testId:"WalletBalanceInput",errorText:oe}]}),V&&(0,y.jsx)(f.u9,{results:ie}),(0,y.jsx)(f.XU,{onClick:ue})]}),!V&&(0,y.jsx)(f.u9,{results:ie})]})};P(h,"useContext{{ symbol, marginType, positionMode, positionDirection, leverage }}\nuseContractConfig{{ helper, walletBalancePrecision, getUnitChangeQty }}\nuseLanguage{{ getI18n }}\nuseIsLogin{isLoggedIn}\nuseProduct{productMap}\nuseBalance{balances}\nusePositions{}\nuseValidPositionArr{validPositionArr}\nuseBrackets{}\nuseResponsive{{ isMobile }}\nuseFuturesLanguage{{ getI18n: getFuturesI18n }}\nuseMarkPrice{}\nuseState{[walletBalance, setWalletBalance](Number(initialBalance) === 0 ? '' : floor(initialBalance, walletBalancePrecision))}\nuseState{[liquidationPrice, setLiquidationPrice](INIT_VALUE)}\nuseState{[errorText, setErrorText](null)}\nuseCallback{getUnitChangeQtyFn}\nuseCallback{setWbErrorWhenInvalidLiq}\nuseRef{formRef}\nuseMemo{results}\nuseMemo{marginAndTypeSwitchSx}\nuseCallback{onCalculator}\nuseEffect{}",(function(){return[v.X,d.Z,l._n,l.iB,l.KQ,l.$J,l.F,l.Gf,i.Fs,i.yk,l.CE]}));var O=function(e){return(0,y.jsx)(f.zt,{children:(0,y.jsx)(h,j({},e))})};const C=O;var L,S;(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(L.register(h,"LiquidationPrice","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/LiquidationPrice/index.js"),L.register(O,"default","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/LiquidationPrice/index.js")),(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&S(e)},81492:(e,t,r)=>{r.d(t,{Z:()=>O});var o,n,a,s=r(56666),i=r(2867),l=r(2784),u=r(97060),c=r(38896),d=r(15509),p=r(805),f=r(38203),b=r(15434),g=r(64008),m=r(20423),v=r(26786),y=r(98098),x=r(52322);function j(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function P(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?j(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):j(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function h(){var e,t,r,o=(0,l.useContext)(f._),n=o.symbol,a=o.setIsFormValid,s=o.currentLeverageBracket.bracketNotionalCap,j=o.leverage,P=(0,g.X)(),h=P.helper,O=P.walletBalancePrecision,C=P.getCoinUnitUnit,L=(0,g.Z)().getI18n,S=(0,u.yk)().getI18n,w=(0,u.Fs)().isMobile,G=(0,c._n)(),k=(0,c.iB)()[n]||m.oF,M=k.quoteAsset,H=k.pricePrecision,I=k.marginAsset,E=(0,c.KQ)(),Z=(null===(e=(0,d.Pj)().nextTickers)||void 0===e||null===(t=e.find((function(e){return e.symbol===n})))||void 0===t?void 0:t.lastPrice)||0,U=G?(0,v.GW)(null==E||null===(r=E[I])||void 0===r?void 0:r.crossWalletBalance,O):"",D=(0,l.useState)(""),V=(0,i.Z)(D,2),F=V[0],B=V[1],T=(0,l.useState)(0===Number(U)?"":U),N=(0,i.Z)(T,2),q=N[0],R=N[1],A=(0,l.useState)(m.uf),Q=(0,i.Z)(A,2),_=Q[0],z=Q[1],W=(0,l.useState)(m.uf),Y=(0,i.Z)(W,2),X=Y[0],K=Y[1],$=(0,l.useMemo)((function(){return[{value:F,max:m.nU,precision:H,onChange:B,placeholder:L("entryPrice",{defaultValue:"Entry Price"}),asset:M,assetLabel:S("lastPrice",{defaultValue:"Last Price"}),onAssetLabelClick:function(){var e;B((null===(e=+Z)||void 0===e?void 0:e.toFixed(H))||0)}},{value:q,max:m.nU,precision:O,onChange:R,placeholder:L("walletBalance",{defaultValue:"Wallet Balance"}),asset:I}]}),[F,S,L,O,Z,H,M,q,I]),J=(0,l.useMemo)((function(){return[{value:_,label:"".concat(L("maxOpen",{defaultValue:"Max Open"})," (").concat(C({product:k}),")")},{value:X,label:"".concat(L("maxOpen",{defaultValue:"Max Open"})," (").concat(I,")")},{description:L("maxopentip",{defaultValue:"Max Open Tip"})}]}),[X,L,C,k,_,I]),ee=(0,l.useCallback)((function(){var e=h.maxOpenQuantity({walletBalance:q,leverage:j,entryPrice:F,contractVal:k.contractVal,bracketNotionalCap:s}),t=h.maxOpenCoin({walletBalance:q,leverage:j,bracketNotionalCap:s});K((0,y.qh)(t)?t:m.uf),z((0,y.qh)(e)?e:m.uf)}),[h,q,j,F,k.contractVal,s]);return(0,l.useEffect)((function(){a(!(!F||!q))}),[F,a,q]),(0,l.useEffect)((function(){z(m.uf),K(m.uf),B(""),R(U)}),[U,n]),(0,x.jsxs)(p.Yb,{children:[(0,x.jsxs)(p.p5,{children:[!w&&(0,x.jsx)(b.me,{}),(0,x.jsx)(p.Gc,{}),(0,x.jsx)(p.QY,{}),(0,x.jsx)(b.Co,{inputs:$}),w&&(0,x.jsx)(p.u9,{results:J}),(0,x.jsx)(p.XU,{onClick:ee})]}),!w&&(0,x.jsx)(p.u9,{results:J})]})}function O(e){return(0,x.jsx)(p.zt,{children:(0,x.jsx)(h,P({},e))})}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(h,"useContext{{\n    symbol,\n    setIsFormValid,\n    currentLeverageBracket: { bracketNotionalCap },\n    leverage,\n  }}\nuseContractConfig{{ helper, walletBalancePrecision, getCoinUnitUnit }}\nuseLanguage{{ getI18n }}\nuseFuturesLanguage{{ getI18n: getFuturesI18n }}\nuseResponsive{{ isMobile }}\nuseIsLogin{isLoggedIn}\nuseProduct{productMap}\nuseBalance{balances}\nuseFuturesMarket{market}\nuseState{[entryPrice, setEntryPrice]('')}\nuseState{[walletBalance, setWalletBalance](Number(initialBalance) === 0 ? '' : initialBalance)}\nuseState{[maxOpenQuantity, setMaxOpenQuantity](INIT_VALUE)}\nuseState{[maxOpenCoin, setMaxOpenCoin](INIT_VALUE)}\nuseMemo{inputs}\nuseMemo{results}\nuseCallback{onCalculator}\nuseEffect{}\nuseEffect{}",(function(){return[g.X,g.Z,u.yk,u.Fs,c._n,c.iB,c.KQ,d.Pj]})),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(n.register(h,"MaxOpenPanel","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/MaxOpen.js"),n.register(O,"MaxOpenWrapper","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/MaxOpen.js")),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)},99663:(e,t,r)=>{r.d(t,{r:()=>M});var o=r(56666),n=r(2867),a=r(2784),s=r(92036),i=r(62143),l=r(5163),u=r(98569);const c=function(e){return a.createElement(u.Z,(0,l.__assign)({width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24"},e),a.createElement("path",{d:"M11 11V4a1 1 0 112 0v7h7a1 1 0 110 2h-7v7a1 1 0 11-2 0v-7H4a1 1 0 110-2h7z"}))};var d,p=r(77711),f=r(74258),b=r(97060),g=r(38896),m=r(38203),v=r(64008),y=r(20423),x=r(15434),j=r(52322);function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){(0,o.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}e=r.hmd(e),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&d(e);var O="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};function C(e){setTimeout((function(){return e&&e()}),0)}var L,S,w=function(){return{id:Date.now(),entryPrice:"",quantity:""}},G={height:"24px",borderRadius:"1px",width:"160px",mt:0,flex:1,"&.bn-input-status-focus input":{border:"1px solid",borderColor:"primary"},input:{textAlign:"left",height:"40px",borderRadius:"4px",color:"t.primary"}},k={mt:0,"& input":{textAlign:"left !important",pl:"8px"}},M=(0,a.forwardRef)(O((function(e,t){var r=(0,a.useContext)(m._),l=r.symbol,u=r.isFormValid,d=r.setIsFormValid,P=(0,v.X)(),O=P.getQuantityPrecision,L=P.getQuantityUnit,S=(0,v.Z)().getI18n,M=(0,g.iB)()[l]||y.oF,H=M.quoteAsset,I=M.pricePrecision,E=(0,b.Fs)().isMobile,Z=(0,a.useState)({}),U=(0,n.Z)(Z,2),D=U[0],V=U[1],F=function(e){C((function(){delete D[e],V(h({},D))}))},B=(0,a.useCallback)((function(){C((function(){var e=w();D[e.id]=e,V(h({},D))}))}),[D]),T=(0,a.useCallback)((function(e,t,r){C((function(){D[e][t]=r,V(h({},D))}))}),[D]);return(0,a.useEffect)((function(){B()}),[]),(0,a.useEffect)((function(){var e=Object.values(D),t=!!e.length&&!e.some((function(e){var t=e.entryPrice,r=e.quantity;return!t||!r}));t!==u&&d(t)}),[u,D,d]),(0,a.useImperativeHandle)(t,(function(){return{getPositions:function(){return D},resetPositions:function(){var e=w();V((0,o.Z)({},e.id,e))}}})),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsxs)(s.Z,{sx:{alignItems:"center",justifyContent:"space-between",fontSize:"12px",color:"t.third",mt:E?"24px":"40px",mb:"12px"},children:[!E&&(0,j.jsx)(i.Z,{width:"80px",children:S("open",{defaultValue:"Open"})}),(0,j.jsxs)(s.Z,{flex:1,children:[(0,j.jsxs)(i.Z,{sx:{mr:E?"-16px":"0px",flex:1},children:[S("entryPrice",{defaultValue:"Entry Price"})," (",H,")"]}),(0,j.jsxs)(i.Z,{sx:{flex:1},children:[S("quantity",{defaultValue:"Quantity"})," (",L({product:M}),")"]})]}),!E&&(0,j.jsx)(i.Z,{width:"40px",textAlign:"right",children:S("action",{defaultValue:"Action"})})]}),Object.values(D).map((function(e,t){var r=e.id,o=e.entryPrice,n=e.quantity;return(0,j.jsxs)(s.Z,{alignItems:"center",justifyContent:"space-between",sx:E?{mb:"12px",bg:"inputBg",px:"8px"}:{height:"40px",bg:"inputBg",px:"8px",mb:"12px",borderRadius:"4px"},children:[!E&&(0,j.jsx)(i.Z,{fontSize:0,width:"80px",color:"t.primary",children:t+1}),(0,j.jsxs)(s.Z,{justifyContent:"center",alignItems:"center",flex:1,children:[(0,j.jsx)(x.yt,{config:{value:o,max:y.nU,precision:I,onChange:function(e){return T(r,"entryPrice",e)},asset:E?H:null,boxProps:G,mobileBoxProps:k}}),E&&(0,j.jsx)(i.Z,{sx:{minWidth:"8px"}}),(0,j.jsx)(x.yt,{config:{value:n,max:y.nU,precision:O({product:M}),onChange:function(e){return T(r,"quantity",e)},asset:E?L({product:M}):null,boxProps:G,mobileBoxProps:k}})]}),E?(0,j.jsx)(p.Z,{color:"#848E9C",ml:3,onClick:function(){return F(r)}}):(0,j.jsx)(f.Z,{ml:"20px",fontSize:"20px",textAlign:"right",color:"t.third",cursor:"pointer",onClick:function(){return F(r)}})]},r)})),(0,j.jsxs)(s.Z,{sx:h({margin:"0 auto",mt:"17px",color:"t.yellow",cursor:"pointer",alignItems:"center",justifyContent:"center",fontSize:"14px"},E&&{mb:"6px",ml:0,justifyContent:"left"}),onClick:B,children:[(0,j.jsx)(c,{size:14,color:"t.yellow"}),"  ",S("addPosition",{defaultValue:"Add Position"})]})]})}),"useContext{{ symbol, isFormValid, setIsFormValid }}\nuseContractConfig{{ getQuantityPrecision, getQuantityUnit }}\nuseLanguage{{ getI18n }}\nuseProduct{productMap}\nuseResponsive{{ isMobile }}\nuseState{[positions, setPositions]({})}\nuseCallback{onAdd}\nuseCallback{onChange}\nuseEffect{}\nuseEffect{}\nuseImperativeHandle{}",(function(){return[v.X,v.Z,g.iB,b.Fs,a.useImperativeHandle]})));(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(L.register(C,"delay","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/OpenPrice/OpenPricePositions.js"),L.register(w,"genInitialPosition","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/OpenPrice/OpenPricePositions.js"),L.register(G,"boxProps","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/OpenPrice/OpenPricePositions.js"),L.register(k,"mobileBoxProps","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/OpenPrice/OpenPricePositions.js"),L.register(M,"OpenPricePositions","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/OpenPrice/OpenPricePositions.js")),(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&S(e)},82109:(e,t,r)=>{r.d(t,{Z:()=>S});var o,n,a,s=r(56666),i=r(2867),l=r(2784),u=r(62143),c=r(92036),d=r(97060),p=r(38896),f=r(805),b=r(38203),g=r(15434),m=r(64008),v=r(20423),y=r(99663),x=r(98098),j=r(52322);function P(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?P(Object(r),!0).forEach((function(t){(0,s.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):P(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function O(e){var t=e.results,r=e.positionsRef,o=e.onCalculator;return(0,j.jsxs)(f.Yb,{sx:{flexDirection:"column"},overrideSx:{pt:0,pr:0},children:[(0,j.jsx)(u.Z,{sx:{maxHeight:"324px",overflow:"auto"},children:(0,j.jsxs)(u.Z,{sx:{pr:"32px"},children:[(0,j.jsxs)(c.Z,{sx:{pt:"24px"},children:[(0,j.jsxs)(f.p5,{children:[(0,j.jsx)(g.me,{}),(0,j.jsx)(f.Gc,{})]}),(0,j.jsx)(f.u9,{results:t,sx:{py:"0px"},titleSx:{mt:"0px !important",mb:"28px !important"}})]}),(0,j.jsx)(y.r,{ref:r})]})}),(0,j.jsx)(u.Z,{sx:{pr:"32px"},children:(0,j.jsx)(f.XU,{onClick:o})})]})}function C(e){var t=e.results,r=e.positionsRef,o=e.onCalculator;return(0,j.jsxs)(f.Yb,{sx:{flexDirection:"column"},children:[(0,j.jsx)(c.Z,{children:(0,j.jsx)(f.p5,{children:(0,j.jsx)(f.Gc,{})})}),(0,j.jsx)(y.r,{ref:r}),(0,j.jsx)(f.u9,{results:t}),(0,j.jsx)(f.XU,{onClick:o})]})}function L(){var e=(0,l.useContext)(b._).symbol,t=(0,m.X)().helper,r=(0,d.Fs)().isMobile,o=(0,m.Z)().getI18n,n=(0,p.iB)()[e]||v.oF,a=n.quoteAsset,s=n.pricePrecision,u=(0,l.useState)(v.uf),c=(0,i.Z)(u,2),f=c[0],g=c[1],y=(0,l.useRef)(),P=(0,l.useMemo)((function(){return[{value:f,label:"".concat(o("avgPrice",{defaultValue:"Avg Price"})," (").concat(a,")")}]}),[f,o,a]),h=(0,l.useCallback)((function(){var e=t.openPrice({positions:Object.values(y.current.getPositions()).map((function(e){return{entryPrice:+e.entryPrice,quantity:+e.quantity}}))});g((0,x.qh)(e)?e.toFixed(s):v.uf)}),[t,s]);(0,l.useEffect)((function(){g(v.uf),y.current.resetPositions()}),[e]);var L=r?C:O;return(0,j.jsx)(L,{results:P,positionsRef:y,onCalculator:h})}function S(e){return(0,j.jsx)(f.zt,{children:(0,j.jsx)(L,h({},e))})}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(L,"useContext{{ symbol }}\nuseContractConfig{{ helper }}\nuseResponsive{{ isMobile }}\nuseLanguage{{ getI18n }}\nuseProduct{productMap}\nuseState{[avgPrice, setAvgPrice](INIT_VALUE)}\nuseRef{positionsRef}\nuseMemo{results}\nuseCallback{onCalculator}\nuseEffect{}",(function(){return[m.X,d.Fs,m.Z,p.iB]})),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(n.register(O,"OpenPricePC","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/OpenPrice/index.js"),n.register(C,"OpenPriceMobile","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/OpenPrice/index.js"),n.register(L,"OpenPrice","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/OpenPrice/index.js"),n.register(S,"OpenPriceWrapper","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/OpenPrice/index.js")),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)},66107:(e,t,r)=>{r.d(t,{Z:()=>P});var o,n=r(56666),a=r(2867),s=r(2784),i=r(97060),l=r(38896),u=r(20423),c=r(805),d=r(38203),p=r(15434),f=r(98098),b=r(64008),g=r(52322);function m(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function v(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?m(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):m(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},x=function(){var e=(0,s.useContext)(d._),t=e.symbol,r=e.setIsLeverageGreaterThan,o=e.currentLeverageBracket.bracketNotionalCap,n=e.setIsFormValid,m=e.positionDirection,v=e.leverage,y=(0,b.X)(),x=y.getUnitChangeQty,j=y.getQuantityPrecision,P=y.getQuantityUnit,h=y.getNotionalValue,O=y.helper,C=(0,l.iB)()[t]||u.oF,L=C.quoteAsset,S=C.marginAsset,w=C.pricePrecision,G=C.contractVal,k=void 0===G?100:G,M=(0,i.ZK)().getI18n,H=(0,i.Fs)().isMobile,I=(0,s.useState)(""),E=(0,a.Z)(I,2),Z=E[0],U=E[1],D=(0,s.useState)(""),V=(0,a.Z)(D,2),F=V[0],B=V[1],T=(0,s.useState)(""),N=(0,a.Z)(T,2),q=N[0],R=N[1],A=(0,s.useState)(u.uf),Q=(0,a.Z)(A,2),_=Q[0],z=Q[1],W=(0,s.useState)(u.uf),Y=(0,a.Z)(W,2),X=Y[0],K=Y[1],$=(0,s.useState)(u.uf),J=(0,a.Z)($,2),ee=J[0],te=J[1],re=(0,s.useCallback)((function(e){return x({quantity:e,entryPrice:Z,contractVal:k})}),[x,Z,k]),oe=(0,s.useMemo)((function(){return[{value:Z,max:u.nU,precision:w,onChange:U,placeholder:M("entryPrice",{defaultValue:"Entry Price"}),asset:L,testId:"EntryPrice"},{value:F,max:u.nU,precision:w,onChange:B,placeholder:M("exitPrice",{defaultValue:"Exit Price"}),asset:L,testId:"ExitPrice"},{value:q,max:u.nU,precision:j({product:C}),onChange:R,placeholder:M("quantity",{defaultValue:"Quantity"}),asset:P({product:C}),testId:"Quantity"}]}),[Z,F,M,P,w,C,q,j,L]),ne=(0,s.useMemo)((function(){return[{value:_,label:M("initialMargin",{defaultValue:"Initial Margin"}),labelTooltip:M("liqPriceTipText",{defaultValue:"Initial margin may not equal to actual margin required to place an order. Actual margin required = initial margin + open loss, where open loss reflects the additional cost due to the difference between order price and mark price."}),asset:S,testId:"InitialMaginValue"},{key:"PNL",value:X,label:M("PNL",{defaultValue:"PNL"}),asset:S,testId:"PNLValue"},{value:ee,label:M("ROE",{defaultValue:"ROE"}),asset:"%",testId:"ROEValue"}]}),[_,M,S,X,ee]),ae=(0,s.useCallback)((function(){var e=re(q),t=O.initialMargin({entryPrice:Z,quantity:e,leverage:v,contractVal:k}),r=O.PNL({positionDirection:m,quantity:e,entryPrice:Z,exitPrice:F,contractVal:k}),o=O.ROE({PNL:r,quantity:e,leverage:v,entryPrice:Z,contractVal:k});z(O.initialMarginFormat(t)),K((0,f.qh)(r)?O.PNLFormat(r):u.uf),te((0,f.qh)(o)?O.ROEFormat(o):u.uf)}),[re,q,O,Z,v,k,m,F]);return(0,s.useEffect)((function(){n(!!(Z&&F&&q))}),[Z,F,q,n]),(0,s.useEffect)((function(){r(h({quantity:q,entryPrice:Z,contractVal:k})>o)}),[o,k,Z,h,q,r]),(0,s.useEffect)((function(){H&&(n(!1),U(""),B(""),R(""),z(u.uf),K(u.uf),te(u.uf))}),[H,n,t]),(0,g.jsxs)(c.Yb,{children:[(0,g.jsxs)(c.p5,{children:[(0,g.jsx)(c.Gc,{}),(0,g.jsx)(c.QY,{}),(0,g.jsx)(p.Co,{inputs:oe}),H&&(0,g.jsx)(c.u9,{results:ne}),(0,g.jsx)(c.XU,{onClick:ae})]}),!H&&(0,g.jsx)(c.u9,{results:ne})]})};y(x,"useContext{{\n    symbol,\n    setIsLeverageGreaterThan,\n    currentLeverageBracket: { bracketNotionalCap },\n    setIsFormValid,\n    positionDirection,\n    leverage,\n  }}\nuseContractConfig{{ getUnitChangeQty, getQuantityPrecision, getQuantityUnit, getNotionalValue, helper }}\nuseProduct{productMap}\nuseLanguage{{ getI18n }}\nuseResponsive{{ isMobile }}\nuseState{[entryPrice, setEntryPrice]('')}\nuseState{[exitPrice, setExitPrice]('')}\nuseState{[quantity, setQuantity]('')}\nuseState{[initialMargin, setInitialMargin](INIT_VALUE)}\nuseState{[PNL, setPNL](INIT_VALUE)}\nuseState{[ROE, setROE](INIT_VALUE)}\nuseCallback{getUnitChangeQtyFn}\nuseMemo{inputs}\nuseMemo{results}\nuseCallback{onCalculator}\nuseEffect{}\nuseEffect{}\nuseEffect{}",(function(){return[b.X,l.iB,i.ZK,i.Fs]}));var j=function(e){return(0,g.jsx)(c.zt,{children:(0,g.jsx)(x,v({},e))})};const P=j;var h,O;(h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(h.register(x,"PNL","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/PNL.js"),h.register(j,"default","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/PNL.js")),(O="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&O(e)},32407:(e,t,r)=>{r.d(t,{Z:()=>h});var o,n=r(56666),a=r(2867),s=r(2784),i=r(97060),l=r(38896),u=r(34952),c=r(20423),d=r(98098),p=r(805),f=r(38203),b=r(15434),g=r(64008),m=r(52322);function v(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,o)}return r}function y(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?v(Object(r),!0).forEach((function(t){(0,n.Z)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):v(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e);var x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},j=function(){var e=(0,s.useContext)(f._),t=e.symbol,r=e.setIsFormValid,o=e.positionDirection,n=e.leverage,v=(0,g.X)().helper,y=(0,l.iB)()[t]||c.oF,x=y.quoteAsset,j=y.pricePrecision,P=(0,s.useState)(""),h=(0,a.Z)(P,2),O=h[0],C=h[1],L=(0,s.useState)(""),S=(0,a.Z)(L,2),w=S[0],G=S[1],k=(0,s.useState)(c.uf),M=(0,a.Z)(k,2),H=M[0],I=M[1],E=(0,u.Z)().getI18n,Z=(0,i.Fs)().isMobile,U=(0,i.yk)().getI18n,D=(0,s.useMemo)((function(){return[{value:O,max:c.nU,precision:j,onChange:C,placeholder:E("entryPrice",{defaultValue:"Entry Price"}),asset:x,testId:"EntryPrice"},{value:w,max:"1999",precision:2,onChange:G,placeholder:E("ROE",{defaultValue:"ROE"}),asset:"%",errorText:H<0&&U("calculator-reachROETip",{defaultValue:"can't reach the ROE"}),negative:!0,testId:"ROEInput"}]}),[O,j,E,x,w,H,U]),V=(0,s.useMemo)((function(){return[{value:H<0?c.uf:H,label:E("targetPrice",{defaultValue:"Target Price"}),asset:x,testId:"TargetPriceValue"}]}),[H,x,E]),F=(0,s.useCallback)((function(){var e=v.targetPrice({ROE:w,leverage:n,positionDirection:o,entryPrice:O});I((0,d.KO)(e)?(0,d.uf)(e,j):-1/0)}),[v,w,n,o,O,j]);return(0,s.useEffect)((function(){r(!(!O||!w))}),[O,w,r]),(0,s.useEffect)((function(){Z&&(r(!1),C(""),G(""),I(c.uf))}),[Z,r,t]),(0,m.jsxs)(p.Yb,{children:[(0,m.jsxs)(p.p5,{children:[(0,m.jsx)(p.Gc,{}),(0,m.jsx)(p.QY,{}),(0,m.jsx)(b.Co,{inputs:D}),Z&&(0,m.jsx)(p.u9,{results:V}),(0,m.jsx)(p.XU,{onClick:F})]}),!Z&&(0,m.jsx)(p.u9,{results:V})]})};x(j,"useContext{{ symbol, setIsFormValid, positionDirection, leverage }}\nuseContractConfig{{ helper }}\nuseProduct{productMap}\nuseState{[entryPrice, setEntryPrice]('')}\nuseState{[ROE, setROE]('')}\nuseState{[targetPrice, setTargetPrice](INIT_VALUE)}\nuseLanguage{{ getI18n }}\nuseResponsive{{ isMobile }}\nuseFuturesLanguage{{ getI18n: getFuturesI18n }}\nuseMemo{inputs}\nuseMemo{results}\nuseCallback{onCalculator}\nuseEffect{}\nuseEffect{}",(function(){return[g.X,l.iB,u.Z,i.Fs,i.yk]}));var P=function(e){return(0,m.jsx)(p.zt,{children:(0,m.jsx)(j,y({},e))})};const h=P;var O,C;(O="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(O.register(j,"TargetPrice","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/TargetPrice.js"),O.register(P,"default","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/TargetPrice.js")),(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&C(e)},98098:(e,t,r)=>{var o,n,a;function s(e){return/[^\d|.|,|\u3002]/.test(e)}function i(e){return/[^\-?\d|.|,|\u3002]/.test(e)}function l(e){return!/\d*\.?\d+$/.test(e.target.value)&&(e.target.value="")}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;try{if("number"!=typeof e&&!e)return"-";var r=(e="number"==typeof e?e:+e).toFixed(Math.max(0,~~t)),o=-1!==r.indexOf(".")?/\d(?=(\d{3})+\.)/g:/\d(?=(\d{3})+$)/g;return r.replace(o,"$&,")}catch(e){return"-"}}function c(e,t){var r=t.fn,o=t.filed,n=t.places,a=t.negative,l=void 0!==a&&a,u=e.target.value;return(l?i(Number(u)):s(Number(u)))?"":(/\u3002|,/.test(u)&&(u=u.replace(/[\u3002|,]/g,".")),/^0\d/.test(u)?u="0":/^\./.test(u)?u=0+u.substring(0,n+1):Number(u)>=0&&-1!==u.indexOf(".")&&u.split(".")[1].length>=n&&(u=u.replace(new RegExp("^(\\d*\\.\\d{".concat(n,"})\\d*")),"$1")),Number.isNaN(Number(u))?"":void(o?r(o,u):r(u)))}function d(e){return e>0&&p(e)}function p(e){return!Number.isNaN(e)&&!isNaN(e)&&Math.abs(e)!==1/0}r.d(t,{KO:()=>d,Y5:()=>l,_p:()=>c,qh:()=>p,uf:()=>u}),e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(n.register(s,"inputCheck","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/utils.js"),n.register(i,"inputCheckWithNegative","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/utils.js"),n.register(l,"onBlur","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/utils.js"),n.register(u,"formatNumber","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/utils.js"),n.register(c,"onInputChange","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/utils.js"),n.register(d,"isValidTargetPrice","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/utils.js"),n.register(p,"isValidNumber","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/utils.js")),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)},74220:(e,t,r)=>{r.r(t),r.d(t,{PNL:()=>d,PNLFormat:()=>O,ROE:()=>p,ROEFormat:()=>C,formPositionSize:()=>x,initialMargin:()=>c,initialMarginFormat:()=>h,isLiqPriceInValid:()=>j,isLiqPriceInValidHEDGE:()=>P,liquidationPrice:()=>b,maxOpenCoin:()=>m,maxOpenQuantity:()=>g,openPriceCoin:()=>v,openPriceUSDT:()=>y,targetPrice:()=>f});var o,n=r(17584),a=r(95302),s=r(92521),i=r(26786);e=r.hmd(e),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&o(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var l,u,c=function(e){return e.entryPrice*e.quantity*(1/e.leverage)},d=function(e){var t=e.positionDirection,r=e.exitPrice,o=e.entryPrice,n=e.quantity;return(t===a.DD.LONG?r-o:o-r)*n},p=function(e){var t=e.PNL,r=e.entryPrice,o=e.quantity,n=e.leverage;return t/c({entryPrice:r,quantity:o,leverage:n})*100},f=function(e){var t=e.ROE,r=e.leverage,o=e.positionDirection,n=t/100/r;return e.entryPrice*(o===a.DD.LONG?n+1:1-n)},b=function(e){var t=e.brackets,r=e.positions,o=e.symbol,n=e.marginType,i=e.positionMode,l=e.walletBalance,u=e.longPosition,c=e.shortPosition,d=e.curPosition,p=(null==t?void 0:t[o])||[],f=0;if(n===a.Yl.CROSS){var b=r.filter((function(e){return!(null!=e&&e.isolated)})).filter((function(e){return(null==e?void 0:e.symbol)!==o}));f=(0,s.zW)(b,t)-(0,s.ot)(b)}return i===a.Tw.ONEWAY?(0,s.W8)(p,l,f,d):(0,s.wr)(p,l,f,u,c,d)},g=function(e){var t=e.walletBalance,r=e.leverage,o=e.entryPrice,n=e.bracketNotionalCap;return Math.floor(Math.min(t*r/o,n/o))},m=function(e){var t=e.walletBalance,r=e.leverage,o=e.bracketNotionalCap;return(0,i.GW)(Math.min(t*r,o))},v=function(e){var t=e.positions;return t.reduce((function(e,t){var r=t.entryPrice;return e+t.quantity*r}),0)/t.reduce((function(e,t){return e+t.quantity}),0)},y=function(e){var t=e.positions;return t.reduce((function(e,t){return e+t.quantity}),0)/t.reduce((function(e,t){var r=t.entryPrice;return e+t.quantity/r}),0)},x=function(e){return e.quantity*e.entryPrice},j=function(e){var t=e.walletBalance,r=e.entryPrice,o=e.quantity,n=e.leverage;return t<Math.abs(r)*Math.abs(o)/n},P=function(e){var t=e.walletBalance,r=e.leverage,o=e.longPosition,n=e.shortPosition;return t<Math.abs(o.entryPrice)*Math.abs(o.quantity)/r+Math.abs(n.entryPrice)*Math.abs(n.quantity)/r},h=function(e){return(0,n.uf)(e)},O=function(e){return(0,n.uf)(e)},C=function(e){return(0,n.uf)(e)};(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(l.register(c,"initialMargin","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/utils/futuresv2/futuresCalculate.js"),l.register(d,"PNL","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/utils/futuresv2/futuresCalculate.js"),l.register(p,"ROE","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/utils/futuresv2/futuresCalculate.js"),l.register(f,"targetPrice","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/utils/futuresv2/futuresCalculate.js"),l.register(b,"liquidationPrice","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/utils/futuresv2/futuresCalculate.js"),l.register(g,"maxOpenQuantity","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/utils/futuresv2/futuresCalculate.js"),l.register(m,"maxOpenCoin","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/utils/futuresv2/futuresCalculate.js"),l.register(v,"openPriceCoin","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/utils/futuresv2/futuresCalculate.js"),l.register(y,"openPriceUSDT","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/utils/futuresv2/futuresCalculate.js"),l.register(x,"formPositionSize","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/utils/futuresv2/futuresCalculate.js"),l.register(j,"isLiqPriceInValid","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/utils/futuresv2/futuresCalculate.js"),l.register(P,"isLiqPriceInValidHEDGE","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/utils/futuresv2/futuresCalculate.js"),l.register(h,"initialMarginFormat","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/utils/futuresv2/futuresCalculate.js"),l.register(O,"PNLFormat","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/utils/futuresv2/futuresCalculate.js"),l.register(C,"ROEFormat","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/utils/futuresv2/futuresCalculate.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},74258:(e,t,r)=>{r.d(t,{Z:()=>s});var o=r(5163),n=r(2784),a=r(98569);const s=function(e){return n.createElement(a.Z,(0,o.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),n.createElement("path",{fill:"currentColor",d:"M3 4h18v3H3z"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 2H9v2h6V2zm4 5H5v14h14V7zm-8.5 2H8v9h2.5V9zm3 0H16v9h-2.5V9z",fill:"currentColor"}))}},27657:(e,t,r)=>{r.d(t,{Q:()=>i});var o=r(11001),n=r(73121);const{coin:a,cont:s}=o.SW;function i(){const{unit:e}=(0,n.F7)();return{isCoinUnit:e===a,isContUnit:e===s}}},65649:(e,t,r)=>{r.r(t),r.d(t,{default:()=>L});var o=r(52322),n=r(2784),a=r(62143),s=r(92036),i=r(48658),l=r(25181),u=r(77536),c=r(5163),d=r(98569);const p=function(e){return n.createElement(d.Z,(0,c.__assign)({width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24"},e),n.createElement("path",{d:"M12 10.586l5.95-5.95a1 1 0 111.414 1.414L13.414 12l5.95 5.95a1 1 0 01-1.414 1.414L12 13.414l-5.95 5.95a1 1 0 01-1.414-1.414l5.95-5.95-5.95-5.95A1 1 0 116.05 4.636l5.95 5.95z"}))};var f=r(66107),b=r(32407),g=r(68779),m=r(81492),v=r(82109),y=r(34952),x=r(97060);const j="PNL",P="TARGET_PRICE",h="MAX_OPEN",O="OPEN_PRICE";function C({title:e,testId:t,active:r}){return(0,o.jsx)(a.Z,Object.assign({tx:"tabs",variant:"trade-next.tab",sx:{padding:"18px 1px 12px 1px",fontSize:"14px",mr:"24px"},className:r?"active":"","data-testid":t},{children:e}),void 0)}const L=({open:e,setOpen:t})=>{const[r,a]=(0,n.useState)(j),{getI18n:c}=(0,y.Z)(),{getI18n:d}=(0,x.yk)();return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(s.Z,Object.assign({alignItems:"center",justifyContent:"space-between",p:"20px 32px"},{children:[(0,o.jsx)(i.Z,Object.assign({variant:"title6",color:"t.primary"},{children:d("calculator",{defaultValue:"Calculator"})}),void 0),(0,o.jsx)(p,{className:"close-icon",onClick:()=>t(!1)},void 0)]}),void 0),(0,o.jsxs)(l.Z,Object.assign({defaultActiveKey:j,tabsClassName:"tabs",onChange:e=>a(e)},{children:[(0,o.jsx)(u.Z,Object.assign({tab:e=>(0,o.jsx)(C,{title:c("PNL",{defaultValue:"PNL"}),testId:"PNL",active:e},void 0),tabKey:j},{children:r===j&&e&&(0,o.jsx)(f.Z,{},void 0)}),void 0),(0,o.jsx)(u.Z,Object.assign({tab:e=>(0,o.jsx)(C,{title:c("targetPrice",{defaultValue:"Target Price"}),testId:"TargetPrice",active:e},void 0),tabKey:P},{children:r===P&&(0,o.jsx)(b.Z,{},void 0)}),void 0),(0,o.jsx)(u.Z,Object.assign({tab:e=>(0,o.jsx)(C,{title:c("liqPrice",{defaultValue:"Liquidation Price"}),testId:"LiquidationPrice",active:e},void 0),tabKey:"LIQ"},{children:"LIQ"===r&&e&&(0,o.jsx)(g.Z,{},void 0)}),void 0),(0,o.jsx)(u.Z,Object.assign({tab:e=>(0,o.jsx)(C,{testId:"MaxOpen",title:c("maxOpen",{defaultValue:"Max Open"}),active:e},void 0),tabKey:h},{children:r===h&&e&&(0,o.jsx)(m.Z,{},void 0)}),void 0),(0,o.jsx)(u.Z,Object.assign({tab:e=>(0,o.jsx)(C,{testId:"OpenPrice",title:c("openPrice",{defaultValue:"Open Price"}),active:e},void 0),tabKey:O},{children:r===O&&e&&(0,o.jsx)(v.Z,{},void 0)}),void 0)]}),void 0)]},void 0)}},77376:(e,t,r)=>{r.d(t,{Z:()=>n});var o=r(33656);const n=({children:e})=>{const{isMobile:t,isIPad:r}=(0,o.F)();return e&&e({isMobile:t,isIPad:r})}}}]);