(self.webpackChunkcloud_trade_sdk=self.webpackChunkcloud_trade_sdk||[]).push([[8344],{93111:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l}),i(2784);var n,r=i(7688),s=i(52322);e=i.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var o=function(e){var t=e.width,i=e.height,n=e.extend,o=e.children;return n?o({width:t,height:i}):(0,s.jsx)(r.Z,{children:o})},a=o;const l=a;var c,d;(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(c.register(o,"MyAutoSizer","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/shared/components/AutoSizer.js"),c.register(a,"default","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/shared/components/AutoSizer.js")),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&d(e)},85435:(e,t,i)=>{"use strict";i.d(t,{pB:()=>w});var n=i(38777),r=i(56666),s=i(59740),o=i(29261),a=i(98331),l=i(48658),c=i(62143),d=i(21248),u=i(44613),p=i(2784),g=i(93111),h=i(53096),x=i(97060),m=i(52322);e=i.hmd(e);var f,y=["children","i18nKey","i18nDefault"],v=["loading","listGridProps","header","getListGridConfig","resetDeps","emptyNode","autoSizerProps"],b=["listGridConfig","renderHeaderCell","data","style"];function j(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,n)}return i}function O(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?j(Object(i),!0).forEach((function(t){(0,r.Z)(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&f(e);var C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},k="trd-common",S=function(e){return(0,x.ZK)(k,e)};C(S,"useBaseLanguage{}",(function(){return[x.ZK]}));var w=function(e){var t=e.children,i=e.i18nKey,n=void 0===i?"nodata":i,r=e.i18nDefault,o=void 0===r?"no data":r,a=(0,s.Z)(e,y),c=S().getI18n;return(0,m.jsx)(l.Z,O(O({variant:"columns.emptyLine",__css:{height:"100%",width:"100%",minHeight:"20px",display:"flex",alignItems:"center",justifyContent:"center"}},a),{},{children:t||c(n,{defaultValue:o})}))};C(w,"useLanguage{{ getI18n }}",(function(){return[S]}));var Z=function(e){var t=e.loading,i=void 0!==t&&t,r=e.listGridProps,l=void 0===r?{}:r,x=e.header,f=void 0===x?null:x,y=e.getListGridConfig,j=void 0===y?function(e){return e}:y,C=e.resetDeps,k=void 0===C?[]:C,S=e.emptyNode,Z=void 0===S?(0,m.jsx)(w,{}):S,T=e.autoSizerProps,P=(0,s.Z)(e,v),I=(0,p.useRef)(null),E=l||{},N=E.listGridConfig,V=E.renderHeaderCell,_=E.data,M=E.style,R=(0,s.Z)(E,b);(0,a.Z)((function(){if(I&&I.current){var e=I.current.listRef;if(e&&e.current){var t=e.current,i=e.current.state,n=Math.floor(i.scrollOffset/32);t.resetAfterIndex(n,!0)}}}),1e3/60,(0,n.Z)(k));var L=(0,o.tZ)(),A=(0,u.cp)(L),H=f?[{header:!0}].concat(_):_,F=!i&&!_.length;return(0,m.jsxs)(c.Z,O(O({__css:{position:"relative",flex:1}},P),{},{children:[(0,m.jsx)(h.Z,{fullScreen:!0,inner:!0,show:i}),(0,m.jsx)(g.Z,O(O({},T),{},{children:function(e){var t=e.height,i=e.width;return F?(0,m.jsxs)(c.Z,{sx:{height:t,width:i,display:"flex",alignItems:"center",justifyContent:"center"},children:[f,Z]}):(0,m.jsx)(d.Z,O(O({threshold:5,style:O({direction:A},M)},R),{},{className:"list-grid",ref:I,data:H,renderHeaderCell:V,listGridConfig:j(O(O({collapseHeight:80},N),{},{height:Math.max(t,0),width:i}))}))}}))]}))};C(Z,"useRef{listGridRef}\nuseDebounce{}\nuseLng{lang}",(function(){return[a.Z,o.tZ]}));var T,P,I=p.memo(Z);(T="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(T.register(k,"prefix","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/shared/components/EmptyGrid.js"),T.register(S,"useLanguage","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/shared/components/EmptyGrid.js"),T.register(w,"EmptyText","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/shared/components/EmptyGrid.js"),T.register(Z,"EmptyGrid","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/shared/components/EmptyGrid.js"),T.register(I,"default","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/shared/components/EmptyGrid.js")),(P="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&P(e)},23563:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(5163),r=i(2784),s=i(98569);const o=function(e){return r.createElement(s.Z,(0,n.__assign)({width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24"},e),r.createElement("path",{d:"M16 18.172a1 1 0 11-1.414 1.414L8 13a1 1 0 010-1.414L14.586 5A1 1 0 0116 6.414l-5.879 5.879 5.88 5.879z"}))}},40887:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(5163),r=i(2784),s=i(98569);const o=function(e){return r.createElement(s.Z,(0,n.__assign)({width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24"},e),r.createElement("path",{d:"M14.5 10.29a1 1 0 011 1v.353a1 1 0 01-.273.686l-2.5 2.65a1 1 0 01-1.454 0l-2.5-2.65a1 1 0 01-.273-.686v-.353a1 1 0 011-1h5z"}))}},10337:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(5163),r=i(2784),s=i(98569);const o=function(e){return r.createElement(s.Z,(0,n.__assign)({width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24"},e),r.createElement("path",{d:"M14.5 10.29a1 1 0 011 1v.353a1 1 0 01-.273.686l-2.5 2.65a1 1 0 01-1.454 0l-2.5-2.65a1 1 0 01-.273-.686v-.353a1 1 0 011-1h5z"}))}},30210:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(5163),r=i(2784),s=i(62143),o=(0,r.forwardRef)((function(e,t){return r.createElement(s.Z,(0,n.__assign)({ref:t,tx:"card",variant:"default"},e))}));o.displayName="Card";const a=o},27986:(e,t,i)=>{"use strict";i.d(t,{Z:()=>u});var n=i(5163),r=i(2784),s=i(98569),o=i(62143),a=function(e){return r.createElement(s.Z,(0,n.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),r.createElement("path",{d:"M3 10.5v3h18v-3H3z",fill:"currentColor"}))},l=function(e){return r.createElement(s.Z,(0,n.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),r.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.035 16.812l-.001.002 2.121 2.121.002-.002 2.121-2.12 9.19-9.192-2.12-2.121-9.191 9.19-3.536-3.534-2.121 2.12 3.535 3.536z",fill:"currentColor"}))},c=function(e){return e["data-indeterminate"]?r.createElement(a,(0,n.__assign)({},e)):r.createElement(l,(0,n.__assign)({},e))},d=(0,r.forwardRef)((function(e,t){var i=e.className,s=e.sx,a=e.defaultChecked,l=void 0!==a&&a,d=e.checked,u=e.indeterminate,p=void 0!==u&&u,g=e.size,h=void 0===g?16:g,x=e.onChange,m=e.children,f=(0,n.__rest)(e,["className","sx","defaultChecked","checked","indeterminate","size","onChange","children"]),y=r.useRef(null!=d).current,v=r.useState(l),b=v[0],j=v[1];return y&&d!==b&&j(void 0!==d&&d),r.createElement(r.Fragment,null,r.createElement(o.Z,{className:i,sx:s,__css:{mr:"xs",flexShrink:0,width:h,height:h,lineHeight:"number"==typeof h?h+"px":h,"> svg":{boxSizing:"border-box",cursor:"pointer",border:"1px solid",borderColor:"t.disabled",borderRadius:"small",maxWidth:"100%",maxHeight:"100%",bg:"transparent",fill:"transparent"},"> svg path":{fill:"inherit"},":hover":{"input:not(:disabled) ~ svg":{borderColor:"primary"}},"input:checked ~ svg":{border:"none",bg:"primary",fill:p?"checkbox.indeterminateFill":"bg1"},"input:disabled ~ svg":{cursor:"not-allowed",bg:"line",fill:"line",border:"none"},"input:checked:disabled ~ svg":{fill:"t.disabled"}}},r.createElement(o.Z,(0,n.__assign)({ref:t,as:"input",type:"checkbox","data-bn-type":"checkbox",hidden:!0},f,{checked:b,"data-indeterminate":b&&p,onChange:function(e){var t=!b;y||j(t),e.target.checked=t,e.currentTarget.checked=t,x&&x(e)},sx:{position:"absolute",opacity:0,zIndex:-1,width:1,height:1,overflow:"hidden"}})),r.createElement(c,{"aria-hidden":"true","data-indeterminate":p})),m)}));d.displayName="Checkbox";const u=d},33322:(e,t,i)=>{"use strict";i.d(t,{Z:()=>a});var n=i(5163),r=i(2784),s=i(92036),o=(0,r.forwardRef)((function(e,t){var i=s.Z;return r.createElement(i,(0,n.__assign)({ref:t,as:"label",tx:"forms",variant:"label"},e,{__css:{alignItems:"center"}}))}));o.displayName="Label";const a=o},50464:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(2784);function r(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function s(e,t){return n.useMemo((function(){return null==e&&null==t?null:function(i){r(e,i),r(t,i)}}),[e,t])}},37407:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(5163),r=i(2784),s=i(98569);const o=function(e){return r.createElement(s.Z,(0,n.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),r.createElement("path",{d:"M16.5 8.49v2.25L12 15.51l-4.5-4.77V8.49h9z",fill:"currentColor"}))}},53858:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(2784),r=i(22706);function s(){return n.useContext(r.Z)}},16831:(e,t,i)=>{"use strict";i.d(t,{Z:()=>x});var n=i(5163),r=i(2784),s=i(62143),o=i(92036),a=i(48658),l=i(72779),c=i.n(l),d="32px",u="24px",p=(0,r.forwardRef)((function(e,t){var i=e.children,o=e.labelMarginLeft,a=e.moveUp,l=e.isLargeOutline,p=e.required;return i?r.createElement(s.Z,(0,n.__assign)({ref:t,as:"label",className:c()({"bn-input-label-required":p},"bn-input-label"),tx:"forms",variant:"label"},e,{__css:{position:"absolute",pointerEvents:a?"":"none",top:a?l?"-24px":"-32px":0,left:o,lineHeight:l?u:d,transitionProperty:"top,font-size",transitionDuration:".3s",transitionTimingFunction:"ease",zIndex:"1",cursor:"text","&.bn-input-label-required::before":{display:"inline-block",marginRight:"minor",color:"error",content:'"*"'}}})):null}));p.displayName="TextFieldLabel";var g=(0,r.forwardRef)((function(e,t){var i=e.onFocus,o=e.onBlur,a=e.onChange,l=e.type,c=(0,n.__rest)(e,["onFocus","onBlur","onChange","type"]),d="number"===l?{lang:"en"}:{};return r.createElement(s.Z,(0,n.__assign)({ref:t,as:"input","data-bn-type":"input"},d,c,{type:l,onFocus:i,onBlur:o,onChange:a,__css:{width:"100%",height:"100%",padding:"0",outline:"none",border:"none",bg:"inherit",opacity:1,"&::placeholder":{color:"t.placeholder",fontSize:"14px"}}}))}));g.displayName="TextFieldInput";var h=(0,r.forwardRef)((function(e,t){var i=e.variant,l=void 0===i?"default":i,c=e.id,h=e.value,x=e.defaultValue,m=e.label,f=e.labelFixed,y=void 0!==f&&f,v=e.placeholder,b=e.error,j=e.disabled,O=e.prefix,C=e.suffix,k=e.infoText,S=void 0===k?"":k,w=e.errorText,Z=void 0===w?"":w,T=e.onFocus,P=e.onBlur,I=e.onChange,E=e.boxProps,N=e.required,V=e.sx,_=void 0===V?{}:V,M=(0,n.__rest)(e,["variant","id","value","defaultValue","label","labelFixed","placeholder","error","disabled","prefix","suffix","infoText","errorText","onFocus","onBlur","onChange","boxProps","required","sx"]),R=r.useState(""),L=R[0],A=R[1],H=r.useRef(null!=h).current,F=r.useState(x),B=F[0],z=F[1];H&&h!==B&&z(h);var G=!m||y?v:"",D="outline"!==l&&"outlineLarge"!==l||y?"0px":"xs",$=b?"error":"info",K="inline"===l?"":b?Z:S,U="inline"!==l?"":b?Z:"focus"===L?S:"",Y="outlineLarge"===l,q=j?"disabled":b?"error":L;""!==q&&(q="bn-input-status-"+q);var W="string"==typeof m?m:M["area-label"];return r.createElement(o.Z,(0,n.__assign)({tx:"textField",className:q,variant:l},E,{__css:{display:"inline-flex",position:"relative",height:Y?"40px":d,mt:m?Y?u:d:"minor",mb:K.length>0?"16px":"0px",alignItems:"center",lineHeight:1.6,"&.bn-input-status-focus .bn-input-label":{top:Y?"-24px":"-32px"}}}),O&&r.createElement(s.Z,{className:"bn-input-prefix"},O),r.createElement(g,(0,n.__assign)({id:c,onFocus:function(e){A("focus"),T&&T(e)},onBlur:function(e){A(""),P&&P(e)},onChange:function(e){H||z(e.target.value),I&&I(e)},ref:t,value:B,"aria-label":W,disabled:j,placeholder:G,sx:_,required:N},M)),C&&r.createElement(s.Z,{className:"bn-input-suffix"},C),r.createElement(p,{htmlFor:c,labelMarginLeft:D,moveUp:y||!!B&&""!==B,isLargeOutline:Y,required:N},m),K.length>0&&r.createElement(a.Z,{className:"bn-input-helper-text",variant:"textField.helperText."+$,__css:{position:"absolute",bottom:"-20px",lineHeight:"16px"}},K),U.length>0&&r.createElement(s.Z,{className:"bn-input-tooltip"},r.createElement(s.Z,{className:"bn-input-tooltip-arrow"}),r.createElement(s.Z,{className:"bn-input-tooltip-content"},U)))}));h.displayName="TextField";const x=h},21248:(e,t,i)=>{"use strict";i.d(t,{Z:()=>f});var n=i(5163),r=i(2784),s=i(8301),o=i(11628),a=i(62143),l=i(92036),c=i(33322),d=i(27986),u=i(98569);const p=function(e){return r.createElement(u.Z,(0,n.__assign)({width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24"},e),r.createElement("path",{d:"M15 15a1 1 0 001-1v-.514a1 1 0 00-.286-.7l-3-3.058a1 1 0 00-1.428 0l-3 3.057a1 1 0 00-.286.7V14a1 1 0 001 1h6z"}))};var g=i(40887),h=function(e){return r.createElement(a.Z,(0,n.__assign)({tx:"listGrid",variant:"default",__css:{overflow:"hidden",boxSizing:"border-box",borderBottom:"1px solid",transition:"all 0.2s ease-in"}},e))},x=function(e){return r.createElement(a.Z,(0,n.__assign)({tx:"listGrid",variant:"default",__css:{display:"flex",justifyContent:"space-between",alignItems:"center",margin:"8px 0",padding:"0 16px"}},e))},m=function(e){return r.createElement(x,(0,n.__assign)({tx:"listGrid",mt:"24px",mb:"16px",variant:"header"},e))};const f=function(e){function t(t){var i=e.call(this,t)||this;return i.displayName="ListGrid",i.listRef=r.createRef(),i.getSelectKey=function(e){var t=i.props.rowKey;return-1===e?-1:t?"function"==typeof t?t(e):e[t]:e.key},i.getSelectKeyWithIndex=function(e,t){var n=i.getSelectKey(e);return void 0===n?t:n},i.getItemSize=function(e){var t=i.props.listGridConfig;return 0===e&&t.headerCellHeight?t.headerCellHeight:e===i.getEmptyDataIndex()&&t.emptyCellHeight?t.emptyCellHeight:void 0===t.expandHeight?t.collapseHeight:e===i.state.expandItemIndex?t.expandHeight:t.collapseHeight},i.isItemLoaded=function(e){return e<i.props.data.length},i.getEmptyDataIndex=function(){var e=i.props,t=e.data,n=e.renderHeaderCell;if("function"==typeof e.renderEmptyCell){if(0===t.length)return 0;if(1===t.length&&n)return 1}return-1},i._row=function(e){var t=e.index,n=e.style,s=i.props,o=s.columns,c=s.data,d=s.loadingPlaceholder,u=s.listGridConfig,f=s.renderHeaderCell,y=s.renderEmptyCell,v=s.onSelect;if(0===t&&"function"==typeof f)return f();if(i.getEmptyDataIndex()===t&&"function"==typeof y)return y();if(!i.isItemLoaded(t))return r.createElement(a.Z,{style:n},d);var b=c[t],j=i.getSelectKeyWithIndex(b,t);return r.createElement(h,{className:"grid-row-wrap",style:n},o.map((function(e,n){return 0===n?r.createElement(m,{key:n,className:"grid-row-header",onClick:function(){return i.handleExpandAndCollapse(t)}},r.createElement(l.Z,{flex:1,alignItems:"center",onClick:v?function(e){e.stopPropagation(),e.preventDefault(),i.handleSelectRow(j)}:void 0},v&&i._checkbox(b,t)," ",i._cell(b,e)),u.expandHeight&&r.createElement(a.Z,{pl:"20px"},t===i.state.expandItemIndex?r.createElement(p,{tx:"listGrid",variant:"toggleIcon"}):r.createElement(g.Z,{tx:"listGrid",variant:"toggleIcon"}))):r.createElement(x,{className:"grid-row",alignItems:"flex-start",key:n},!o[n].hideTitle&&r.createElement(a.Z,{tx:"listGrid",variant:"leftHeader",__css:{whiteSpace:"nowrap",flexShrink:0}},o[n].title),r.createElement(a.Z,{tx:"listGrid",flex:1,variant:o[n].hideTitle?"":"rightContent"},i._cell(b,e)))})))},i._cell=function(e,t){return"function"==typeof t.render?t.render(e[t.dataIndex],e):e[t.dataIndex]},i._checkbox=function(e,t){var n=i.getSelectKeyWithIndex(e,t);return r.createElement(c.Z,{tx:"listGrid",variant:"checkbox"},r.createElement(d.Z,{checked:i.state.selectedKeySet.has(n),readOnly:!0}))},i.toggleAllSelection=function(e){void 0===e&&(e=!1);var t=i.props,n=t.data,r=t.renderHeaderCell,s=i.state.selectedKeySet;if(e)for(var o=0;o<n.length;o++)0===o&&r||s.add(i.getSelectKeyWithIndex(n[o],o));else s.clear();i.renderAndOnSelect()},i.state={expandItemIndex:-1,selectedKeySet:new Set},i}return(0,n.__extends)(t,e),t.getDerivedStateFromProps=function(e){return e.selectedKeys?{selectedKeySet:new Set(e.selectedKeys)}:null},t.prototype.handleExpandAndCollapse=function(e){var t=Math.min(e,this.state.expandItemIndex);t<0&&(t=0),this.state.expandItemIndex===e?this.setState({expandItemIndex:-1}):this.setState({expandItemIndex:e}),this.listRef.current&&this.listRef.current.resetAfterIndex(t,!0)},t.prototype.handleSelectRow=function(e){var t=this.state.selectedKeySet;t.has(e)?t.delete(e):t.add(e),this.renderAndOnSelect()},t.prototype.renderAndOnSelect=function(){var e=this,t=this.state.selectedKeySet,i=this.props,n=i.data,r=i.onSelect,s=i.renderHeaderCell,o=Array.from(t).sort((function(e,t){return e-t})),a=[];n.forEach((function(i,n){t.has(e.getSelectKeyWithIndex(i,n))&&a.push(n)})),r&&r(s?a.map((function(e){return e-1})):a,o),this.setState({selectedKeySet:new Set(o)}),this.listRef.current&&this.listRef.current.resetAfterIndex(0,!0)},t.prototype.render=function(){var e=this,t=this.props,i=t.data,a=t.hasMore,l=t.loadMore,c=void 0===l?function(){return Promise.resolve()}:l,d=t.listGridConfig,u=t.threshold,p=void 0===u?15:u,g=(0,n.__rest)(t,["data","hasMore","loadMore","listGridConfig","threshold"]),h=a?i.length+1:i.length;return-1!==this.getEmptyDataIndex()&&h++,r.createElement(o.Z,{threshold:p,isItemLoaded:this.isItemLoaded,itemCount:h,loadMoreItems:c},(function(t){var i=t.onItemsRendered,o=t.ref;return r.createElement(s.S_,(0,n.__assign)({},g,{height:d.height,itemCount:h,itemSize:e.getItemSize,onItemsRendered:i,ref:function(t){o(t),e.listRef={current:t}},width:d.width}),e._row)}))},t}(r.PureComponent)},977:(e,t,i)=>{"use strict";function n(e,t,i){void 0===t&&(t="yyyy-MM-dd hh:mm"),void 0===i&&(i=!1);var n=i?{"M+":e.getUTCMonth()+1,"d+":e.getUTCDate(),"h+":e.getUTCHours(),"m+":e.getUTCMinutes(),"s+":e.getUTCSeconds(),"q+":Math.floor((e.getUTCMonth()+3)/3),S:e.getUTCMilliseconds()}:{"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()},r=t;return/(y+)/.test(t)&&(r=t.replace(RegExp.$1,(""+e.getFullYear()).substr(4-RegExp.$1.length))),Object.keys(n).forEach((function(e){new RegExp("("+e+")").test(r)&&(r=r.replace(RegExp.$1,1===RegExp.$1.length?n[e]:("00"+n[e]).substr((""+n[e]).length)))})),r}i.d(t,{v:()=>n})},18149:(e,t,i)=>{var n=i(88746);e.exports=function(e,t){return n(e,t)}},12436:(e,t,i)=>{var n=i(54073),r=i(29259);e.exports=function(e,t,i){var s=!0,o=!0;if("function"!=typeof e)throw new TypeError("Expected a function");return r(i)&&(s="leading"in i?!!i.leading:s,o="trailing"in i?!!i.trailing:o),n(e,t,{leading:s,maxWait:t,trailing:o})}},61750:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(5163),r=i(2784);function s(e,t,i){void 0===t&&(t=[]),void 0===i&&(i={loading:!1});var s,o,a=(0,r.useRef)(0),l=(s=(0,r.useRef)(!1),o=(0,r.useCallback)((function(){return s.current}),[]),(0,r.useEffect)((function(){return s.current=!0,function(){s.current=!1}}),[]),o),c=(0,r.useState)(i),d=c[0],u=c[1],p=(0,r.useCallback)((function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var r=++a.current;return d.loading||u((function(e){return(0,n.__assign)((0,n.__assign)({},e),{loading:!0})})),e.apply(void 0,t).then((function(e){return l()&&r===a.current&&u({value:e,loading:!1}),e}),(function(e){return l()&&r===a.current&&u({error:e,loading:!1}),e}))}),t);return[d,p]}},98331:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(2784);function r(e,t,i){void 0===t&&(t=0),void 0===i&&(i=[]);var r=function(e,t){void 0===t&&(t=0);var i=(0,n.useRef)(!1),r=(0,n.useRef)(),s=(0,n.useRef)(e),o=(0,n.useCallback)((function(){return i.current}),[]),a=(0,n.useCallback)((function(){i.current=!1,r.current&&clearTimeout(r.current),r.current=setTimeout((function(){i.current=!0,s.current()}),t)}),[t]),l=(0,n.useCallback)((function(){i.current=null,r.current&&clearTimeout(r.current)}),[]);return(0,n.useEffect)((function(){s.current=e}),[e]),(0,n.useEffect)((function(){return a(),l}),[t]),[o,l,a]}(e,t),s=r[0],o=r[1],a=r[2];return(0,n.useEffect)(a,i),[s,o]}},27657:(e,t,i)=>{"use strict";i.d(t,{Q:()=>a});var n=i(11001),r=i(73121);const{coin:s,cont:o}=n.SW;function a(){const{unit:e}=(0,r.F7)();return{isCoinUnit:e===s,isContUnit:e===o}}},4474:(e,t,i)=>{"use strict";i.d(t,{Z:()=>s});var n=i(2784),r=i(23716);const s=(0,n.createContext)({symbol:"",changeSymbol:e=>{r.info(e)},useColumn:e=>({}),actionModifyOrder:e=>Promise.resolve(),actionCancel:(e,t)=>Promise.resolve(),actionModifyConfirmModal:(e,t,i)=>!1,actionStrategyModal:e=>!1,useStrategyOrder:(...e)=>({}),checked:!0,handleHideOtherPairs:e=>!0,emptyText:"You have no open orders.",headers:[]})},53818:(e,t,i)=>{"use strict";i.d(t,{HU:()=>d,ZP:()=>u,f8:()=>c});var n=i(52322),r=i(2784),s=i(30210),o=i(92036),a=i(4474),l=i(46555);const c={bg:"modalBg",p:0,py:"4px",mt:"8px"},d={alignItems:"center",justifyContent:"center",cursor:"pointer",fontSize:"12px",lineHeight:"16px",p:"minor",whiteSpace:"nowrap",height:"24px",minWidth:"96px",color:"t.primary",":hover":{bg:"line"}},u=r.memo((()=>{const{getI18n:e}=(0,l.Z)(),{actionCancel:t}=(0,r.useContext)(a.Z);return(0,n.jsx)(s.Z,Object.assign({sx:c},{children:[{text:e("actionAll",{defaultValue:"All"}),message:e("actionAllMsg",{defaultValue:"Are you sure you want to cancel all?"})},{text:e("actionLimit",{defaultValue:"Limit"}),message:e("actionLimitMsg",{defaultValue:"Are you sure to cancel all Limit orders?"})},{text:e("actionStopLimit",{defaultValue:"Stop-Limit"}),message:e("actionStopLimitMsg",{defaultValue:"Are you sure to cancel all Stop-Limit orders?"})}].map(((e,i)=>(0,n.jsx)(o.Z,Object.assign({sx:d,onClick:()=>{t(i,e.message)}},{children:e.text}),i)))}),void 0)}))},46555:(e,t,i)=>{"use strict";i.d(t,{Z:()=>r});var n=i(97060);const r=e=>(0,n.ZK)("trd-openOrder",e)},9527:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>it});var n=i(52322),r=i(2784),s=i(39727),o=i(68598),a=i(62143),l=i(92036),c=i(45362),d=i(45455),u=i.n(d),p=i(59651),g=i(81993),h=i(97060),x=i(68135),m=i(38896),f=i(3077),y=i(33470),v=i(37227),b=i(977),j=i(23131),O=i(32485),C=i(11001),k=i(48752),S=i(42871),w=i(46555),Z=i(27657);const T=(0,j.nM)(),P=e=>T?(({symbol:e,insertTime:t,side:i,origType:n,type:r,price:s,origQty:o,executedQty:a,stopPrice:l,workingType:c,activatePrice:d,avgPrice:u,priceRate:p})=>{var g;const{getI18n:x}=(0,w.Z)(),{isCoinUnit:S}=(0,Z.Q)(),{getI18n:T}=(0,h.yk)(),P=(0,m.AM)()[e]||{},{equalQtyPrecision:I,pricePrecision:E,quantityPrecision:N,marginAsset:V,contractVal:_=100}=P,{tickers:M={}}=(0,f.s)((0,j.BN)())||{},{lastPrice:R}=M[e]||{},L=(0,O.i)({side:i,type:n}),A=Number(l)||Number(s),H=(0,y.uf)(A,E);let F=L&&A&&H?`${x(null===(g=C.HZ[c])||void 0===g?void 0:g.replace(/\s/g,"-"),{defaultValue:C.HZ[c]})} \r\n${[L,H].join(" ")}`:j.GR;Number(d)&&(F=`${T("activationPrice",{defaultValue:"Activation Price"})} \r\n${["BUY"===i?"<=":">=",(0,y.uf)(d,E)].join(" ")}`);const B=C.Y1.includes(r)?j.GR:(0,y.uf)(s,E),z=T("Cont",{defaultValue:"Cont"}),G=C.cQ.includes(r)?l:"TRAILING_STOP_MARKET"===r?d||R:s;let D,$=e;return P&&(D=(0,v.H)(P,T),$=D.shortName),{nextDate:(0,b.v)(new Date(t),"yyyy-MM-dd hh:mm:ss"),nextPair:$,symbolName:D,nextType:x(`type-${r}`,{defaultValue:r})||r,nextPrice:B,nextAmount:S?`${(0,k.unitChangeCoinQty)({quantity:o,contractVal:_,price:G,precision:I})} ${V}`:`${(0,y.uf)(o,N)} ${z}`,nextFilled:S?`${(0,k.unitChangeCoinQty)({quantity:a,contractVal:_,price:u,precision:I})} ${V}`:`${(0,y.uf)(a,N)} ${z}`,nextTriggerConditions:F}})(e):(({symbol:e,insertTime:t,side:i,origType:n,type:r,price:s,origQty:o,executedQty:a,stopPrice:l,workingType:c,activatePrice:d,avgPrice:u})=>{var p;const{getI18n:g}=(0,w.Z)(),{getI18n:x}=(0,h.yk)(),k=(0,m.AM)()[e]||{},{getFormatedQuantity:Z}=(0,S.s7)(k),{pricePrecision:T,quantityPrecision:P}=k,{tickers:I={}}=(0,f.s)((0,j.BN)())||{},{lastPrice:E}=I[e]||{},N=(0,O.i)({side:i,type:n}),V=Number(l)||Number(s),_=(0,y.uf)(V,T);let M=N&&V&&_?`${g(null===(p=C.HZ[c])||void 0===p?void 0:p.replace(/\s/g,"-"),{defaultValue:C.HZ[c]})} \r\n${[N,_].join(" ")}`:j.GR;Number(d)&&(M=`${x("activationPrice",{defaultValue:"Activation Price"})} \r\n${["BUY"===i?"<=":">=",(0,y.uf)(d,T)].join(" ")}`);const R=C.Y1.includes(r)?j.GR:(0,y.uf)(s,T),L=C.cQ.includes(n)?l:"TRAILING_STOP_MARKET"===r?d||E:s;let A,H=e;return k&&(A=(0,v.H)(k,x),H=A.shortName),{nextDate:(0,b.v)(new Date(t),"yyyy-MM-dd hh:mm:ss"),nextPair:H,symbolName:A,nextType:g(`type-${r}`,{defaultValue:r})||r,nextPrice:R,nextAmount:Z({quantity:o,price:L,qtyPrecision:P}),nextFilled:Z({quantity:a,price:u,qtyPrecision:P}),nextTriggerConditions:M}})(e);var I=i(76940),E=i(53818),N=i(61750),V=i(36416),_=function(e,t,i,n){return new(i||(i=Promise))((function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))};const M=(0,j.nM)(),R=(0,j.nM)(),L=e=>R?function({symbol:e,side:t,quantity:i,type:n,price:r,stopPrice:s,avgPrice:o,closePosition:a}){const{getI18n:l}=(0,w.Z)(),{getI18n:c}=(0,h.yk)(),{isCoinUnit:d}=(0,Z.Q)(),u=(0,m.AM)()[e]||{},{equalQtyPrecision:p,marginAsset:g,contractVal:x=100,quantityPrecision:f,close:v}=u,b=c("Cont",{defaultValue:"Cont"}),j=l("closePosition",{defaultValue:"Close Positioin"}),O=C.cQ.includes(n)?s:"MARKET"===n?o||v:r,S=d?`${(0,k.unitChangeCoinQty)({quantity:i,contractVal:x,price:O,precision:p})} ${g}`:`${(0,y.uf)(i,f)} ${b}`;return{amount:a?j:S,sideProps:"BUY"===t?{color:"buy",children:l("sideBuy",{defaultValue:"Buy"})}:{color:"sell",children:l("sideSell",{defaultValue:"Sell"})}}}(e):function({symbol:e,side:t,quantity:i,type:n,price:r,stopPrice:s,avgPrice:o,closePosition:a}){const{getI18n:l}=(0,w.Z)(),c=(0,m.AM)()[e]||{},{getFormatedQuantity:d}=(0,S.s7)(c),{quantityPrecision:u,close:p}=c,g=l("closePosition",{defaultValue:"Close Positioin"}),h=d({quantity:i,price:C.cQ.includes(n)?s:"MARKET"===n?o||p:r,qtyPrecision:u});return{amount:a?g:h,sideProps:"BUY"===t?{color:"buy",children:l("sideBuy",{defaultValue:"Buy"})}:{color:"sell",children:l("sideSell",{defaultValue:"Sell"})}}}(e);var A=i(77376),H=i(87364),F=i(4474),B=i(48658),z=i(34553),G=i(59745),D=i(2821),$=i(53935),K=i(53096),U=i(3638);const Y=({mainOrder:e,subOrders:t})=>{const i="light"===(0,m.Fg)(),r=2===(null==t?void 0:t.length);return(0,n.jsxs)(n.Fragment,{children:[e,(0,n.jsx)("svg",Object.assign({width:"100%",height:"100%",viewBox:"0 0 504 54",fill:"none",style:{margin:"0 auto -5px"},xmlns:"http://www.w3.org/2000/svg"},{children:r?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:"M252 0 L252 27 L122 27 L122 54",style:{stroke:i?"#F5F5F5":"#474D57",strokeWidth:"3px"}},void 0),(0,n.jsx)("path",{d:"M252 27 L382 27 L382 54",style:{stroke:i?"#F5F5F5":"#474D57",strokeWidth:"3px"}},void 0)]},void 0):(0,n.jsx)("path",{d:"M252 0 L252 54",style:{stroke:i?"#F5F5F5":"#474D57",strokeWidth:"3px"}},void 0)}),void 0),(0,n.jsx)(l.Z,Object.assign({justifyContent:r?"space-between":"center"},{children:t}),void 0)]},void 0)},q=({mainOrder:e,subOrders:t})=>{const i=2===t.length?380:190,r="light"===(0,m.Fg)();return(0,n.jsxs)(n.Fragment,{children:[e,(0,n.jsxs)(l.Z,Object.assign({justifyContent:"start"},{children:[(0,n.jsx)("svg",Object.assign({width:"30",height:"100%",fill:"none",viewBox:`0 0 30 ${i}`,xmlns:"http://www.w3.org/2000/svg"},{children:2===(null==t?void 0:t.length)?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("path",{d:`M15 0 L15 ${i/4} L30 ${i/4}`,style:{stroke:r?"#F5F5F5":"#474D57",strokeWidth:"4px"}},void 0),(0,n.jsx)("path",{d:`M15 ${i/4} L15 ${3*i/4} L30 ${3*i/4}`,style:{stroke:r?"#F5F5F5":"#474D57",strokeWidth:"4px"}},void 0)]},void 0):(0,n.jsx)("path",{d:`M15 0 L15 ${i/2} L30 ${i/2}`,style:{stroke:r?"#F5F5F5":"#474D57",strokeWidth:"4px"}},void 0)}),void 0),(0,n.jsx)(a.Z,Object.assign({sx:{width:"calc(100% - 30px)"}},{children:t}),void 0)]}),void 0)]},void 0)},W=e=>(0,n.jsx)(A.Z,{children:({isMobile:t})=>t?(0,n.jsx)(q,Object.assign({},e),void 0):(0,n.jsx)(Y,Object.assign({},e),void 0)},void 0);var Q=i(72779),X=i.n(Q),J=i(16831),ee=i(59546),te=i(39477);const ie=e=>{var t;return null===(t=null==e?void 0:e.toLowerCase())||void 0===t?void 0:t.replace(/_/g,"-")},ne=["LIMIT","STOP","TAKE_PROFIT"],re={mx:"auto",display:"flex",flexDirection:"column",alignItems:"center",".description":{color:"t.primary",mb:"10px",display:"inline-block"},".card":{width:["100%","284px"],borderRadius:"2px",border:"1px solid",borderColor:"lines.border",fontSize:"14px",lineHeight:"16px","&.orderA":{".orderType":{mt:"0px",mb:"0px",".type":{color:"t.third"}}},"&.orderB":{mr:"auto",ml:"0px","&.only":{ml:"auto"}},"&.orderC":{mr:"0px",ml:"auto"}},".title":{px:"16px",py:"8px",backgroundColor:"dialog.panelBg",color:"primary"},".content":{px:"16px",paddingTop:"8px",paddingBottom:"16px"},".row":{display:"flex",width:"100%",justifyContent:"space-between",alignItems:"center",marginTop:"xs","&.editable":{marginTop:"4px"}},".orderType":{mt:"sm",mb:"sm",lineHeight:"19px",".type":{color:"t.primary"},".status":{color:"t.third"}}},se={height:"16px",minHeight:"16px",py:"3px",border:"none",color:"t.primary",svg:{height:"16px",right:"-6px",marginTop:"4px"},backgroundColor:"transparent",justifyContent:"end"},oe=({order:e={},subOrderLength:t})=>{const{getI18n:i}=(0,w.Z)(),{getI18n:s}=(0,h.yk)(),{type:o,status:l,price:c,reduceOnly:d}=e,{useStrategyOrder:u}=(0,r.useContext)(F.Z),{amount:p,sideProps:g}=u(e);return(0,n.jsxs)(a.Z,Object.assign({sx:re},{children:[(0,n.jsx)("div",Object.assign({className:"description"},{children:1===t?i("orderA-OTO-description",{defaultValue:"If order A executes, orders B will be placed."}):i("orderA-OTOCO-description",{defaultValue:"If order A executes, orders B and C will be placed."})}),void 0),(0,n.jsxs)("div",Object.assign({className:"card orderA"},{children:[(0,n.jsx)("div",Object.assign({className:"title"},{children:i("orderA",{defaultValue:"Order A"})}),void 0),(0,n.jsxs)("div",Object.assign({className:"content"},{children:[(0,n.jsxs)("div",Object.assign({className:"row orderType"},{children:[(0,n.jsx)(B.Z,Object.assign({color:"t.third",className:"type"},{children:i(`type-${o}`,{defaultValue:o})}),void 0),(0,n.jsx)(B.Z,Object.assign({fontSize:0,color:"t.third",className:"status"},{children:i(`status-${ie(l)}`,{defaultValue:l})}),void 0)]}),void 0),(0,n.jsxs)("div",Object.assign({className:"row"},{children:[(0,n.jsx)(B.Z,Object.assign({color:"t.third"},{children:i("side",{defaultValue:"Side"})}),void 0),(0,n.jsx)(B.Z,Object.assign({},g),void 0)]}),void 0),(0,n.jsxs)("div",Object.assign({className:"row"},{children:[(0,n.jsx)(B.Z,Object.assign({color:"t.third"},{children:i("amount",{defaultValue:"Amount"})}),void 0),(0,n.jsx)(B.Z,Object.assign({color:"t.primary"},{children:p}),void 0)]}),void 0),ne.includes(o)&&(0,n.jsxs)("div",Object.assign({className:"row"},{children:[(0,n.jsx)(B.Z,Object.assign({color:"t.third"},{children:i("price",{defaultValue:"Price"})}),void 0),(0,n.jsx)(B.Z,Object.assign({color:"t.primary"},{children:c}),void 0)]}),void 0),(0,n.jsxs)("div",Object.assign({className:"row"},{children:[(0,n.jsx)(B.Z,Object.assign({color:"t.third"},{children:i("reduceOnly",{defaultValue:"Reduce Only"})}),void 0),(0,n.jsx)(B.Z,Object.assign({color:"t.primary"},{children:s(d?"openOrder-true":"openOrder-false",{defaultValue:d?"True":"False"})}),void 0)]}),void 0)]}),void 0)]}),void 0)]}),void 0)},ae=({step:e,tickSizePrecision:t,order:i,changeOrder:s,index:o,subOrderLength:l})=>{const{getI18n:c}=(0,w.Z)(),{getI18n:d}=(0,h.yk)(),{type:u,status:p,stopPrice:g,workingType:x,price:m,reduceOnly:f}=i||{},{useStrategyOrder:y}=(0,r.useContext)(F.Z),{amount:v,sideProps:b}=y(i),j="PENDING"===p,O={CONTRACT_PRICE:c("Last-Price",{defaultValue:"Last Price"}),MARK_PRICE:c("Mark-Price",{defaultValue:"Mark Price"})},C=(0,r.useCallback)((e=>{(0,ee._p)(e,(e=>s(Object.assign(Object.assign({},i),{stopPrice:e}),o)),"",t)}),[s,i,t,o]),k=(0,r.useCallback)((e=>s(Object.assign(Object.assign({},i),{workingType:e}),o)),[s,i,o]);return(0,n.jsxs)(a.Z,Object.assign({sx:re},{children:[0===o&&(0,n.jsx)("div",Object.assign({className:"description"},{children:2===l?c("orderB-OTOCO-description",{defaultValue:"If order B executes cancel order C."}):""}),void 0),1===o&&(0,n.jsx)("div",Object.assign({className:"description"},{children:2===l?c("orderC-OTOCO-description",{defaultValue:"If order C executes cancel order B."}):""}),void 0),(0,n.jsxs)("div",Object.assign({className:X()({orderB:0===o,orderC:1===o,only:1===l,card:!0})},{children:[(0,n.jsx)("div",Object.assign({className:"title"},{children:c(0===o?"orderB":"orderC",{defaultValue:0===o?"Order B":"Order C"})}),void 0),(0,n.jsxs)("div",Object.assign({className:"content"},{children:[(0,n.jsxs)("div",Object.assign({className:"row orderType"},{children:[(0,n.jsx)(B.Z,Object.assign({fontSize:2,color:"t.primary"},{children:c(`type-${u}`,{defaultValue:u})}),void 0),(0,n.jsx)(B.Z,Object.assign({fontSize:0,color:"t.third"},{children:c(`status-${ie(p)}`,{defaultValue:p})}),void 0)]}),void 0),(0,n.jsxs)("div",Object.assign({className:"row"},{children:[(0,n.jsx)(B.Z,Object.assign({color:"t.third"},{children:c("side",{defaultValue:"Side"})}),void 0),(0,n.jsx)(B.Z,Object.assign({},b),void 0)]}),void 0),(0,n.jsxs)("div",Object.assign({className:"row"},{children:[(0,n.jsx)(B.Z,Object.assign({color:"t.third"},{children:c("amount",{defaultValue:"Amount"})}),void 0),(0,n.jsx)(B.Z,Object.assign({color:"t.primary"},{children:v}),void 0)]}),void 0),ne.includes(u)&&(0,n.jsxs)("div",Object.assign({className:"row"},{children:[(0,n.jsx)(B.Z,Object.assign({color:"t.third"},{children:c("price",{defaultValue:"Price"})}),void 0),(0,n.jsx)(B.Z,Object.assign({color:"t.primary"},{children:m}),void 0)]}),void 0),(0,n.jsxs)("div",Object.assign({className:"row "+(j?"editable":"")},{children:[(0,n.jsx)(B.Z,Object.assign({color:"t.third"},{children:c("triggerPrice",{defaultValue:"Trigger Price"})}),void 0),j?(0,n.jsx)(J.Z,{type:"number",variant:"outline",step:e,value:g,onChange:C,boxProps:{sx:{height:"24px",lineHeight:1,mt:0,pl:[0,"minor"],fontSize:"12px",border:"none",backgroundColor:"dialog.panelBg"}},sx:{textAlign:"right"}},void 0):(0,n.jsx)(B.Z,Object.assign({color:"t.primary"},{children:g}),void 0)]}),void 0),(0,n.jsxs)("div",Object.assign({className:"row "+(j?"editable":"")},{children:[(0,n.jsx)(B.Z,Object.assign({color:"t.third"},{children:c("trigger",{defaultValue:"Trigger"})}),void 0),j?(0,n.jsx)(te.Z,{sx:se,workingType:x,changeWorkingType:k},void 0):(0,n.jsx)(B.Z,Object.assign({color:"t.primary"},{children:O[x]}),void 0)]}),void 0),(0,n.jsxs)("div",Object.assign({className:"row"},{children:[(0,n.jsx)(B.Z,Object.assign({color:"t.third"},{children:c("reduceOnly",{defaultValue:"Reduce Only"})}),void 0),(0,n.jsxs)(B.Z,Object.assign({color:"t.primary"},{children:[" ",d(f?"openOrder-true":"openOrder-false",{defaultValue:f?"True":"False"})]}),void 0)]}),void 0)]}),void 0)]}),void 0)]}),void 0)};var le=function(e,t,i,n){return new(i||(i=Promise))((function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))};const ce=r.memo((e=>{const{getI18n:t,i18n:{language:i}}=(0,w.Z)(),{isMobile:s,visible:o,order:d={},onClose:p}=e,h=(0,m.AM)()[d.symbol]||{},x=(0,U.p)(h.tickSize),f=h.tickSize,y=!u()(d)&&o,[v,b]=(0,r.useState)(!1),[j,O]=(0,r.useState)({}),[C,k]=(0,r.useState)({}),[S,Z]=(0,r.useState)([]),T=(0,r.useCallback)(((e,t)=>{const i=S.map(((i,n)=>n===t?e:i));Z(i)}),[S]),P=(0,r.useCallback)((()=>le(void 0,void 0,void 0,(function*(){const{strategyId:e,strategyType:t}=d;b(!0);const i=yield(0,D.Su)({strategyId:e,strategyType:t});b(!1);const{success:n,data:r}=i;n&&r&&(O(r),k(r.subOrders[0]),"OTOCO"===r.strategyType?Z(r.subOrders.slice(1,3)):Z(r.subOrders.slice(1,2)))}))),[d]);(0,r.useEffect)((()=>{y?P():(O({}),k({}),Z([]))}),[P,y]);const{enqueueNotification:I}=(0,g.Z)(),E=(0,r.useCallback)((e=>le(void 0,void 0,void 0,(function*(){"STOP_MARKET"!==e.type&&"TAKE_PROFIT_MARKET"!==e.type||delete e.price,delete e.status;const{success:n,message:r}=yield(0,D.ZX)(e,{language:i});n&&I({message:t("update-strategy-suc"),variant:"success"})}))),[t,i,I]),N=(0,r.useCallback)((()=>{const{strategyType:e}=j,t=[];S.forEach(((i,n)=>{(function(e,t){return Number(t.stopPrice)!==Number(e.stopPrice)||t.workingType!==e.workingType})(i,j.subOrders[n+1])&&t.push(E(Object.assign(Object.assign({},i),{strategyType:e})))})),Promise.all(t).finally(p)}),[p,j,S,E]);return(0,n.jsxs)(z.Z,Object.assign({open:y,onCloseIconClick:p,sx:{width:["100%","640px"],height:["100%","auto"]},contentSx:{height:["100%","auto"],p:0}},{children:[(0,n.jsx)(a.Z,Object.assign({as:"h3",__css:{borderBottom:["none","2px solid"],borderBottomColor:["transparent","primary"],px:"md",pt:["50px","sm"],pb:["6px","sm"],textAlign:["unset","center"],fontSize:["xp","md"],lineHeight:"20px",fontWeight:"medium"}},{children:t("strategyOrder",{defaultValue:"Strategy Order"})}),void 0),(0,n.jsxs)(a.Z,Object.assign({sx:{height:"calc(100% - 76px)",overflowY:"auto",p:"md"}},{children:[(0,n.jsxs)(a.Z,Object.assign({sx:{minHeight:"400px"}},{children:[(0,n.jsx)(K.Z,{inner:!0,show:v},void 0),(0,n.jsx)(W,{mainOrder:(0,n.jsx)(oe,{order:C,subOrderLength:S.length},void 0),subOrders:S.map(((e,t)=>(0,n.jsx)(ae,{index:t,tickSizePrecision:x,step:Number(f),order:e,changeOrder:T,subOrderLength:S.length},e.strategySubId)))},void 0),(0,n.jsxs)(l.Z,Object.assign({alignItems:"start",mt:"md",color:"t.third"},{children:[(0,n.jsx)($.Z,{size:32,mr:"xs",height:"0.5em"},void 0),(0,n.jsx)(B.Z,Object.assign({fontSize:"14px",lineHeight:"16px"},{children:"OTOCO"===j.strategyType?t("strategyOrderTip"):t("strategyOrderTip2")}),void 0)]}),void 0)]}),void 0),s&&(0,n.jsx)(a.Z,{sx:{width:"100%",height:"64px"}},void 0),(0,n.jsx)(G.y,Object.assign({sx:{bg:"popupBg"}},{children:(0,n.jsxs)(l.Z,{children:[(0,n.jsx)(c.Z,Object.assign({flex:"auto",variant:"outline",sx:{boxShadow:"outlineBtnShadow",color:"t.primary",mr:"md",height:"40px"},onClick:p},{children:t("cancel",{defaultValue:"Cancel"})}),void 0),(0,n.jsx)(c.Z,Object.assign({flex:"auto",onClick:N,height:"40px"},{children:t("confirm",{defaultValue:"Confirm"})}),void 0)]},void 0)}),void 0)]}),void 0)]}),void 0)}));var de=i(47316),ue=i(19739);const pe=r.memo((({order:e,onClose:t})=>{const{symbol:i,side:s,positionSide:o,modifyParams:a={},onConfirm:l}=e,{positionMode:c=!1}=(0,m.F7)(),{getI18n:d}=(0,h.yk)(),[u,p]=(0,de.g)(j.Zv,j.Xd),{limitPrice:g,qty:x,amendedField:f}=a,y="BUY"===s?"buy":"sell",v=(({side:e,positionSide:t,getFutI18n:i,positionMode:n})=>{const r=i("buyLong",{defaultValue:"Buy/Long"}),s=i("sellShort",{defaultValue:"Sell/Short"}),o=i("OpenLong",{defaultValue:"Open Long"}),a=i("OpenShort",{defaultValue:"Open Short"}),l=i("CloseShort",{defaultValue:"Close Short"}),c=i("CloseLong",{defaultValue:"Close Long"});let d;return d=n?"BUY"===e?"SHORT"===t?l:o:"SHORT"===t?a:c:"BUY"===e?r:s,d})({side:s,positionSide:o,getFutI18n:d,positionMode:c}),b=(0,r.useCallback)((()=>{const e=Object.assign(Object.assign({},u),{needConfirm:!1});p(e)}),[p,u]);return(0,n.jsx)(ue.Z,{symbol:i,title:v,color:y,amendedField:f,isMarket:!1,limitPrice:g,qty:x,isClose:!1,onClose:t,onConfirm:l,closeTip:b,orderSide:s},void 0)}));var ge=i(85435),he=i(27986);const xe=r.memo((({hasData:e})=>{const{getI18n:t}=(0,w.Z)(),{getI18n:i}=(0,h.yk)(),{handleHideOtherPairs:s,checked:o,actionCancel:a}=(0,r.useContext)(F.Z);return(0,n.jsxs)("div",Object.assign({className:"action-bar"},{children:[(0,n.jsxs)(l.Z,Object.assign({sx:{alignItems:"center",color:"t.third"},onClick:()=>s(!o)},{children:[(0,n.jsx)(he.Z,{name:"hideOtherSymbol",checked:o,onChange:()=>!1},void 0),(0,n.jsx)(B.Z,Object.assign({variant:"caption",sx:{userSelect:"none"}},{children:i("hideOtherSymbol")}),void 0)]}),void 0),(0,n.jsx)(B.Z,Object.assign({onClick:e?()=>{a(0,t("actionAllMsg",{defaultValue:"Are you sure you want to cancel all?"}))}:void 0,variant:"caption",sx:{color:e?"t.yellow":"t.third"}},{children:t("action",{defaultValue:"Cancel All"})}),void 0)]}),void 0)}));var me=i(55137);const fe=({children:e})=>(0,n.jsx)(B.Z,Object.assign({variant:"caption",__css:{color:"t.third"}},{children:e}),void 0),ye=e=>{var{color:t="t.primary"}=e,i=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}(e,["color"]);return(0,n.jsx)(B.Z,Object.assign({variant:"captionSub",color:t},i),void 0)},ve=({children:e,sx:t})=>(0,n.jsx)(l.Z,Object.assign({className:"row-item",sx:t},{children:e}),void 0),be=({orderId:e,symbolName:t,side:i,positionSide:s,nextPair:o,nextType:a,actionCancel:l})=>{const{getI18n:c}=(0,w.Z)(),d=(0,r.useCallback)((()=>{l((({orderId:t})=>e===t))}),[l,e]);return(0,n.jsxs)(ve,Object.assign({sx:{pb:"10px !important"}},{children:[(0,n.jsxs)("div",Object.assign({className:"symbol-wrap"},{children:[t?(0,n.jsxs)("div",Object.assign({className:"symbolText"},{children:[(0,n.jsx)("div",Object.assign({className:"symbol"},{children:t.symbol}),void 0),(0,n.jsx)("div",{children:`${t.contractTypeI18n} ${t.deliveryDateFormat}`},void 0)]}),void 0):(0,n.jsx)("div",Object.assign({className:"symbolText"},{children:o}),void 0),(0,n.jsx)(B.Z,Object.assign({variant:"caption",sx:{color:"BUY"===i?"buy":"sell"}},{children:"BUY"===i?`${a} / ${c(`sideBuy${s}`,{defaultValue:"Buy"})}`:`${a} / ${c(`sideSell${s}`,{defaultValue:"Sell"})}`}),void 0)]}),void 0),(0,n.jsx)("div",Object.assign({className:"cancel-order",onClick:d},{children:c("cancel",{defaultValue:"Cancel"})}),void 0)]}),void 0)},je=({nextDate:e})=>{const{getI18n:t}=(0,w.Z)();return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(fe,{children:t("date",{defaultValue:"Date"})},void 0),(0,n.jsx)(ye,{children:e},void 0)]},void 0)},Oe=({strategyId:e,strategyType:t,actionStrategyModal:i,order:s})=>{const{getI18n:o}=(0,w.Z)(),a=("OTOCO"===t||"OTO"===t)&&e,l=(0,r.useCallback)((()=>{i(s)}),[i,s]);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(fe,{children:o("strategy",{defaultValue:"Strategy"})},void 0),a?(0,n.jsx)("div",Object.assign({className:"strategy-view",onClick:l},{children:o("strategyView",{defaultValue:"View"})}),void 0):(0,n.jsx)(B.Z,{children:"--"},void 0)]},void 0)},Ce=(0,r.memo)((e=>{const{orderId:t,side:i,reduceOnly:s,positionSide:o="BOTH",closePosition:a,strategyId:c,strategyType:d,timeInForce:u,type:p,activatePrice:g,priceRate:x,workingType:m}=e,{getI18n:f}=(0,w.Z)(),{getI18n:y}=(0,h.yk)(),{actionCancel:v,actionStrategyModal:b,useColumn:j}=(0,r.useContext)(F.Z),O=j(e),{symbolName:C,nextPair:k,nextFilled:S,nextDate:Z,nextPrice:T,nextAmount:P,nextType:I,nextTriggerConditions:E}=O,N=f("closePosition",{defaultValue:"Close Position"}),V=(0,r.useMemo)((()=>[{label:f("filled",{defaultValue:"Filled"}),value:S},{label:f("reduceOnly",{defaultValue:"Reduce Only"}),value:s?f("YES",{defaultValue:"YES"}):f("NO",{defaultValue:"NO"})},{label:y("orderType-postOnly",{defaultValue:"Post Only"}),value:"GTX"===u?f("YES",{defaultValue:"YES"}):f("NO",{defaultValue:"NO"})}]),[f,S,s,y,u]);return(0,n.jsxs)("div",Object.assign({className:"row-wrap"},{children:[(0,n.jsx)(be,{orderId:t,symbolName:C,side:i,positionSide:o,nextPair:k,nextType:I,actionCancel:v},void 0),(0,n.jsxs)(ve,{children:[(0,n.jsx)(fe,{children:f("price",{defaultValue:"Price"})},void 0),(0,n.jsx)(ye,{children:T},void 0)]},"price"),(0,n.jsxs)(ve,{children:[(0,n.jsx)(fe,{children:f("amount",{defaultValue:"Amount"})},void 0),(0,n.jsx)(ye,{children:a?N:P},void 0)]},"amount"),V.map((({label:e,value:t})=>(0,n.jsxs)(ve,{children:[(0,n.jsx)(fe,{children:e},void 0),(0,n.jsx)(ye,{children:t},void 0)]},e))),(0,n.jsxs)(ve,{children:[(0,n.jsx)(fe,{children:f("triggerConditions",{defaultValue:"Trigger Conditions"})},void 0),(0,n.jsxs)(l.Z,Object.assign({alignItems:"center"},{children:[(0,n.jsx)(ye,{children:E},void 0),(0,n.jsx)(me.Z,{type:p,workingType:m,activatePrice:g,priceRate:x},void 0)]}),void 0)]},"triggerConditions"),(0,n.jsx)(ve,{children:(0,n.jsx)(Oe,{strategyId:c,strategyType:d,actionStrategyModal:b,order:e},void 0)},"tpsl"),(0,n.jsx)(ve,{children:(0,n.jsx)(je,{nextDate:Z},void 0)},"date")]}),void 0)})),ke=(0,r.memo)((e=>{const{orderId:t,side:i,reduceOnly:s,positionSide:o="BOTH",closePosition:a,strategyId:c,strategyType:d,timeInForce:u,type:p,activatePrice:g,priceRate:x,workingType:m}=e,{getI18n:f}=(0,w.Z)(),{getI18n:y}=(0,h.yk)(),{actionCancel:v,actionStrategyModal:b,useColumn:j}=(0,r.useContext)(F.Z),O=j(e),{symbolName:C,nextPair:k,nextFilled:S,nextDate:Z,nextPrice:T,nextAmount:P,nextType:I,nextTriggerConditions:E}=O,N=f("closePosition",{defaultValue:"Close Position"}),V=(0,r.useMemo)((()=>[{columnKey:"filled",label:f("filled",{defaultValue:"Filled"}),value:S},{columnKey:"reduceOnly",label:f("reduceOnly",{defaultValue:"Reduce Only"}),value:s?f("YES",{defaultValue:"YES"}):f("NO",{defaultValue:"NO"})},{columnKey:"postOnly",label:y("orderType-postOnly",{defaultValue:"Post Only"}),value:"GTX"===u?f("YES",{defaultValue:"YES"}):f("NO",{defaultValue:"NO"})}]),[f,S,s,y,u]);return(0,n.jsxs)("div",Object.assign({className:"row-wrap"},{children:[(0,n.jsx)(be,{orderId:t,symbolName:C,side:i,positionSide:o,nextPair:k,nextType:I,actionCancel:v},void 0),(0,n.jsxs)("div",Object.assign({className:"row-grid"},{children:[(0,n.jsxs)("div",Object.assign({className:"price"},{children:[(0,n.jsx)(fe,{children:f("price",{defaultValue:"Price"})},void 0),(0,n.jsx)(ye,{children:T},void 0)]}),void 0),(0,n.jsxs)("div",Object.assign({className:"amount"},{children:[(0,n.jsx)(fe,{children:f("amount",{defaultValue:"Amount"})},void 0),(0,n.jsx)(ye,{children:a?N:P},void 0)]}),void 0),V.map((({label:e,value:t,columnKey:i})=>(0,n.jsxs)("div",Object.assign({className:i},{children:[(0,n.jsx)(fe,{children:e},void 0),(0,n.jsx)(ye,{children:t},void 0)]}),i))),(0,n.jsxs)("div",Object.assign({className:"triggerConditions"},{children:[(0,n.jsxs)(l.Z,Object.assign({alignItems:"center",justifyContent:"flex-end"},{children:[(0,n.jsx)(fe,{children:f("triggerConditions",{defaultValue:"Trigger Conditions"})},void 0),(0,n.jsx)(me.Z,{type:p,workingType:m,activatePrice:g,priceRate:x},void 0)]}),void 0),(0,n.jsx)(ye,{children:E},void 0)]}),void 0),(0,n.jsx)("div",Object.assign({className:"tpsl"},{children:(0,n.jsx)(Oe,{strategyId:c,strategyType:d,actionStrategyModal:b,order:e},void 0)}),void 0),(0,n.jsx)("div",Object.assign({className:"date"},{children:(0,n.jsx)(je,{nextDate:Z},void 0)}),void 0)]}),void 0)]}),void 0)})),Se={position:"relative",flexDirection:"column",flex:"1 0",".action-bar":{display:"flex",justifyContent:"space-between",alignItems:"center",height:32,pt:10},".empty":{display:"flex",minHeight:120,alignItems:"center",justifyContent:"center",color:"t.secondary",fontSize:0},".row-wrap":{color:"t.primary",py:15,borderBottom:"1px solid",borderColor:"line","&:last-of-type":{mb:102,borderBottom:"none"},"& .row-item":{justifyContent:"space-between",alignItems:"center",py:"minor"},"& .symbol-wrap":{display:"flex",flexDirection:"column",fontSize:0,"& .symbolText":{display:"flex",alignItems:"center"},"& .symbol":{mr:"minor",fontSize:1,fontWeight:"medium"}},"& .cancel-order":{py:"minor",px:"xs",fontSize:0,color:"t.primary",bg:"line",borderRadius:"3px"},"& .strategy-view":{fontSize:0,color:"t.yellow"}}},we={position:"relative",flexDirection:"column",height:"100%",".action-bar":{display:"flex",justifyContent:"space-between",alignItems:"center",height:32,pt:10},".empty":{display:"flex",minHeight:120,alignItems:"center",justifyContent:"center",color:"t.secondary",fontSize:0},".row-list":{height:"calc(100% - 32px)",overflow:"auto","&::-webkit-scrollbar":{display:"none"},"&::-webkit-scrollbar-thumb":{bg:"transparent"}},".row-wrap":{color:"t.primary",py:15,borderBottom:"1px solid",borderColor:"line","&:last-of-type":{mb:15,borderBottom:"none"},".row-grid":{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gridTemplateRows:"repeat(3, 1fr)",gridGap:"12px 16px",gridTemplateAreas:'"price amount filled"\n        "reduceOnly postOnly triggerConditions"\n        "tpsl date ."',"& .filled, & .triggerConditions":{textAlign:"right"}},"& .row-item":{justifyContent:"space-between",alignItems:"center"},"& .symbol-wrap":{display:"flex",alignItems:"center",fontSize:0,"& .symbolText":{display:"flex",alignItems:"center",mr:"xs"},"& .symbol":{mr:"minor",fontSize:1,fontWeight:"medium"}},"& .cancel-order":{py:"minor",px:"xs",fontSize:0,color:"t.primary",bg:"line",borderRadius:"3px"},"& .strategy-view":{fontSize:0,color:"t.yellow"}}},Ze=r.memo((({isMobile:e,outLoading:t,items:i,girdLoading:s})=>{const{emptyText:o}=(0,r.useContext)(F.Z);return(0,n.jsxs)(l.Z,Object.assign({sx:e?Se:we},{children:[(0,n.jsx)(K.Z,{fullScreen:!0,show:t},void 0),(0,n.jsx)(xe,{hasData:(null==i?void 0:i.length)>0},void 0),s||i&&i.length?(0,n.jsx)(n.Fragment,{children:e?i.map(((e,t)=>(0,n.jsx)(Ce,Object.assign({},e),t))):(0,n.jsx)("div",Object.assign({className:"row-list"},{children:i.map(((e,t)=>(0,n.jsx)(ke,Object.assign({},e),t)))}),void 0)},void 0):(0,n.jsx)(ge.pB,Object.assign({className:"empty"},{children:o}),void 0)]}),void 0)}));var Te=i(18495),Pe=i(24685),Ie=i(55742),Ee=i(10337);const Ne=r.memo((({hasData:e,headers:t=[],style:i})=>{const{actionCancel:s}=(0,r.useContext)(F.Z),{getI18n:o}=(0,w.Z)(),l=()=>{s(0,o("actionAllMsg",{defaultValue:"Are you sure you want to cancel all?"}))};return(0,n.jsx)("div",Object.assign({className:"openOrderRow header",style:i},{children:t.filter((e=>e.defaultChecked)).map((({text:t,overlay:i,key:r})=>(0,n.jsx)("div",Object.assign({className:r},{children:i?(0,n.jsx)(Ie.ZP,Object.assign({trigger:"hover",placement:"bottom-end",enablePortal:!0,overlay:e?i:null,sx:{userSelect:"none",display:"flex"}},{children:(0,n.jsxs)(a.Z,Object.assign({sx:{display:"flex",height:"24px",alignItems:"center",justifyContent:"center"}},{children:[(0,n.jsx)(c.Z,Object.assign({variant:"quiet",sz:"s",sx:{px:0,whiteSpace:"break-spaces"},onClick:e?l:void 0},{children:t}),void 0),(0,n.jsx)(Ee.Z,{size:20,sx:{color:"t.third",cursor:"pointer",display:"inline-block"}},void 0)]}),void 0)}),r):(0,n.jsx)(B.Z,Object.assign({title:t,sx:{fontSize:0,color:"t.third",display:"inline-flex",alignItems:"center",justifyContent:"flex-start"},onClick:i&&e?l:void 0},{children:t}),void 0)}),r)))}),void 0)}));var Ve=i(35054),_e=i(33322);const Me=r.memo((()=>{const{getI18n:e}=(0,h.yk)(),{handleHideOtherPairs:t,checked:i}=(0,r.useContext)(F.Z),s=e("hideOtherSymbol",{defaultValue:"Hide Other Symbol"});return(0,n.jsxs)(_e.Z,Object.assign({sx:{fontSize:[1,0],color:"t.third",cursor:["auto","auto","pointer"],lineHeight:["unset","24px","24px"]}},{children:[(0,n.jsx)(he.Z,{checked:i,onChange:()=>t(!i)},void 0),(0,n.jsx)(B.Z,Object.assign({sx:{userSelect:"none"}},{children:s}),void 0)]}),void 0)}));var Re=i(28123),Le=i(18046),Ae=i(86828),He=i(23563);const Fe={padding:"16px",bg:"popupBg",boxShadow:"elevation2",borderRadius:"4px",".check-header":{display:"flex",justifyContent:"space-between",alignItems:"center",fontSize:"14px","& .name":{color:"t.secondary",fontWeight:"500",marginRight:"16px"}},".sort-header":{color:"t.third",display:"flex",justifyContent:"flex-start",alignItems:"center","& .back":{marginLeft:"8px",cursor:"pointer",fontSize:"12px"}}},Be=["reduceOnly","postOnly","strategy"],ze=(0,r.memo)((({headers:e=[],onSort:t,onCheck:i})=>{const s=e.map((e=>Object.assign(Object.assign({},e),{value:e.key,label:e.text}))),o=s.filter((e=>e.sortable&&e.defaultChecked)).map((e=>Object.assign(Object.assign({},e),{label:e.text}))),l=s.filter((e=>e.checkable));l.sort(((e,t)=>Be.indexOf(e.value)-Be.indexOf(t.value)));const{getI18n:c}=(0,h.yk)(),[d,u]=(0,r.useState)("check");return"check"===d?(0,n.jsxs)(a.Z,Object.assign({__css:Fe,onClick:e=>e.stopPropagation()},{children:[(0,n.jsxs)("div",Object.assign({className:"check-header"},{children:[(0,n.jsxs)(B.Z,Object.assign({variant:"captionSub",className:"name"},{children:[" ",c("openOrder-preferenceTitle",{defaultValue:"Open Orders Preference"})]}),void 0),(0,n.jsx)("div",Object.assign({className:"action"},{children:(0,n.jsx)(Ae.Z,Object.assign({variant:"defaultLink",__css:{cursor:"pointer"},onClick:e=>{e.stopPropagation(),u("sort")}},{children:c("positions-preferenceSort")}),void 0)}),void 0)]}),void 0),(0,n.jsx)("div",Object.assign({className:"list"},{children:(0,n.jsx)(Re.Z,{options:l,getValue:e=>{const n=Object.keys(e)[0],r=e[n];i&&i(l.map((e=>e.value===n?Object.assign(Object.assign({},e),{defaultChecked:r}):e)).filter((e=>e.defaultChecked)).map((e=>e.value)));let s=o.map((e=>e.value));r?s.push(n):s=s.filter((e=>e!==n)),t&&t(s.concat(n))}},void 0)}),void 0)]}),void 0):(0,n.jsxs)(a.Z,Object.assign({__css:Fe,onClick:e=>e.stopPropagation()},{children:[(0,n.jsxs)("div",Object.assign({className:"sort-header"},{children:[(0,n.jsx)(He.Z,{size:16,onClick:()=>{u("check")}},void 0),(0,n.jsx)("div",Object.assign({className:"back",onClick:()=>{u("check")}},{children:c("positions-preferenceBack")}),void 0)]}),void 0),(0,n.jsx)("div",Object.assign({className:"list"},{children:(0,n.jsx)(Le.Z,{items:o,onSort:e=>{t&&t(e)}},void 0)}),void 0)]}),void 0)})),Ge=r.memo((({headers:e,onCheck:t,onSort:i})=>(0,n.jsxs)("div",Object.assign({className:"action-bar"},{children:[(0,n.jsx)(Me,{},void 0),(0,n.jsx)(Ie.ZP,Object.assign({trigger:"click",sx:{marginLeft:16,marginTop:"4px"},overlay:(0,n.jsx)(ze,{headers:e,onCheck:t,onSort:i},void 0),overlayProps:{marginBottom:"8px"},placement:"top",enablePortal:!0},{children:(0,n.jsx)(Ve.Z,{mr:"8px",fontSize:"20px",sx:{color:"icons.close",cursor:"pointer","&:hover path":{fill:"t.third"}}},void 0)}),void 0)]}),void 0)));var De=i(74258),$e=i(65916);const Ke=({order:e})=>{const{getI18n:t}=(0,w.Z)(),{actionStrategyModal:i}=(0,r.useContext)(F.Z),{strategyId:s,strategyType:o}=e;return"OTOCO"!==o&&"OTO"!==o||!s?(0,n.jsx)("div",Object.assign({className:"strategy"},{children:"--"}),void 0):(0,n.jsx)("div",Object.assign({className:"strategy valid",onClick:()=>i(e)},{children:t("strategyView",{defaultValue:"View"})}),void 0)},Ue=r.memo((e=>{const{symbol:t,orderId:i,side:s,reduceOnly:o,positionSide:a="BOTH",closePosition:l,timeInForce:c,type:d,activatePrice:u,priceRate:p,workingType:g}=e,{getI18n:h}=(0,w.Z)(),{actionCancel:x,changeSymbol:m,useColumn:f,headers:y}=(0,r.useContext)(F.Z),v=f(e),b=h("closePosition",{defaultValue:"Close Position"}),{nextDate:j,symbolName:O,nextPrice:C,nextAmount:k,nextType:S}=v,{nextFilled:Z,nextTriggerConditions:T}=v;return(0,n.jsx)("div",Object.assign({className:"openOrderRow body"},{children:y.filter((e=>e.defaultChecked)).map((r=>{const{key:f}=r;switch(f){case"time":return(0,n.jsx)("div",Object.assign({className:"time"},{children:j}),f);case"symbol":return(0,n.jsx)("div",Object.assign({className:"symbol",onClick:()=>{m({symbol:t})}},{children:(0,n.jsx)($e.O,{symbolName:O,fallbackText:t},void 0)}),f);case"type":return(0,n.jsx)("div",Object.assign({className:"type"},{children:S}),f);case"side":return(0,n.jsx)("div",Object.assign({className:"side side-"+("BUY"===s?"buy":"sell")},{children:"BUY"===s?h(`sideBuy${a}`,{defaultValue:"Buy"}):h(`sideSell${a}`,{defaultValue:"Sell"})}),f);case"price":return(0,n.jsx)("div",Object.assign({className:"price"},{children:C}),f);case"amount":return(0,n.jsx)("div",Object.assign({className:"amount"},{children:l?b:k}),f);case"filled":return(0,n.jsx)("div",Object.assign({className:"filled"},{children:Z}),f);case"reduceOnly":return(0,n.jsx)("div",Object.assign({className:"reduceOnly"},{children:o?h("YES",{defaultValue:"YES"}):h("NO",{defaultValue:"NO"})}),f);case"postOnly":return(0,n.jsx)("div",Object.assign({className:"postOnly"},{children:"GTX"===c?h("YES",{defaultValue:"YES"}):h("NO",{defaultValue:"NO"})}),f);case"conditions":return(0,n.jsxs)("div",Object.assign({className:"conditions"},{children:[(0,n.jsx)("div",Object.assign({style:{whiteSpace:"pre",textAlign:"left"}},{children:T}),void 0),(0,n.jsx)(me.Z,{type:d,workingType:g,activatePrice:u,priceRate:p},void 0)]}),f);case"strategy":return(0,n.jsx)(Ke,{order:e},f);case"action":return(0,n.jsx)("div",Object.assign({className:"action"},{children:(0,n.jsx)(De.Z,{sx:{cursor:"pointer",color:"t.third","&:hover":{color:"t.primary"}},size:20,onClick:()=>{x((({orderId:e})=>i===e))}},void 0)}),f);default:return null}}))}),void 0)})),Ye={time:115,symbol:85,type:100,side:85,price:100,amount:110,filled:120,reduceOnly:90,postOnly:80,conditions:112,strategy:55,action:70},qe=e=>({width:`${e}px`,flex:`1 0 ${e}px`}),We={flexDirection:"column",height:"100%",overflowX:"auto",overflowY:"hidden",".action-bar":{display:"flex",alignItems:"center",justifyContent:"flex-end",position:"absolute",top:0,right:"16px",zIndex:"999",height:"40px","&.fullscreen":{right:"12px"}},".openOrderRow":{my:0,py:0,display:"flex",alignItems:"center",flex:"none",color:"t.secondary",fontSize:[0],cursor:"auto",width:"100%",height:"40px",boxSizing:"border-box",borderBottom:"1px solid",borderBottomColor:"newLine","&.header":{height:"32px"},"&.body":{":hover":{backgroundColor:"bg3",".symbol":{color:"t.yellow"}},".symbol":{cursor:"pointer"},".side":{"&-buy":{color:"buy"},"&-sell":{color:"sell"}},".strategy.valid":{color:"t.yellow200",cursor:"pointer",":hover":{color:"t.yellow300"}},".price, .amount, .conditions":{display:"flex",alignItems:"center"}},".time":Object.assign({},qe(Ye.time)),".symbol":Object.assign({},qe(Ye.symbol)),".type":Object.assign({},qe(Ye.type)),".side":Object.assign({},qe(Ye.side)),".price":Object.assign({},qe(Ye.price)),".amount":Object.assign({},qe(Ye.amount)),".filled":Object.assign({},qe(Ye.filled)),".reduceOnly":Object.assign({},qe(Ye.reduceOnly)),".postOnly":Object.assign({},qe(Ye.postOnly)),".conditions":Object.assign({},qe(Ye.conditions)),".strategy":Object.assign({},qe(Ye.strategy)),".action":Object.assign({},qe(Ye.action))}},Qe=e=>(0,n.jsx)(Ue,Object.assign({},e),void 0),Xe=(e,t)=>t[e].orderId,Je=({headers:e,onCheckHeader:t,onSortHeader:i,items:o=[],loading:a})=>{const{emptyText:c,actionCancel:d}=r.useContext(F.Z),u=(0,r.useMemo)((()=>{let t=0;return e.filter((e=>e.defaultChecked)).forEach((({key:e})=>{t+=Ye[e]||0})),{minWidth:t}}),[e]),{getI18n:p}=(0,w.Z)(),{getI18n:g}=(0,h.yk)(),{apiError:x,onRefresh:m}=(()=>{const e=(0,s.v9)((e=>e.loading.effects.orders.queryOpenOrder)),t=(0,s.v9)((e=>e.orders.openOrder.apiError)),i=(0,s.I0)(),n=(0,r.useCallback)((()=>{e||i.orders.queryOpenOrder()}),[e,i.orders]);return(0,r.useMemo)((()=>({loading:e,apiError:t,onRefresh:n})),[e,t,n])})(),f=(0,r.useCallback)((()=>{d(0,p("actionAllMsg",{defaultValue:"Are you sure you want to cancel all?"}))}),[]);return(0,n.jsxs)(l.Z,Object.assign({sx:We},{children:[(0,n.jsx)(Ge,{headers:e,onSort:i,onCheck:t},void 0),(0,n.jsx)(Ne,{hasData:(null==o?void 0:o.length)>0,headers:e,style:u},void 0),(0,n.jsx)(Pe.v,Object.assign({apiError:x,confirmTip:g("openOrderErrorConfirmTip",{defaultValue:"Cancel all open orders here."}),onRefresh:m,onConfirm:f},{children:(0,n.jsx)(Te.a,{direction:"xxx",dataSource:o,loading:a,loadWithContent:!0,listSx:u,itemElement:Qe,itemKey:Xe,itemHeight:40,emptyChildren:(0,n.jsx)(ge.pB,{children:c},void 0),scrollPerf:!1},void 0)}),void 0)]}),void 0)};var et=function(e,t,i,n){return new(i||(i=Promise))((function(r,s){function o(e){try{l(n.next(e))}catch(e){s(e)}}function a(e){try{l(n.throw(e))}catch(e){s(e)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(o,a)}l((n=n.apply(e,t||[])).next())}))};(0,j.nM)();const tt=[null,"LIMIT","STOP"],it=r.memo((()=>{const e="light"===(0,m.Fg)(),[t,{onCheckHeader:i,onSortHeader:d}]=(()=>{const{getI18n:e}=(0,w.Z)(),{getI18n:t}=(0,h.yk)(),[i,s]=(0,I.Z)(j.rR,["reduceOnly","postOnly","strategy"]),[o,a]=(0,I.Z)(j.sx,["time","symbol","type","side","price","amount","filled","reduceOnly","postOnly","conditions","strategy","action"]);return[(0,r.useMemo)((()=>{const r=[{key:"time",text:e("time",{defaultValue:"Time"}),checkable:!1,sortable:!0},{key:"symbol",text:e("symbol",{defaultValue:"Symbol"}),checkable:!1,sortable:!0},{key:"type",text:e("type",{defaultValue:"Type"}),checkable:!1,sortable:!0},{key:"side",text:e("side",{defaultValue:"Side"}),checkable:!1,sortable:!0},{key:"price",text:e("price",{defaultValue:"Price"}),checkable:!1,sortable:!0},{key:"amount",text:e("amount",{defaultValue:"Amount"}),checkable:!1,sortable:!0},{key:"filled",text:e("filled",{defaultValue:"Filled"}),checkable:!1,sortable:!0},{key:"reduceOnly",text:e("reduceOnly",{defaultValue:"Reduce Only"}),checkable:!0,sortable:!0},{key:"postOnly",text:t("orderType-postOnly",{defaultValue:"Post Only"}),checkable:!0,sortable:!0},{key:"conditions",text:e("triggerConditions",{defaultValue:"Trigger"}),checkable:!1,sortable:!0},{key:"strategy",text:e("strategy",{defaultValue:"Strategy"}),checkable:!0,sortable:!0},{key:"action",text:e("action",{defaultValue:"Cancel All"}),overlay:(0,n.jsx)(E.ZP,{},void 0),checkable:!1,sortable:!0}].map((e=>Object.assign(Object.assign({},e),{defaultChecked:!e.checkable||(null==i?void 0:i.includes(e.key))||!1})));return o&&r.sort(((e,t)=>o.indexOf(e.key)-o.indexOf(t.key))),r}),[e,t,i,o]),{onCheckHeader:s,onSortHeader:a}]})(),[f]=(0,m.z4)(),y=(0,s.I0)(),{enqueueNotification:v}=(0,g.Z)(),{getI18n:b}=(0,h.yk)(),{getI18n:O}=(0,w.Z)(),[C,k]=(0,r.useState)(""),[S,Z]=(0,r.useState)({}),T="traditional",{preOrders:R}=(0,m.E)(),B=(0,s.v9)((e=>e.loading.effects.orders.queryOpenOrder));(0,r.useEffect)((()=>{y.orders.queryOpenOrder()}),[]);const{loading:z,delOpenOrders:G}=M?(()=>{const[{loading:e},t]=(0,N.Z)(((e={})=>_(void 0,void 0,void 0,(function*(){return(e=>"batch"in e?(0,V.y)({type:e.type,symbol:e.symbol}):(0,V.r7)(e))(e)}))),[]);return{loading:e,delOpenOrders:t}})():(()=>{const[{loading:e},t]=(0,N.Z)(((e={})=>_(void 0,void 0,void 0,(function*(){return(e=>"batch"in e?(0,V.O9)({type:e.type,symbol:e.symbol}):(0,V.Ce)(e))(e)}))),[]);return{loading:e,delOpenOrders:t}})(),{isOrderHideOtherPairs:D}=(0,m.VX)(),[$,K]=(0,r.useState)(D),U=(0,r.useCallback)((e=>{K(e),y.userProfile.save({key:"isOrderHideOtherPairs",value:e})}),[y.userProfile]),Y=(0,x.Nm)(R,$,f),q=(0,m.d0)(),W=(0,r.useCallback)((e=>et(void 0,void 0,void 0,(function*(){const t="number"==typeof e?{batch:!0,type:tt[e],symbol:$?f:null}:Y.filter((t=>e(t)))[0];u()(t)||(yield G(t))}))),[$,f,Y,G]),Q=(0,r.useCallback)(((t,i)=>et(void 0,void 0,void 0,(function*(){i?H.ZP.show({isLight:e,color:T,showCloseIcon:!1,sx:{width:["300px","360px"],height:"auto"},children:(0,n.jsxs)(a.Z,{children:[(0,n.jsxs)(a.Z,Object.assign({px:1,pt:[0,"16px"],sx:{textAlign:"center"}},{children:[(0,n.jsx)(o.Z,{size:[60,96]},void 0),(0,n.jsx)("div",{children:i},void 0)]}),void 0),(0,n.jsxs)(l.Z,Object.assign({mt:"24px"},{children:[(0,n.jsx)(c.Z,Object.assign({sx:{width:.5,mr:3},sz:"l",flexGrow:1,colorStyle:"secondary",onClick:()=>H.ZP.close()},{children:O("dialog-cancel",{defaultValue:"Cancel"})}),void 0),(0,n.jsx)(c.Z,Object.assign({sx:{width:.5},sz:"l",flexGrow:1,onClick:()=>{W(t),H.ZP.close()}},{children:O("dialog-confirm",{defaultValue:"Confirm"})}),void 0)]}),void 0)]},void 0)}):W(t)}))),[W,O,e,T]),X=(0,r.useCallback)((e=>et(void 0,void 0,void 0,(function*(){const{success:t}=yield(0,p.nC)(e,{});t&&v({header:b("amendmentOrderSubmitted",{defaultValue:"Amendment Order Submitted"})})}))),[b,v]),J=!Y.length&&B,ee=(0,r.useCallback)((()=>{k(""),Z({})}),[k,Z]),te=(0,r.useCallback)((e=>{k("STRATEGY_ORDER"),Z(e)}),[k,Z]),ie=(0,r.useCallback)(((e,t,i)=>{k("MODIFY_ORDER"),Z(Object.assign(Object.assign({},e),{modifyParams:t,onConfirm:i}))}),[k,Z]),ne=O("nodata",{defaultValue:"You have no open orders."}),re=(0,r.useMemo)((()=>({symbol:f,emptyText:ne,actionCancel:Q,actionModifyOrder:X,actionStrategyModal:te,actionModifyConfirmModal:ie,changeSymbol:q,handleHideOtherPairs:U,checked:$,useColumn:P,useStrategyOrder:L,headers:t})),[Q,X,te,ie,q,$,ne,U,f,t]);return(0,n.jsx)(F.Z.Provider,Object.assign({value:re},{children:(0,n.jsx)(a.Z,Object.assign({height:"100%",px:"sm"},{children:(0,n.jsx)(A.Z,{children:({isMobile:e,isIPad:r})=>(0,n.jsxs)(n.Fragment,{children:[r?(0,n.jsx)(Ze,{isMobile:e,items:Y,girdLoading:J,outLoading:B||z},void 0):(0,n.jsx)(Je,{headers:t,onCheckHeader:i,onSortHeader:d,items:Y,loading:B||z},void 0),"STRATEGY_ORDER"===C&&(0,n.jsx)(ce,{isMobile:e,visible:!0,order:S,onClose:ee},void 0),"MODIFY_ORDER"===C&&(0,n.jsx)(pe,{order:S,onClose:ee},void 0)]},void 0)},void 0)}),void 0)}),void 0)}))},55137:(e,t,i)=>{"use strict";i.d(t,{Z:()=>l});var n=i(52322),r=i(53935),s=i(2784),o=i(56851),a=i(97060);const l=s.memo((({type:e,workingType:t,activatePrice:i,priceRate:s})=>{const{getI18n:l,i18n:{language:c}}=(0,a.yk)();if("TRAILING_STOP_MARKET"!==e)return null;const d=l("trailing-stop-market-tip",{defaultValue:"Activation Price: {{activatePrice}}, Trigger Type: {{workingType}}, Callback Rate: {{priceRate}}%. ",activatePrice:Number(i)?Number(i):l("advancedStrategy-marketPrice"),workingType:l("CONTRACT_PRICE"===t?"lastPrice":"tradeHistory-positions-markPriceTitle"),priceRate:s});return(0,n.jsx)(o.m,Object.assign({hideUnderLine:!0,sx:{flex:"none"},learnMoreLink:`/${c}/support/faq/360042299292`,tip:d},{children:(0,n.jsx)(r.Z,{size:16},void 0)}),void 0)}))},32485:(e,t,i)=>{"use strict";i.d(t,{i:()=>n});const n=({side:e,type:t})=>"BUY"===e&&"STOP"===t?">=":"SELL"===e&&"STOP"===t?"<=":"BUY"===e&&"STOP_MARKET"===t?">=":"SELL"===e&&"STOP_MARKET"===t||"BUY"===e&&"TAKE_PROFIT"===t?"<=":"SELL"===e&&"TAKE_PROFIT"===t?">=":"BUY"===e&&"TAKE_PROFIT_MARKET"===t?"<=":"SELL"===e&&"TAKE_PROFIT_MARKET"===t?">=":""},56851:(e,t,i)=>{"use strict";i.d(t,{m:()=>g});var n=i(52322),r=i(2784),s=i(62143),o=i(48658),a=i(21030),l=i(33656);const c={display:"flex",alignItems:"center",cursor:"help",color:"t.third",borderBottom:["1px dotted","1px dotted","none"],borderBottomColor:"t.third","&:hover":{color:"t.primary",borderBottomColor:"t.primary"}},d={maxWidth:"296px",margin:"-4px 0",lineHeight:"16px",color:"t.white",whiteSpace:"pre-line"};var u=i(97060);const p=e=>{var{link:t}=e,i=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}(e,["link"]);const{getI18n:r}=(0,u.yk)();return(0,n.jsx)(o.Z,Object.assign({as:"a",variant:"addressLink",href:t,target:"_blank",color:"t.yellow",fontSize:12},i,{children:r("learnMore",{defaultValue:"Learn More"})}),void 0)};const g=r.memo((e=>{var{children:t,tip:i,learnMoreLink:r,placement:u,hideUnderLine:g,sx:h,tipSx:x,labelSx:m,onTipClick:f}=e,y=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var r=0;for(n=Object.getOwnPropertySymbols(e);r<n.length;r++)t.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(e,n[r])&&(i[n[r]]=e[n[r]])}return i}(e,["children","tip","learnMoreLink","placement","hideUnderLine","sx","tipSx","labelSx","onTipClick"]);const{isIPad:v}=(0,l.F)(),b=(0,n.jsxs)(s.Z,Object.assign({sx:Object.assign(Object.assign({},d),x)},f&&{onClick:f},{children:[i,r&&(0,n.jsxs)(n.Fragment,{children:[" ",(0,n.jsx)(p,{link:r},void 0)]},void 0)]}),void 0);return(0,n.jsx)(a.Z,Object.assign({tip:b,delay:500,sx:h,bg:"bg4",placement:u,arrow:!0,enablePortal:!v},y,{children:(0,n.jsx)(o.Z,Object.assign({sx:Object.assign(Object.assign(Object.assign({},c),m),g?{borderBottom:"none"}:{})},{children:t}),void 0)}),void 0)}))}}]);