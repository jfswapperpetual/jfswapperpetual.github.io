"use strict";(self.webpackChunkcloud_trade_sdk=self.webpackChunkcloud_trade_sdk||[]).push([[7046,2068],{71090:(e,t,i)=>{i.d(t,{Z:()=>a});var r=i(5163),o=i(2784),n=i(98569);const a=function(e){return o.createElement(n.Z,(0,r.__assign)({width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24"},e),o.createElement("path",{d:"M14.5 10.29a1 1 0 011 1v.353a1 1 0 01-.273.686l-2.5 2.65a1 1 0 01-1.454 0l-2.5-2.65a1 1 0 01-.273-.686v-.353a1 1 0 011-1h5z"}))}},19925:(e,t,i)=>{i.d(t,{Z:()=>s});var r=i(5163),o=i(2784),n=i(62143),a=(0,o.forwardRef)((function(e,t){return e.visible?o.createElement(n.Z,(0,r.__assign)({ref:t,variant:"mask"},e,{__css:{position:"fixed",top:0,left:0,bottom:0,right:0}})):null}));a.displayName="Mask";const s=a},74900:(e,t,i)=>{i.d(t,{QE:()=>v,ZP:()=>g});var r=i(5163),o=i(2784),n=i(98569),a=i(62143),s=function(e){var t=e.checked,i=e.disabled,a=(0,r.__rest)(e,["checked","disabled"]);return o.createElement(n.Z,(0,r.__assign)({viewBox:"0 0 16 16",fill:"none",sx:{fill:i?"line":"none"},size:16},a),o.createElement("circle",(0,r.__assign)({cx:"8",cy:"8",r:"7.5"},i?{fill:"line"}:{stroke:"currentColor"})),t?o.createElement("circle",{cx:"8",cy:"8",r:"4",fill:"currentColor"}):null)},l=o.createElement(s,{checked:!0}),d=o.createElement(s,null),c=o.createElement(s,{checked:!0,disabled:!0}),u=o.createElement(s,{disabled:!0}),p={top:"column",bottom:"column-reverse",left:"row-reverse",right:"row"},m={top:{mt:"minor"},bottom:{mb:"minor"},left:{mr:"xs"},right:{ml:"xs"}},x=(0,o.forwardRef)((function(e,t){var i=e.checked,n=e.children,s=e.label,x=e.id,f=e.onCheckedChange,v=e.name,g=void 0===v?"":v,b=e.value,h=e.onChange,y=e.disabled,j=void 0!==y&&y,O=e.direction,T=void 0===O?"right":O,P=(e.variant,e.accept),S=e.alt,N=e.autoFocus,k=e.capture,I=e.form,_=e.formAction,C=e.formEncType,w=e.formMethod,E=e.formNoValidate,R=e.formTarget,L=e.list,F=e.max,A=e.maxLength,M=e.min,V=e.minLength,Z=e.pattern,K=e.readOnly,z=e.required,D=(0,r.__rest)(e,["checked","children","label","id","onCheckedChange","name","value","onChange","disabled","direction","variant","accept","alt","autoFocus","capture","form","formAction","formEncType","formMethod","formNoValidate","formTarget","list","max","maxLength","min","minLength","pattern","readOnly","required"]);s=s||n;var q=o.useRef(null!=i).current,G=(0,o.useState)(i),W=G[0],B=G[1];q&&W!==i&&B(i);var U=function(e){var t=e.target.checked;W!==t&&B(t),f&&f(e,t)};return o.createElement(a.Z,(0,r.__assign)({ref:t,tx:"radio",variant:j?"disabled":"default"},D,{__css:{"& svg":{color:j?null:W?"primary":"t.disabled"}},onClick:function(){j||W||(B(!W),h&&h(b))}}),o.createElement(a.Z,{as:"label",sx:{display:"flex",flexDirection:p[T],alignItems:"center"}},j?W?c:u:W?l:d,s?o.createElement(a.Z,(0,r.__assign)({},m[T]),s,o.createElement("input",{id:x,disabled:j,style:{clip:"rect(0px,0px,0px,0px)",position:"absolute"},hidden:!0,type:"radio","data-bn-type":"radio",name:g,checked:W,value:b,onChange:U,accept:P,alt:S,autoFocus:N,capture:k,form:I,formAction:_,formEncType:C,formMethod:w,formNoValidate:E,formTarget:R,list:L,max:F,maxLength:A,min:M,minLength:V,pattern:Z,readOnly:K,required:z})):o.createElement("input",{disabled:j,style:{clip:"rect(0px,0px,0px,0px)",position:"absolute"},type:"radio","data-bn-type":"radio",name:g,checked:W,value:b,onChange:U})))}));x.__name="Radio";var f={Vertical:{marginKey:"marginBottom",gap:16,direction:"column"},Horizontal:{marginKey:"marginRight",gap:24,direction:"row"}},v=(0,o.forwardRef)((function(e,t){var i,n=e.children,s=e.value,l=void 0===s?"":s,d=e.name,c=e.onChange,u=e.layout,p=(0,r.__rest)(e,["children","value","name","onChange","layout"]),m=o.Children.map(n,(function(e){return o.isValidElement(e)&&"Radio"===(e&&e.type&&e.type.__name)?o.cloneElement(e,(0,r.__assign)((0,r.__assign)({},e.props),{onChange:c,name:d,checked:l===e.props.value})):null}));if("Horizontal"===u||"Vertical"===u){var x=f[u];return o.createElement(a.Z,(0,r.__assign)({ref:t},p,{__css:{"& > *:not(:last-child)":(i={},i[x.marginKey]=x.gap,i),display:"flex",flexDirection:x.direction}}),m)}return o.createElement(a.Z,(0,r.__assign)({ref:t},p),m)}));x.displayName="Radio";const g=x},37348:(e,t,i)=>{i.d(t,{z:()=>g});var r=i(52322),o=i(21030),n=i(97060),a=i(38896),s=i(92036),l=i(87612),d=i(33470),c=i(1842),u=i.n(c);const p={m:"-12px",py:"12px",bg:"modalBg",fontSize:"12px",borderRadius:"4px",overflow:"hidden",width:310,px:"12px",".fee-header":{color:"t.third",mb:"4px"},".fee-row":{display:"flex",justifyContent:"space-between",mb:"4px",color:"t.third"},".highlight":{color:"t.primary"},".delete-text":{textDecoration:"line-through",mr:"2px"}},m={".tooltip-label":{cursor:"pointer",fontSize:"12px",borderBottom:"1px solid",borderColor:"t.secondary",color:"t.secondary","&:hover":{borderColor:"t.yellow",color:"t.yellow"}}};var x=i(59111);function f(e,t=1e6,i=4){return`${e<0?"-":""}${(0,d.Bq)(e,t,{digit:i})}`}const v=()=>{const e="light"===(0,a.Fg)(),{getI18n:t}=(0,n.yk)(),{t:i}=(0,n.Ec)(),o=(0,a.aq)(),{makerCommission:d,takerCommission:c}=o,{feeBurnToken:m,discount:v}=x.Vf;return m&&v?(0,r.jsxs)(s.Z,Object.assign({flexDirection:"column",sx:Object.assign(Object.assign({},p),!e&&{boxShadow:"elevation2"})},{children:[(0,r.jsx)("div",Object.assign({className:"fee-header"},{children:(0,r.jsx)(l.c,{t:i,i18nKey:"fee-tooltip-title-with-brand-name",components:{highlight:(0,r.jsx)("span",{className:"highlight"},void 0)},defaults:"Using {{coinName}} for fees (<highlight>{{discount}}% discount</highlight>)",values:{coinName:m.toUpperCase(),discount:v}},void 0)}),void 0),(0,r.jsxs)("div",Object.assign({className:"fee-row taker"},{children:[(0,r.jsxs)("label",{children:[t("fee-takerLabel",{defaultValue:"Taker"}),":"]},void 0),!u()(c)&&(0,r.jsxs)("div",{children:[(0,r.jsx)("span",Object.assign({className:"delete-text"},{children:f(c)}),void 0),(0,r.jsx)("span",Object.assign({className:"highlight"},{children:f(c*(1-Number(v)/100))}),void 0)]},void 0)]}),void 0),(0,r.jsxs)("div",Object.assign({className:"fee-row"},{children:[(0,r.jsxs)("label",{children:[t("fee-makerLabel",{defaultValue:"Maker"}),":"]},void 0),!u()(d)&&(0,r.jsxs)("div",{children:[(0,r.jsx)("span",Object.assign({className:"delete-text"},{children:f(d)}),void 0),(0,r.jsx)("span",Object.assign({className:"highlight"},{children:f(d*(1-Number(v)/100))}),void 0)]},void 0)]}),void 0)]}),void 0):(0,r.jsxs)(s.Z,Object.assign({flexDirection:"column",sx:Object.assign(Object.assign({},p),!e&&{boxShadow:"elevation2"})},{children:[(0,r.jsxs)("div",Object.assign({className:"fee-row taker"},{children:[(0,r.jsxs)("label",{children:[t("fee-takerLabel",{defaultValue:"Taker"}),":"]},void 0),!u()(c)&&(0,r.jsx)("div",{children:(0,r.jsx)("span",Object.assign({className:"highlight"},{children:f(c)}),void 0)},void 0)]}),void 0),(0,r.jsxs)("div",Object.assign({className:"fee-row"},{children:[(0,r.jsxs)("label",{children:[t("fee-makerLabel",{defaultValue:"Maker"}),":"]},void 0),!u()(d)&&(0,r.jsx)("div",{children:(0,r.jsx)("span",Object.assign({className:"highlight"},{children:f(d)}),void 0)},void 0)]}),void 0)]}),void 0)},g=()=>{const{isIPad:e}=(0,n.Fs)(),{getI18n:t}=(0,n.yk)(),i=(0,a.aq)(),s=(0,a._n)(),{feeTier:l="-"}=i;return s?(0,r.jsx)(o.ZP,Object.assign({sx:m,enablePortal:!e,placement:"bottom",tip:"-"===l?null:(0,r.jsx)(v,{},void 0),bg:"modalBg"},{children:(0,r.jsx)("div",Object.assign({className:"tooltip-label"},{children:t("tradingFee",{defaultValue:"Trading Fee"})}),void 0)}),void 0):null}},91436:(e,t,i)=>{i.d(t,{Z:()=>g});var r=i(52322),o=i(33470),n=i(39727),a=i(38896),s=i(26031),l=i(2784),d=i(92036),c=i(48658),u=i(2896),p=i(97060),m=i(2364);const x={justifyContent:"space-between",position:"relative",width:"100%",alignContent:"center",fontSize:1,".balance":{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",fontSize:"12px",color:"t.third",display:"flex",alignContent:"center",".value":{ml:"4px",color:"t.primary"}}},f={color:"t.yellow",flexShrink:0,cursor:"pointer",mx:"8px"},v=l.memo((e=>{var{balance:t,tradeType:i,side:o="BUY",transfer:n=!1,base:a,quote:s,marginAsset:v,isLoggedIn:g,isDelivery:b=!1}=e,h=function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(i[r[o]]=e[r[o]])}return i}(e,["balance","tradeType","side","transfer","base","quote","marginAsset","isLoggedIn","isDelivery"]);const{isMobile:y}=(0,p.Fs)(),{getI18n:j}=(0,p.yk)(),{getI18n:O}=(0,p.HK)(),T=b?a:"FUTURES"===i||"BUY"===o?s:a,P=(0,l.useCallback)((()=>{u.ee.emit("OPEN_DEPOSIT_MODAL",v)}),[v]),{trackWebClickWithWalletAddress:S}=(0,p.fM)(),N=(0,l.useCallback)((()=>{(0,m.openDepositModal)(),S({pageName:"advancedMode",$element_id:"depositPopups",$element_type:"tradeAsset"})}),[S]);return(0,l.useMemo)((()=>(0,r.jsx)(d.Z,Object.assign({sx:x},h,{children:(0,r.jsxs)("div",Object.assign({className:"balance"},{children:[j("orderForm-avbl",{defaultValue:"Avbl"}),(0,r.jsxs)("span",Object.assign({className:"value"},{children:[g?t:"-"," ",T]}),void 0),g&&n&&(0,r.jsx)(c.Z,Object.assign({sx:f,variant:"captionSub",onClick:y?N:P},{children:O("Deposit",{defaultValue:"Deposit"})}),void 0)]}),void 0)}),void 0)),[h,g,n,P,T,t,j,N])})),g=({transfer:e=!0})=>{const[,[t,i]]=(0,a.z4)(),l=(0,a.G3)(),d=(0,s.c)(),{marginAsset:c}=(0,a.j2)(),u=(0,a.Li)(),p=(0,n.I0)(),m=(0,a._n)(),x=(0,a.dO)();return(0,r.jsx)(v,{tradeType:l?"DELIVERY":"FUTURES",balance:(0,o.Jp)(x).toFixed(d,1),dispatch:p,transfer:e,base:t,quote:i,isLoggedIn:m,userAssets:u,isDelivery:l,marginAsset:c},void 0)}},11981:(e,t,i)=>{i.d(t,{C:()=>d});var r=i(52322),o=i(48658),n=i(33322),a=i(27986),s=i(56851);const l={color:"t.primary"},d=e=>{var{label:t,disabled:i,className:d,tooltipText:c,tooltipLearnMoreLink:u,checked:p,onChange:m}=e,x=function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(i[r[o]]=e[r[o]])}return i}(e,["label","disabled","className","tooltipText","tooltipLearnMoreLink","checked","onChange"]);const f=e=>{e.preventDefault()},v=(0,r.jsx)(o.Z,Object.assign({fontSize:12,onClick:f},{children:t}),void 0);return(0,r.jsxs)(n.Z,Object.assign({className:d,width:"auto"},{children:[(0,r.jsx)(a.Z,Object.assign({},x,{onChange:e=>{m(e.currentTarget.checked)},checked:p,disabled:i}),void 0),c?(0,r.jsx)(s.m,Object.assign({labelSx:l,tip:(0,r.jsx)("span",Object.assign({onClick:f},{children:c}),void 0),learnMoreLink:u},{children:v}),void 0):v]}),void 0)}},9378:(e,t,i)=>{i.d(t,{A:()=>x});var r=i(52322),o=i(72779),n=i.n(o),a=i(62143),s=i(33322),l=i(55742),d=i(71090);const c={position:"relative",top:"4px",width:"fit-content",py:"4px",bg:"modalBg",boxShadow:"elevation2",borderRadius:"4px",".option":{padding:"4px 16px",fontSize:"12px",color:"t.primary","&:hover":{bg:"line",cursor:"pointer"},"&.active":{color:"t.yellow"}}},u={height:"100%",".label":{display:"flex",alignItems:"center",height:"100%",color:"t.primary",cursor:"pointer","&.disabled":{cursor:"not-allowed"}},".label-text":{maxWidth:"48px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}};function p({options:e,value:t,handleClick:i}){return(0,r.jsx)(a.Z,Object.assign({sx:c,name:"orderform-select-menu"},{children:e.map((({label:e,value:o})=>(0,r.jsx)("div",Object.assign({className:n()({active:o===t,option:!0}),onClick:()=>{i(o)}},{children:e}),String(o))))}),void 0)}const m=({name:e,label:t,disabled:i})=>{const o=e?`${e}-select-button`:"TriggerSelect";return(0,r.jsxs)(s.Z,Object.assign({className:n()({label:!0,disabled:i}),variant:"small","data-testid":o},{children:[(0,r.jsx)("div",Object.assign({className:"label-text"},{children:t}),void 0),!i&&(0,r.jsx)(d.Z,{color:"#76808F",size:16},void 0)]}),void 0)};function x(e){var t,{name:i,options:o,disabled:n,value:a,onChange:s}=e,d=function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(i[r[o]]=e[r[o]])}return i}(e,["name","options","disabled","value","onChange"]);const c=(null===(t=o.find((e=>e.value===a)))||void 0===t?void 0:t.label)||"";return(0,r.jsx)(l.ZP,Object.assign({},d,{sx:u,trigger:"click",disabled:n,enablePortal:!0,overlay:p({options:o,value:a,handleClick:s})},{children:m({name:i,label:c,disabled:n})}),void 0)}},76308:(e,t,i)=>{i.d(t,{W:()=>l});var r=i(52322),o=i(2784),n=i(38896),a=i(97060),s=i(11981);const l=({className:e})=>{const{getI18n:t}=(0,a.yk)(),[i,l]=(0,n.KK)(),[d]=(0,n.hN)(),[,c]=(0,n.uD)();return(0,o.useEffect)((()=>{i&&c(!1)}),[i,c]),d?null:(0,r.jsx)(s.C,{className:e,checked:i,onChange:l,tooltipText:t("limitType-reduceOnly-tip",{defaultValue:""}),label:t("limitType-reduceOnly",{defaultValue:"Reduce Only"})},void 0)}},86804:(e,t,i)=>{i.d(t,{d:()=>v});var r=i(52322),o=i(2784),n=i(48658),a=i(92036),s=i(23131),l=i(56851),d=i(38896),c=i(9378),u=i(97060);const p={flexDirection:"row",alignItems:"center",height:"16px",fontSize:"12px"},m={verticalAlign:"50%",marginRight:"8px"},x=[s.rb.GTC,s.rb.IOC,s.rb.FOK].map((e=>({label:e,value:e}))),f=({text:e})=>(0,o.useMemo)((()=>(0,r.jsx)(n.Z,Object.assign({p:0,mb:2},{children:e}),void 0)),[e]),v=e=>{const{getI18n:t}=(0,u.yk)(),[i,o]=(0,d.LY)();return(0,r.jsxs)(a.Z,Object.assign({__css:p},e,{children:[(0,r.jsx)(l.m,Object.assign({sx:m,tip:(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(f,{text:t("timeInForce-title",{defaultValue:"Time in Force"})},0),(0,r.jsx)(f,{text:t("timeInForce-GTC",{defaultValue:"GTC: Good Till Cancel"})},1),(0,r.jsx)(f,{text:t("timeInForce-IOC",{defaultValue:"IOC: Immediate Or Cancel"})},2),(0,r.jsx)(f,{text:t("timeInForce-FOK",{defaultValue:"FOK: Fill Or Kill"})},3)]},void 0)},{children:t("limitType-TIF",{defaultValue:"TIF"})}),void 0),(0,r.jsx)(c.A,{value:i,onChange:o,options:x,"data-testid":"TIFReduxSelector"},void 0)]}),void 0)}},82040:(e,t,i)=>{i.d(t,{Z:()=>pt});var r=i(52322),o=i(2784),n=i(76539),a=i(94106),s=i(13888),l=i.n(s),d=i(62143),c=i(92036),u=i(76940),p=i(23131);const m="The callback rate is one condition for a trailing stop order, satisfied when the trigger price compared with the highest market price / lowest market price (or mark price) is greater than or equal to the callback rate.",x="The activation price is one of the trigger conditions of the trailing stop order. If you do not fill in it, it will default to the latest price (marked price). When the market's highest / lowest price reaches or exceeds the activation price after the trailing stop order is submitted, the condition is consideredto be satisfied.";var f=i(98911),v=i(56851),g=i(38896),b=i(36628),h=i(48658),y=i(84755),j=i(2896),O=i(70420),T=i(55742),P=i(72779),S=i.n(P),N=i(77594),k=i(86957),I=i(33470);function _({onSelect:e,scales:t,size:i}){return(0,r.jsx)("div",Object.assign({className:"size-buttons-column"},{children:t.map((t=>{const o=t*i,n=((e,t)=>{if(1===t)return e<0?(0,r.jsx)(N.Z,{size:16,color:"t.primary",mt:"4px"},void 0):(0,r.jsx)(k.Z,{size:16,color:"t.primary",mt:"4px"},void 0);const i=(0,I.Jp)(e,t).toNumber();return i>0?`+${i}`:`${i}`})(i,t);return(0,r.jsx)("div",Object.assign({className:S()({base:1===t}),onClick:()=>e(o)},{children:n}),t)}))}),void 0)}const C={bg:"modalBg",borderRadius:"6px",boxShadow:"elevation2",".size-buttons-column":{display:"flex",flexDirection:"column",div:{p:"4px 12.5px",color:"t.primary",fontSize:"12px",cursor:"pointer",textAlign:"center",":hover":{bg:"line"},"&.base":{color:"t.primary",textAlign:"center"}}}};function w(e){const{onSelect:t,scales:i,size:n}=e,a=function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(i[r[o]]=e[r[o]])}return i}(e,["onSelect","scales","size"]),s=(0,o.useMemo)((()=>(0,r.jsxs)(c.Z,Object.assign({sx:C,onClick:e=>e.stopPropagation()},{children:[(0,r.jsx)(_,{size:+n,scales:i,onSelect:t},void 0),(0,r.jsx)(_,{size:-n,scales:i,onSelect:t},void 0)]}),void 0)),[t,i,n]);return(0,r.jsx)(T.ZP,Object.assign({},a,{overlay:s}),void 0)}var E=i(98569);const R=e=>(0,r.jsx)(E.Z,Object.assign({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"t.third"},e,{children:(0,r.jsx)("path",{xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",clipRule:"evenodd",d:"M7.91668 3.3335V5.41676H10V7.91676H7.91668V10.0002H5.41668V7.91676H3.33337V5.41676H5.41668V3.3335H7.91668ZM16.6667 12.5002H10V15.0002H16.6667V12.5002ZM15.1262 3.45965L3.45958 15.1263L4.87379 16.5405L16.5405 4.87386L15.1262 3.45965Z",fill:"currentColor"},void 0)}),void 0),L={":hover":{color:"t.primary"},cursor:"pointer"};function F({fieldName:e}){const{tickSize:t}=(0,g.j2)(),[i]=(0,g.NU)(),{setValue:n,getValues:s}=(0,a.Gc)(),l=(0,g.ih)(),d=(0,o.useCallback)((t=>{const i=(Number(s(e))||0)+t;n(e,i<0?"0":(0,I.mD)(i,l))}),[n,s,e,l]);return i?(0,r.jsx)(w,Object.assign({height:"20px",scales:[1,10,50,200],size:t,onSelect:d},{children:(0,r.jsx)(R,{sx:L,"data-testid":"plus-minus-button"},void 0)}),void 0):null}var A=i(97060);const M={color:"t.yellow",cursor:"pointer",maxWidth:"40px",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},V=({onClick:e})=>{const{getI18n:t}=(0,A.yk)();return(0,r.jsx)(v.m,Object.assign({tip:t("orderForm-lastPriceTip",{defaultValue:"Last price, place a current price order."}),hideUnderLine:!0},{children:(0,r.jsx)(h.Z,Object.assign({sx:M,onClick:e},{children:t("orderForm-lastPrice",{defaultValue:"Last"})}),void 0)}),void 0)},Z=({fieldName:e,prefix:t,disabled:i,required:n,getLastTracePrice:s})=>{const{setValue:l}=(0,a.Gc)(),d=(0,g.ih)(),[,u]=(0,g.z4)(),[,p]=u;(0,o.useEffect)((()=>j.ee.on("UPDATE_ORDER_PRICE_INPUT",(t=>{l(e,t)}))),[e,l]);const m=(0,r.jsxs)(c.Z,Object.assign({flexDirection:"row",alignItems:"center"},{children:[(0,r.jsx)(F,{fieldName:e},void 0),(0,r.jsx)(V,{onClick:()=>{l(e,s())}},void 0),(0,r.jsx)(h.Z,Object.assign({ml:"8px",color:"t.primary"},{children:p}),void 0)]}),void 0);return(0,r.jsx)(O.L,{fieldName:e,prefix:t,suffix:m,precision:d,maxLength:y.ze,disabled:i,required:n},void 0)};var K=i(45362),z=i(93603),D=i(53096);const q=()=>{const{isLoading:e}=(0,g.f0)(),{showWalletConnectDialog:t}=(0,z.dc)(),{getI18n:i}=(0,A.HK)(),n=(0,o.useCallback)((()=>{t()}),[t]);return(0,o.useMemo)((()=>e?(0,r.jsx)(d.Z,Object.assign({fontSize:"1",sx:{bg:"inputBg"}},{children:(0,r.jsx)(c.Z,Object.assign({alignItems:"center",justifyContent:"center",sx:{height:"40px",position:"relative",borderRadius:"4px"}},{children:(0,r.jsx)(D.Z,{inner:!0,fullScreen:!0,show:!0},void 0)}),void 0)}),void 0):(0,r.jsx)(K.Z,Object.assign({as:"a","aria-label":"connect-wallet",sx:{fontWeight:"normal"},sz:"normal",width:1,onClick:n,fontWeight:"semibold",mb:"16px"},{children:i("dex-header-ConnectWallet",{defaultValue:"Connect Wallet"})}),void 0)),[i,e,n])},G={justifyContent:"space-between",marginTop:"8px",color:"t.third",fontSize:"12px",lineHeight:"16px",letterSpacing:"0.32px",".content":{flex:1,minWidth:0,marginLeft:"2px",color:"t.primary",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden",textAlign:"right"}},W={justifyContent:"space-between",fontSize:"12px",marginTop:"8px",".left, .right":{display:"flex",flexWrap:"wrap",width:"48.47%",fontSize:"12px",lineHeight:"16px",letterSpacing:"0.32px",color:"t.third"},".left":{justifyContent:"flex-start"},".right":{justifyContent:"flex-end"},".content":{marginLeft:"2px",color:"t.primary"},".truncated":{textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}},B=({label:e,content:t,dataTestId:i})=>(0,r.jsxs)(c.Z,Object.assign({sx:G},{children:[(0,r.jsx)("div",{children:e},void 0),(0,r.jsx)("div",Object.assign({className:"content","data-testid":i},{children:t}),void 0)]}),void 0),U=({leftDataTestId:e,rightDataTestId:t,leftLabel:i,rightLabel:o,leftContent:n,rightContent:a})=>(0,r.jsxs)(c.Z,Object.assign({sx:W},{children:[(0,r.jsxs)("div",Object.assign({className:"left"},{children:[(0,r.jsx)("div",Object.assign({className:"truncated"},{children:i}),void 0),(0,r.jsx)("div",Object.assign({className:"content truncated","data-testid":e},{children:n}),void 0)]}),void 0),(0,r.jsxs)("div",Object.assign({className:"right"},{children:[(0,r.jsx)("div",Object.assign({className:"truncated"},{children:o}),void 0),(0,r.jsxs)("div",Object.assign({className:"content truncated","data-testid":t},{children:[a," "]}),void 0)]}),void 0)]}),void 0),$={height:1,border:0,my:"16px",bg:"newLine"},Y=e=>(0,r.jsx)(d.Z,Object.assign({as:"hr",sx:$},e),void 0),H={flexDirection:"row",alignItems:"flex-end",justifyContent:"space-between"},J=({children:e})=>(0,r.jsx)(c.Z,Object.assign({sx:H},{children:e}),void 0);var Q=i(79555);const X={justifyContent:"center",alignItems:"center",width:"40px",height:"40px",marginLeft:"6px",bg:"inputBg",borderRadius:"4px",cursor:"pointer",fontSize:"14px",color:"t.third","&:hover":{bg:"line",color:"t.primary"}},ee=({value:e,onClick:t})=>(0,r.jsxs)(c.Z,Object.assign({sx:X,onClick:()=>{t(e)}},{children:[e,"%"]}),void 0),te={flexDirection:"row",mt:"10px",".callback-rate-input":{mt:0,flex:1},".bn-input-prefix":{flex:"1"},".prefix-tooltip-container":{width:"100%"},".bn-input-suffix":{marginLeft:"0px !important"},".order-form-input":{width:"28px",px:"4px"}},ie=({fieldName:e,required:t})=>{const{setValue:i}=(0,a.Gc)(),{getI18n:o}=(0,A.yk)(),n=(0,r.jsx)(v.m,Object.assign({className:"prefix-tooltip-container",tip:o("callbackRateTip",{defaultValue:m})},{children:(0,r.jsx)(Q.u,{children:o("callbackRate",{defaultValue:"Callback Rate"})},void 0)}),void 0),s=t=>{i(e,t)};return(0,r.jsxs)(c.Z,Object.assign({sx:te},{children:[(0,r.jsx)(O.L,{className:"callback-rate-input",fieldName:e,prefix:n,suffix:(0,r.jsx)(h.Z,Object.assign({color:"t.primary"},{children:"%"}),void 0),precision:1,maxNumberValue:5,maxLength:y.ze,required:t},void 0),(0,r.jsx)(ee,{value:"1",onClick:s},void 0),(0,r.jsx)(ee,{value:"2",onClick:s},void 0)]}),void 0)};var re=i(39591),oe=i(41825),ne=i(92392),ae=i(39727),se=i(9378),le=i(60520);const de=()=>{const e=(0,ae.I0)(),[,t]=(0,g.z4)(),i=(0,g.Pc)(),{isExistFutureAccount:n}=i,s=(0,g._n)(),{getI18n:l}=(0,A.yk)(),{baseAsset:d,marginAsset:c}=(0,g.j2)(),[u]=(0,g.eY)(),p=(0,g.G3)(),{setValue:m}=(0,a.Gc)(),x=s&&n,f=(0,o.useMemo)((()=>p?[{label:l("Cont",{defaultValue:"Cont"}),value:y.SW.cont},{label:t[0],value:y.SW.coin}]:[{label:c,value:y.AO.usdt},{label:d,value:y.AO.coin}]),[p,l,t,c,d]),v=(0,o.useCallback)((t=>{return i=void 0,r=void 0,n=function*(){yield e.preference.changeUnit(t),m(le.T.UNIT_AMOUNT,"")},new((o=void 0)||(o=Promise))((function(e,t){function a(e){try{l(n.next(e))}catch(e){t(e)}}function s(e){try{l(n.throw(e))}catch(e){t(e)}}function l(t){var i;t.done?e(t.value):(i=t.value,i instanceof o?i:new o((function(e){e(i)}))).then(a,s)}l((n=n.apply(i,r||[])).next())}));var i,r,o,n}),[e.preference,m]);return(0,r.jsx)(se.A,{name:"unit",value:u,options:f,onChange:v,disabled:!x},void 0)};var ce=i(99e3);const ue=({fieldName:e,prefix:t,required:i})=>{var o;const n=(0,g.G3)(),s=(0,g.XY)(),l=(0,g.XY)(n?y.SW.cont:y.AO.coin),{getI18n:d}=(0,A.yk)(),{contractVal:c,marginAsset:u,minQty:p,filters:m}=(0,g.j2)(),x=(null===(o=m.find(ce.Jv))||void 0===o?void 0:o.notional)||"1",[,[f,v]]=(0,g.z4)(),[b]=(0,g.lE)(),[h]=(0,g.KK)(),[j]=(0,g.eY)(),T=j===y.SW.cont?`1 ${d("Cont",{defaultValue:"Cont"})} = ${c} ${v}`:"",P=(0,a.qo)({name:e}),S=(0,re.Z)({lastPriceType:"trade"}),N=(0,oe.u)({side:"buy"}),k=Boolean(P),{message:I,valid:_}=(0,ne.mv)({unit:j,orderAmount:N,price:S,contractVal:c,unitAmountPrecision:s,orderAmountPrecision:l,base:f,margin:u,minQty:p,minNotional:x,isDelivery:n,getFutI18n:d,reduceOnly:h,positionDirection:b}),{isSubmitted:C}=(0,a.cl)(),w=C&&!_&&k;return(0,r.jsx)(O.L,{fieldName:e,prefix:t,suffix:(0,r.jsx)(de,{},void 0),precision:s,maxLength:y.ze,required:i,placeholder:T,error:w,errorText:w?I:"",infoText:k?I:""},void 0)};var pe=i(47174);const me=e=>{var{fieldName:t}=e,i=function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(i[r[o]]=e[r[o]])}return i}(e,["fieldName"]);const{setValue:n}=(0,a.Gc)(),s=(0,a.qo)({name:t}),l=(0,o.useCallback)((e=>n(t,e)),[n,t]);return(0,r.jsx)(se.A,Object.assign({},i,{name:t,value:s,onChange:l}),void 0)},xe=({priceFieldName:e,workingTypeFieldName:t,prefix:i,placeholder:n,required:a,disabled:s,onFocus:l})=>{const d=(0,pe.i)(),{getI18n:c}=(0,A.yk)(),u=(0,o.useMemo)((()=>[{label:c("advancedStrategy-lastPrice",{defaultValue:"Last"}),value:"CONTRACT_PRICE"},{label:c("advancedStrategy-markPrice",{defaultValue:"Mark"}),value:"MARK_PRICE"}]),[c]),p=(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(F,{fieldName:e},void 0),(0,r.jsx)(me,{fieldName:t,options:u,disabled:s},void 0)]},void 0);return(0,r.jsx)(O.L,{fieldName:e,placeholder:n,prefix:i,suffix:p,precision:d,maxLength:y.ze,required:a,disabled:s,onFocus:l},void 0)};var fe=i(34291),ve=i.n(fe),ge=i(51259),be=i(6203),he=i(29261),ye=i(5192),je=i(87019),Oe=i(7909);const Te=(0,o.forwardRef)((({},e)=>{const[t]=(0,g.KK)(),i=(0,re.Z)({lastPriceType:"trade"}),{maxBuyOrderAmount:r,maxSellOrderAmount:n}=(0,Oe.V)({reduceOnly:t,orderPrice:i});return(0,o.useImperativeHandle)(e,(()=>({buyMaxAmount:r,sellMaxAmount:n}))),null})),Pe={paddingTop:"8px","> div":{px:["","","0px"]},".bn-slider-container":{"> label.bn-slider-radio-tooltip":{fontSize:"14px"}}},Se={steppers:[0,25,50,75,100],range:{min:0,max:100},unit:"%"},Ne=({amountFieldName:e,amountFieldValueType:t,showUnitAmount:i})=>{const{getI18n:s}=(0,A.yk)(),l=(0,o.useRef)({buyMaxAmount:0,sellMaxAmount:0}),{setValue:c}=(0,a.Gc)(),u=(0,be.m)(),p=(0,a.qo)({name:e}),m="percentage"===t,x=p.includes("%"),[f,v]=(0,o.useState)(0),b=(0,n.Z)(f),[h]=(0,g.lE)(),y=(0,n.Z)(h),O=(0,re.Z)({lastPriceType:"trade"}),[T]=(0,g.K5)(),{stepSizePrecision:P,tickSizePrecision:S,equalQtyPrecision:N}=(0,ye.q)({orderType:T}),[k]=(0,g.eY)(),{contractVal:I}=(0,he.j2)(),_=(0,o.useRef)(ve()),[C,w]=(0,o.useState)(""),[E,R]=(0,o.useState)(""),L=(0,je.e)({unit:k,contractVal:I,price:O,orderAmount:0,stepSizePrecision:P,tickSizePrecision:S,equalQtyPrecision:N});(0,o.useEffect)((()=>{_.current=()=>{const e=(0,je.e)({unit:k,contractVal:I,price:O,orderAmount:l.current.buyMaxAmount*f/100,stepSizePrecision:P,tickSizePrecision:S,equalQtyPrecision:N}),t=(0,je.e)({unit:k,contractVal:I,price:O,orderAmount:l.current.sellMaxAmount*f/100,stepSizePrecision:P,tickSizePrecision:S,equalQtyPrecision:N});w(e),R(t)}}),[I,N,O,f,P,S,k]);const F=(0,o.useCallback)((()=>{v(0),w(""),R("")}),[]);return(0,o.useEffect)((()=>j.ee.on("SET_SLIDER_AMOUNT",v)),[]),(0,o.useEffect)((function(){h===y&&f===b||_.current()}),[h,y,f,b]),(0,o.useEffect)((function(){m||F()}),[u,m,F]),(0,o.useEffect)((function(){m&&!x&&F()}),[x,m,F]),(0,o.useEffect)((function(){""===p&&v(0)}),[p,F]),(0,o.useEffect)((function(){m&&c(e,`${f}%`)}),[e,m,f,c]),(0,o.useEffect)((function(){switch(t){case"buyUnitAmount":c(e,C);break;case"sellUnitAmount":c(e,E)}}),[e,t,C,f,E,c]),(0,r.jsxs)(d.Z,Object.assign({sx:Pe},{children:[(0,r.jsx)(Te,{ref:l},void 0),(0,r.jsx)("div",{children:(0,r.jsx)(ge.Z,Object.assign({},Se,{progress:f,onChange:v,px:"0px"}),void 0)},void 0),i&&(0,r.jsx)(U,{leftLabel:s("Buy",{defaultValue:"Buy"}),rightLabel:s("Sell",{defaultValue:"Sell"}),leftContent:`${C||L} ${u}`,rightContent:`${E||L} ${u}`},void 0)]}),void 0)};var ke=i(61438),Ie=i(54163),_e=i(42902),Ce=i(44174);const we=()=>{const e=(0,o.useRef)(document.querySelector('div[name="orderForm"]')),t=(0,A.tZ)(),{getI18n:i}=(0,A.yk)(),n=i("cost",{defaultValue:"Cost"}),a=i("costTip",{defaultValue:"The margin required to execute this order. Reducing a position does not cost margin."});return(0,r.jsx)(v.m,Object.assign({tip:a,learnMoreLink:(0,Ce.CN)(p.Wh.COST,{locale:(0,_e.sU)(t)}),placement:"bottom",container:e.current},{children:n}),void 0)},Ee=({side:e,price:t,buyOrderAmount:i,sellOrderAmount:n})=>{const a=(0,o.useMemo)((()=>(0,r.jsx)(we,{},void 0)),[]),{marginAsset:s}=(0,g.j2)(),{buyOrderCost:l,sellOrderCost:d}=(0,g.E4)({orderPrice:t,buyOrderAmount:i,sellOrderAmount:n});switch(e){case"buy":return(0,r.jsx)(B,{label:a,content:`${l} ${s}`},void 0);case"sell":return(0,r.jsx)(B,{label:a,content:`${d} ${s}`},void 0);case"both":return(0,r.jsx)(U,{leftLabel:a,rightLabel:a,leftContent:`${l} ${s}`,rightContent:`${d} ${s}`},void 0);default:return null}},Re=({side:e})=>{const t=(0,o.useMemo)((()=>(0,r.jsx)(we,{},void 0)),[]),{marginAsset:i}=(0,g.j2)(),n=(0,g.G3)()?p.vQ.delivery.pricePrecision:p.vQ.USDT.pricePrecision,a=(0,o.useRef)((0,Ie.GW)(0,n,!0)),s=(0,o.useRef)((0,Ie.GW)(0,n,!0));switch(e){case"buy":return(0,r.jsx)(B,{label:t,content:`${a.current} ${i}`},void 0);case"sell":return(0,r.jsx)(B,{label:t,content:`${s.current} ${i}`},void 0);case"both":return(0,r.jsx)(U,{leftLabel:t,rightLabel:t,leftContent:`${a.current} ${i}`,rightContent:`${s.current} ${i}`},void 0);default:return null}},Le=({side:e})=>{const t=(0,re.Z)({lastPriceType:"trade"}),i=(0,oe.u)({side:"buy"}),o=(0,oe.u)({side:"sell"}),[n]=(0,g.hN)(),[a]=(0,g.lE)(),s=!n||"OPEN"===a,l=i>0||o>0;return(0,r.jsx)(r.Fragment,{children:s&&l?(0,r.jsx)(Ee,{side:e,price:t,buyOrderAmount:i,sellOrderAmount:o},void 0):(0,r.jsx)(Re,{side:e},void 0)},void 0)},Fe=({side:e})=>{const{getI18n:t}=(0,A.yk)(),i=t("Max",{defaultValue:"Max"}),o=(0,g.mA)(),[n]=(0,g.K5)(),[a]=(0,g.eY)(),{contractVal:s}=(0,g.j2)(),l=(0,re.Z)({lastPriceType:"trade"}),[d]=(0,g.KK)(),{maxBuyOrderAmount:c,maxSellOrderAmount:u}=(0,g.V2)({reduceOnly:d,orderPrice:l}),{stepSizePrecision:p,tickSizePrecision:m,equalQtyPrecision:x}=(0,g.qh)({orderType:n}),f=(0,je.e)({unit:a,contractVal:s,price:l,orderAmount:c,stepSizePrecision:p,tickSizePrecision:m,equalQtyPrecision:x}),v=(0,je.e)({unit:a,contractVal:s,price:l,orderAmount:u,stepSizePrecision:p,tickSizePrecision:m,equalQtyPrecision:x});switch(e){case"buy":return(0,r.jsx)(B,{dataTestId:"max-buy-amount",label:i,content:`${f} ${o}`},void 0);case"sell":return(0,r.jsx)(B,{dataTestId:"max-sell-amount",label:i,content:`${v} ${o}`},void 0);case"both":return(0,r.jsx)(U,{leftDataTestId:"max-buy-amount",rightDataTestId:"max-sell-amount",leftLabel:i,rightLabel:i,leftContent:`${f} ${o}`,rightContent:`${v} ${o}`},void 0);default:return null}},Ae=({side:e})=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Le,{side:e},void 0),(0,r.jsx)(Fe,{side:e},void 0)]},void 0);var Me=i(34215);const Ve=(0,o.forwardRef)(((e,t)=>{var{fieldName:i,value:o,children:n}=e,s=function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(i[r[o]]=e[r[o]])}return i}(e,["fieldName","value","children"]);const{setValue:l}=(0,a.Gc)();return(0,r.jsx)(K.Z,Object.assign({sz:"normal",variant:"default",type:"submit",onClick:()=>{l(i,o)},ref:t},s,{children:n}),void 0)}));var Ze=i(2364),Ke=i(59111);const{liteConfig:{walletName:ze}}=Ke.ll,De=()=>{const{getI18n:e}=(0,A.HK)(),{getI18n:t}=(0,A.yk)(),{trackWebClickWithWalletAddress:i}=(0,A.fM)(),n=(0,o.useCallback)((()=>{i({pageName:"advancedMode",$element_id:"depositPopups",$element_type:"tradeGuide"}),(0,Ze.openDepositModal)()}),[i]);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(h.Z,Object.assign({variant:"caption",color:"alertYellowBg",mb:"16px"},{children:t("liteOrderFormDepositNotice",{defaultValue:"0 balance. Before trading, deposit tokens from your DeFi wallet to your {{brokerName}} perpetual wallet.",brokerName:ze})}),void 0),(0,r.jsx)(K.Z,Object.assign({sz:"normal",variant:"default",type:"button",width:"100%",mb:"8px",onClick:n},{children:e("Deposit",{defaultValue:"Deposit"})}),void 0)]},void 0)};var qe=i(33073);const Ge=({fieldName:e,activatePriceFieldName:t,side:i})=>{const[o]=(0,g.K5)(),[n]=(0,g.lE)(),{BuyText:s,SellText:l}=(0,g.x_)(n),d=(0,ae.v9)(Me.X8),u=(0,a.qo)({name:le.T.TRIGGER_PRICE_WORKING_TYPE}),p=(0,g.uH)("CONTRACT_PRICE"===u),m=(0,g.CE)(),x="CONTRACT_PRICE"===u?p:m,f=(0,a.qo)({name:t}),{buyDisabled:v,sellDisabled:b}=(0,g.nL)({orderType:o,activePrice:f,price:x}),h=(0,qe.i)(),{isMobile:y}=(0,A.Fs)();if(y&&h)return(0,r.jsx)(De,{},void 0);const j=(0,r.jsx)(Ve,Object.assign({fieldName:e,value:"BUY",disabled:d||v,colorStyle:"buy",flex:1,width:"100%",mr:"8px",mt:"8px"},{children:s}),void 0),O=(0,r.jsx)(Ve,Object.assign({fieldName:e,value:"SELL",disabled:d||b,colorStyle:"sell",width:"100%",flex:1,mt:"8px"},{children:l}),void 0);return"buy"===i?j:"sell"===i?O:"both"===i?(0,r.jsxs)(c.Z,{children:[j,O]},void 0):null};var We=i(11001),Be=i(37348),Ue=i(11981),$e=i(74900);const Ye=e=>{var{fieldName:t,value:i,label:o,disabled:n}=e,s=function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(i[r[o]]=e[r[o]])}return i}(e,["fieldName","value","label","disabled"]);const{setValue:l}=(0,a.Gc)(),d=(0,a.qo)({name:t})===i;return(0,r.jsx)($e.ZP,Object.assign({},s,{value:i,name:t,label:o,disabled:n,checked:d,onChange:e=>l(t,e)}),void 0)};var He=i(5271);const Je=({priceFieldName:e,orderTypeFieldName:t,prefix:i,placeholder:n,disabled:s,required:l,limitOptionValue:d,marketOptionValue:c})=>{const u=(0,g.ih)(),{getI18n:p}=(0,A.yk)(),{setValue:m,getValues:x}=(0,a.Gc)(),f=(0,o.useRef)(x(e)),v=(0,a.qo)({name:t})===c,b=(0,o.useMemo)((()=>[{label:p("limit",{defaultValue:"Limit"}),value:d},{label:p("market",{defaultValue:"Market"}),value:c}]),[p,d,c]);return(0,o.useEffect)((function(){v?(f.current=x(e),m(e,"")):m(e,f.current)}),[x,v,e,m]),(0,r.jsx)(O.L,{fieldName:e,prefix:i,suffix:(0,r.jsx)(me,{fieldName:t,options:b,disabled:s},void 0),precision:u,maxLength:y.ze,placeholder:n,disabled:v||s,required:l},void 0)};var Qe=i(91289);const Xe={"> .percent-input":{width:"84px",marginLeft:"6px",".bn-input-prefix":{display:"none"},".bn-input-suffix":{ml:"2px"}}},et=({type:e,entryPrice:t,strategySideFieldName:i,stopPriceFieldName:n,stopPriceWorkingTypeFieldName:s,disabled:l,required:d})=>{const{getI18n:u}=(0,A.yk)(),{setValue:p}=(0,a.Gc)(),m=(0,pe.i)(),[x,f]=(0,o.useState)(""),v=(0,o.useRef)(null),[g,b]=(0,a.qo)({name:[i,n]}),h="takeProfit"===e;(0,o.useEffect)((()=>{if(!t||!x||"pnlPercent"!==v.current)return;const e=h?(({strategySide:e,entryPrice:t,pnlPercent:i})=>t*(1+i*e/100))({strategySide:g,entryPrice:t,pnlPercent:Number(x)}):(({strategySide:e,entryPrice:t,pnlPercent:i})=>t*(1-i*e/100))({strategySide:g,entryPrice:t,pnlPercent:Number(x)});p(n,e<0?"0":(0,I.uf)(e,m).replace(/,/g,""))}),[t,h,x,m,p,n,g]),(0,o.useEffect)((()=>{if(!t||!b||"stopPrice"!==v.current)return;const e=h?(({strategySide:e,entryPrice:t,stopPrice:i})=>e*(i-t)*100/t)({strategySide:g,entryPrice:t,stopPrice:b}):(({strategySide:e,entryPrice:t,stopPrice:i})=>e*(i-t)*100*-1/t)({strategySide:g,entryPrice:t,stopPrice:b});f(e<0?"0":(0,I.uf)(e,1))}),[t,h,b,g]);const y=h?u("advancedStrategy-takeProfitStopPrice",{defaultValue:"TP"}):u("advancedStrategy-stopLossStopPrice",{defaultValue:"SP"}),j=h?u("advancedStrategy-gain",{defaultValue:"Gain"}):u("advancedStrategy-loss",{defaultValue:"Loss"});return(0,r.jsxs)(c.Z,Object.assign({sx:Xe},{children:[(0,r.jsx)(xe,{placeholder:y,priceFieldName:n,workingTypeFieldName:s,disabled:l,required:d,onFocus:()=>{v.current="stopPrice"}},void 0),(0,r.jsx)(Qe.Q,{className:"percent-input",precision:1,suffix:"%",value:x,onChange:f,onFocus:()=>{v.current="pnlPercent"},placeholder:j,disabled:l,target:h?"gain":"loss"},void 0)]}),void 0)};var tt=i(34427);const it=({qty:e,contractSize:t,entryPrice:i,stopPrice:r,side:o,precision:n})=>i&&r&&t&&e?(0,I.uf)(t*e*o*(1/i-1/r),n):"-",rt=({qty:e,entryPrice:t,stopPrice:i,side:r,precision:o})=>t&&i&&e?(0,I.uf)(e*r*(i-t),o):"-",ot={width:"100%",mt:"12px",fontSize:"12px",lineHeight:"16px","> .row":{display:"flex",justifyContent:"space-between","> .label":{color:"t.third"},"&.stop-pnl-row":{mt:"6px"}}},nt=({takeProfitStopPrice:e,takeProfitPrice:t,takeProfitOrderType:i,stopLossStopPrice:o,stopLossPrice:n,stopLossOrderType:a,entryPrice:s,side:l})=>{const{getI18n:c}=(0,A.yk)(),{contractVal:u=1,marginAsset:p,pricePrecision:m}=(0,g.j2)(),x=(0,oe.u)({side:"buy"}),f=(0,oe.u)({side:"sell"});let v="-",b="-";return(0,tt.G)()?(v=it({entryPrice:+s,stopPrice:i===He.Jm.TAKE_PROFIT_LIMIT?+t:+e,side:l,qty:1===l?+x:+f,contractSize:u,precision:m}),b=it({entryPrice:+s,stopPrice:a===He.Jm.STOP_LIMIT?+n:+o,side:l,qty:1===l?+x:+f,contractSize:u,precision:m})):(v=rt({entryPrice:+s,stopPrice:i===He.Jm.TAKE_PROFIT_LIMIT?+t:+e,side:l,qty:1===l?+x:+f,precision:m}),b=rt({entryPrice:+s,stopPrice:a===He.Jm.STOP_LIMIT?+n:+o,side:l,qty:1===l?+x:+f,precision:m})),(0,r.jsxs)(d.Z,Object.assign({sx:ot},{children:[(0,r.jsxs)("div",Object.assign({className:"row"},{children:[(0,r.jsx)("div",Object.assign({className:"label"},{children:c("advancedStrategy-exitPNL")}),void 0),(0,r.jsxs)("div",Object.assign({className:"value"},{children:[v," ",p]}),void 0)]}),void 0),(0,r.jsxs)("div",Object.assign({className:"row stop-pnl-row"},{children:[(0,r.jsx)("div",Object.assign({className:"label"},{children:c("advancedStrategy-stopPNL")}),void 0),(0,r.jsxs)("div",Object.assign({className:"value"},{children:[b," ",p]}),void 0)]}),void 0)]}),void 0)},at=({strategySideFieldName:e,takeProfitPriceFieldName:t,takeProfitStopPriceFieldName:i,takeProfitStopPriceWorkingTypeFieldName:o,takeProfitOrderTypeFieldName:n,stopLossPriceFieldName:s,stopLossStopPriceFieldName:l,stopLossStopPriceWorkingTypeFieldName:d,stopLossOrderTypeFieldName:c})=>{const{getI18n:u}=(0,A.yk)(),[m]=(0,g.t1)(),{isMobile:x}=(0,A.Fs)(),[f]=(0,g.KK)(),v=f,[b,h,y,j,O,T,P]=(0,a.qo)({name:[e,t,i,n,s,l,c]}),S=(0,re.Z)({lastPriceType:b===p.O6.LONG?"ask":"bid"}),N=(0,g.C3)()===p.UW;return!m||x||N?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(xe,{prefix:u("takeProfit",{defaultValue:"Take Profit"}),priceFieldName:i,workingTypeFieldName:o,required:!1,disabled:v},void 0),(0,r.jsx)(xe,{prefix:u("stopLoss",{defaultValue:"Stop Loss"}),priceFieldName:l,workingTypeFieldName:d,required:!1,disabled:v},void 0)]},void 0):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(et,{type:"takeProfit",entryPrice:S,strategySideFieldName:e,stopPriceFieldName:i,stopPriceWorkingTypeFieldName:o,disabled:v,required:!1},void 0),(0,r.jsx)(Je,{placeholder:u("advancedStrategy-takeProfitPrice",{defaultValue:"TP Price"}),priceFieldName:t,orderTypeFieldName:n,limitOptionValue:He.Jm.TAKE_PROFIT_LIMIT,marketOptionValue:He.Jm.TAKE_PROFIT_MARKET,disabled:v,required:j===He.Jm.TAKE_PROFIT_LIMIT},void 0),(0,r.jsx)(et,{type:"stopLoss",entryPrice:S,strategySideFieldName:e,stopPriceFieldName:l,stopPriceWorkingTypeFieldName:d,disabled:v,required:!1},void 0),(0,r.jsx)(Je,{placeholder:u("advancedStrategy-stopLossPrice",{defaultValue:"SL Price"}),priceFieldName:s,orderTypeFieldName:c,limitOptionValue:He.Jm.STOP_LIMIT,marketOptionValue:He.Jm.STOP_MARKET,disabled:v,required:P===He.Jm.STOP_LIMIT},void 0),(0,r.jsx)(nt,{takeProfitPrice:h,takeProfitStopPrice:y,takeProfitOrderType:j,stopLossPrice:O,stopLossStopPrice:T,stopLossOrderType:P,entryPrice:S,side:b},void 0)]},void 0)},st={flexDirection:"row",justifyContent:"space-between",alignItems:"center",height:"16px",mb:"16px",".tpsl-checkbox":{mt:0},".side-radio":{color:"t.primary",".radio-text":{fontSize:"12px",lineHeight:"16px"},"&.short-side-radio":{ml:"16px"}}},lt=({strategySideFieldName:e,takeProfitPriceFieldName:t,takeProfitStopPriceFieldName:i,takeProfitStopPriceWorkingTypeFieldName:o,takeProfitOrderTypeFieldName:n,stopLossPriceFieldName:a,stopLossStopPriceFieldName:s,stopLossStopPriceWorkingTypeFieldName:l,stopLossOrderTypeFieldName:u,showSideRadioButtons:m})=>{const x=(0,A.tZ)(),{getI18n:f}=(0,A.yk)(),[v]=(0,g.t1)(),{isMobile:b}=(0,A.Fs)(),[h]=(0,g.KK)(),y=h,[j,O]=(0,g.uD)(),T=(0,g.C3)()===p.UW,P=j&&v&&!b&&!T;return(0,r.jsxs)(d.Z,Object.assign({mb:"16px"},{children:[(0,r.jsxs)(c.Z,Object.assign({sx:st},{children:[(0,r.jsx)(Ue.C,{className:"tpsl-checkbox",tooltipText:f("limitType-strategyOrder-tip",{defaultValue:""}),tooltipLearnMoreLink:(0,Ce.CN)(p.Wh.TP_SL,{locale:(0,_e.sU)(x)}),label:f("limitType-strategyOrder",{defaultValue:"TP/SL"}),disabled:y,checked:j,onChange:O},void 0),P&&m&&(0,r.jsxs)(c.Z,Object.assign({flexDirection:"row"},{children:[(0,r.jsx)(Ye,{className:"side-radio",fieldName:e,value:p.O6.LONG,label:(0,r.jsx)("span",Object.assign({className:"radio-text"},{children:f("advancedStrategy-long",{defaultValue:"Long"})}),void 0),disabled:y},void 0),(0,r.jsx)(Ye,{className:"side-radio short-side-radio",fieldName:e,value:p.O6.SHORT,label:(0,r.jsx)("span",Object.assign({className:"radio-text"},{children:f("advancedStrategy-short",{defaultValue:"Short"})}),void 0),disabled:y},void 0)]}),void 0)]}),void 0),j&&(0,r.jsx)(at,{strategySideFieldName:e,takeProfitPriceFieldName:t,takeProfitStopPriceFieldName:i,takeProfitStopPriceWorkingTypeFieldName:o,takeProfitOrderTypeFieldName:n,stopLossPriceFieldName:a,stopLossStopPriceFieldName:s,stopLossStopPriceWorkingTypeFieldName:l,stopLossOrderTypeFieldName:u},void 0)]}),void 0)};var dt=i(76308),ct=i(86804);const ut={LIMIT:({price:e,amount:t,amountSlider:i,tpsl:o,reduceOnly:n,tif:a,costAndMax:s,placeOrderButtons:l,divider:d})=>(0,r.jsxs)(r.Fragment,{children:[e,t,i,d,o,(0,r.jsxs)(J,{children:[n,a]},void 0),d,l,s]},void 0),MARKET:({divider:e,amount:t,amountSlider:i,tpsl:o,reduceOnly:n,costAndMax:a,placeOrderButtons:s})=>(0,r.jsxs)(r.Fragment,{children:[t,i,e,o,n,e,s,a]},void 0),STOP:({divider:e,price:t,stopPrice:i,amount:o,amountSlider:n,reduceOnly:a,tif:s,tpsl:l,costAndMax:d,placeOrderButtons:c})=>(0,r.jsxs)(r.Fragment,{children:[i,t,o,n,e,l,(0,r.jsxs)(J,{children:[a,s]},void 0),e,c,d]},void 0),STOP_MARKET:({divider:e,stopPrice:t,amount:i,amountSlider:o,reduceOnly:n,tpsl:a,costAndMax:s,placeOrderButtons:l})=>(0,r.jsxs)(r.Fragment,{children:[t,i,o,e,a,n,e,l,s]},void 0),TRAILING_STOP_MARKET:({divider:e,callbackRate:t,activationPrice:i,amount:o,amountSlider:n,reduceOnly:a,costAndMax:s,placeOrderButtons:l})=>(0,r.jsxs)(r.Fragment,{children:[t,i,o,n,e,a,e,l,s]},void 0),POST_ONLY:({divider:e,price:t,amount:i,amountSlider:o,reduceOnly:n,tpsl:a,costAndMax:s,placeOrderButtons:l})=>(0,r.jsxs)(r.Fragment,{children:[t,i,o,e,a,n,e,l,s]},void 0)},pt=o.memo((e=>{var{side:t,horizontal:i}=e,s=function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(i[r[o]]=e[r[o]])}return i}(e,["side","horizontal"]);const[m]=(0,g.K5)(),{symbol:h}=(0,g.j2)(),y=(0,g.c7)(),[j]=(0,g.hN)(),O=(0,g._n)(),{getI18n:T}=(0,f.Z)(),{getI18n:P}=(0,A.yk)(),[S,N]=(0,u.Z)(p._J,l()(le.U,[le.T.TRIGGER_PRICE_WORKING_TYPE,le.T.TP_STOP_PRICE_WORKING_TYPE,le.T.TP_ORDER_TYPE,le.T.SL_STOP_PRICE_WORKING_TYPE,le.T.SL_ORDER_TYPE])),k=(0,o.useCallback)((()=>Object.assign(Object.assign(Object.assign({},le.U),S),{[le.T.LIMIT_PRICE]:y(),[le.T.STRATEGY_SIDE]:"sell"===t?We.O6.SHORT:We.O6.LONG})),[S,y,t]),I=(0,a.cI)({defaultValues:k()}),{reset:_,handleSubmit:C,getValues:w}=I,E=(0,o.useCallback)((()=>{const e=w(le.T.TRIGGER_PRICE_WORKING_TYPE),t=w(le.T.TP_STOP_PRICE_WORKING_TYPE),i=w(le.T.TP_ORDER_TYPE),r=w(le.T.SL_STOP_PRICE_WORKING_TYPE),o=w(le.T.SL_ORDER_TYPE);return{[le.T.TRIGGER_PRICE_WORKING_TYPE]:e,[le.T.TP_STOP_PRICE_WORKING_TYPE]:t,[le.T.TP_ORDER_TYPE]:i,[le.T.SL_STOP_PRICE_WORKING_TYPE]:r,[le.T.SL_ORDER_TYPE]:o}}),[w]),R=(0,b.F)({afterSubmit:()=>_(Object.assign(Object.assign({},k()),E()))}),L=(0,n.Z)(m),F=(0,n.Z)(h);(0,o.useEffect)((function(){L===m&&F===h||_(Object.assign(Object.assign({},k()),E()))}),[_,m,L,k,E,F,h]),(0,o.useEffect)((function(){function e(){const e=E();N(e)}return window.addEventListener("beforeunload",e),()=>window.removeEventListener("beforeunload",e)}),[E,N]);const M=ut[m]||null,V=(0,o.useMemo)((()=>(0,r.jsx)(Z,{fieldName:le.T.LIMIT_PRICE,prefix:P("price",{defaultValue:"Price"}),required:!0,getLastTracePrice:y},void 0)),[P,y]),K=(0,o.useMemo)((()=>(0,r.jsx)(xe,{prefix:P("stopPrice",{defaultValue:"Stop Price"}),priceFieldName:le.T.TRIGGER_PRICE,workingTypeFieldName:le.T.TRIGGER_PRICE_WORKING_TYPE,required:!0},void 0)),[P]),z=(0,o.useMemo)((()=>(0,r.jsx)(ie,{fieldName:le.T.PRICE_RATE,required:!0},void 0)),[]),D=(0,o.useMemo)((()=>{const e=(0,r.jsx)(v.m,Object.assign({className:"prefix-tooltip-container",tip:P("activationPriceTip",{defaultValue:x})},{children:(0,r.jsx)(Q.u,{children:P("activationPrice",{defaultValue:"Activation Price"})},void 0)}),void 0);return(0,r.jsx)(d.Z,Object.assign({sx:{".bn-input-prefix":{flex:"1"},".prefix-tooltip-container":{width:"100%"},".bn-input-suffix":{marginLeft:"0px !important"},".order-form-input":{width:"73px",px:"4px"}}},{children:(0,r.jsx)(xe,{prefix:e,priceFieldName:le.T.ACTIVATE_PRICE,workingTypeFieldName:le.T.ACTIVATE_PRICE_WORKING_TYPE,required:!1},void 0)}),void 0)}),[P]),G=(0,o.useMemo)((()=>(0,r.jsx)(ue,{fieldName:le.T.UNIT_AMOUNT,prefix:P("quantity",{defaultValue:"Size"}),required:!0},void 0)),[P]),W=O?(0,r.jsx)(ke.w,{fieldName:le.T.BUY_ORDER_AMOUNT,unitAmountFieldName:le.T.UNIT_AMOUNT,side:"buy"},void 0):null,B=O?(0,r.jsx)(ke.w,{fieldName:le.T.SELL_ORDER_AMOUNT,unitAmountFieldName:le.T.UNIT_AMOUNT,side:"sell"},void 0):null,U=(0,o.useMemo)((()=>(0,r.jsx)(Ne,{amountFieldName:le.T.UNIT_AMOUNT,amountFieldValueType:i?"buy"===t?"buyUnitAmount":"sellUnitAmount":"percentage",showUnitAmount:O&&!i},void 0)),[O,t,i]),$=(0,o.useMemo)((()=>O?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(Ae,{side:t},void 0),!i&&(0,r.jsx)(c.Z,Object.assign({justifyContent:"flex-end",mt:"12px"},{children:(0,r.jsx)(Be.z,{},void 0)}),void 0)]},void 0):null),[O,t]),H=(0,o.useMemo)((()=>O&&!i?(0,r.jsx)(dt.W,{},void 0):null),[O,i]),J=(0,o.useMemo)((()=>O&&!i?(0,r.jsx)(ct.d,{},void 0):null),[O,i]),X=(0,o.useMemo)((()=>O?(0,r.jsx)(lt,{showSideRadioButtons:!i,strategySideFieldName:le.T.STRATEGY_SIDE,takeProfitPriceFieldName:le.T.TP_LIMIT_PRICE,takeProfitStopPriceFieldName:le.T.TP_STOP_PRICE,takeProfitStopPriceWorkingTypeFieldName:le.T.TP_STOP_PRICE_WORKING_TYPE,takeProfitOrderTypeFieldName:le.T.TP_ORDER_TYPE,stopLossPriceFieldName:le.T.SL_LIMIT_PRICE,stopLossStopPriceFieldName:le.T.SL_STOP_PRICE,stopLossStopPriceWorkingTypeFieldName:le.T.SL_STOP_PRICE_WORKING_TYPE,stopLossOrderTypeFieldName:le.T.SL_ORDER_TYPE},void 0):null),[O,i]),ee=(0,o.useMemo)((()=>O?(0,r.jsx)(Ge,{fieldName:le.T.SIDE,activatePriceFieldName:le.T.ACTIVATE_PRICE,side:t},void 0):(0,r.jsx)(q,{},void 0)),[O,t]),te=(0,o.useMemo)((()=>!O||i||![He.Jm.LIMIT,He.Jm.STOP_LIMIT].includes(m)&&j?(0,r.jsx)(Y,{height:0,my:"6px"},void 0):(0,r.jsx)(Y,{},void 0)),[O,i,m,j]);return(0,r.jsx)(a.RV,Object.assign({},I,{children:(0,r.jsxs)("form",Object.assign({autoComplete:"off",onSubmit:C(R)},s,{children:[M&&(0,r.jsx)(M,{side:t,horizontal:i,divider:te,price:V,stopPrice:K,callbackRate:z,activationPrice:D,amount:G,amountSlider:U,tpsl:X,reduceOnly:H,tif:J,costAndMax:$,placeOrderButtons:ee},void 0),W,B]}),void 0)}),void 0)}))},39428:(e,t,i)=>{i.d(t,{R:()=>f});var r=i(52322),o=i(2784),n=i(55742),a=i(30210),s=i(33322),l=i(27986),d=i(48658),c=i(35054),u=i(23131),p=i(97060),m=i(38896);const x={maxWidth:"240px",boxSizing:"border-box",mt:"sm",color:"filterDropdown.color",py:2,borderRadius:"4px",boxShadow:"elevation2",width:"auto",p:0,position:"relative",bg:"modalBg",top:"-20px",right:"10px","& .opr":{variant:"filters.button",color:"t.primary",fontSize:1,lineHeight:"16px",py:"12px",px:3,cursor:"pointer",":hover":{bg:"lightPrimary",color:"t.primary"},".page-link":{color:"t.primary",textDecoration:"none"},justifyContent:"space-between"},"& .line":{borderTop:"1px solid",borderColor:"newLine",my:"8px",mx:"16px"},"& .checkbox":{color:"t.primary",fontSize:"12px",lineHeight:"16px",py:"8px",px:3,justifyContent:"flex-start",alignItems:"flex-start",":last-of-type":{paddingBottom:"16px"}},".back-layout":{color:"primary",fontSize:"12px",mx:"16px",my:"12px",cursor:"pointer",height:"32px"}},f=()=>{const{getI18n:e}=(0,p.yk)(),t=(0,m._n)(),i=(0,m.$Y)()===u.UW,f=(0,o.useRef)(null),[v,g]=(0,m.t1)(),{showPreferencePanel:b}=(0,m.r8)(),[h,y]=(0,m.UI)(),[j,O]=(0,m.NU)();return(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(n.ZP,Object.assign({overlay:(0,r.jsx)(a.Z,Object.assign({sx:x,onClick:e=>e.stopPropagation()},{children:(0,r.jsxs)("div",Object.assign({name:"orderform-preference-menu"},{children:[t&&(0,r.jsx)("div",Object.assign({className:"opr",onClick:()=>b("oc")},{children:e("preference",{defaultValue:"Preference"})}),void 0),(0,r.jsx)("div",{className:"line"},void 0),!i&&(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(s.Z,Object.assign({className:"checkbox"},{children:[(0,r.jsx)(l.Z,{onChange:e=>{y(e.target.checked)},checked:h,id:"remember",name:"displayMargin"},void 0),(0,r.jsx)(d.Z,{children:e("orderFromPreference-displayMargin",{defaultValue:"Display Margin Mode & Leverage Adjustment Button"})},void 0)]}),void 0)},void 0),(0,r.jsxs)(s.Z,Object.assign({className:"checkbox"},{children:[(0,r.jsx)(l.Z,{onChange:e=>{g(e.target.checked)},checked:v,id:"remember",name:"advancedTPSL"},void 0),(0,r.jsx)(d.Z,{children:e("orderFromPreference-advancedTPSL",{defaultValue:"Advanced TP/SL"})},void 0)]}),void 0)]}),void 0)}),void 0),trigger:"click",enablePortal:!0,placement:"bottom-start"},{children:(0,r.jsx)("div",Object.assign({ref:f},{children:(0,r.jsx)(c.Z,{"data-testid":"orderform-preference-button",fontSize:"20px",sx:{position:"relative",top:"2px",ml:"4px",color:"icons.close",cursor:"pointer","&:hover path":{fill:"t.third"}}},void 0)}),void 0)}),void 0)},void 0)}},67682:(e,t,i)=>{i.d(t,{Z:()=>w});var r=i(52322),o=i(2784),n=i(72779),a=i.n(n),s=i(62143),l=i(92036),d=i(55742),c=i(71090),u=i(25181),p=i(77536),m=i(38896),x=i(53935),f=i(42902),v=i(56851),g=i(77801),b=i(97060),h=i(44174),y=i(59111);const{orderTypeInfoUrl:j}=y.ll,O={":hover":{color:"t.primary"}},T={ml:"8px",flexShrink:0},P={a:{whiteSpace:"nowrap"}},S=o.memo((({orderType:e})=>{const{getI18n:t,i18n:{language:i}}=(0,b.yk)(),o=(e=>{if(j){if("string"==typeof j)return j;switch(e){case"LIMIT":return j.limit;case"MARKET":return j.market;case"STOP":return j.stopLimit;case"STOP_MARKET":return j.stopMarket;case"TRAILING_STOP_MARKET":return j.trailingStop;case"POST_ONLY":return j.postOnly;default:return}}})(e),n=o&&(0,h.CN)(o,{locale:(0,f.sU)(i)});return(0,r.jsx)(v.m,Object.assign({sx:T,tipSx:P,hideUnderLine:!0,learnMoreLink:n,tip:(0,r.jsx)(g.C,{getFutI18n:t,orderType:e},void 0)},{children:(0,r.jsx)(x.Z,{color:"t.third",size:16,sx:O},void 0)}),void 0)})),N=[{value:"STOP",testId:"stopLimit",i18nKey:"STOP"},{value:"STOP_MARKET",testId:"stopMarket",i18nKey:"STOP_MARKET"},{value:"TRAILING_STOP_MARKET",testId:"trailingStop",i18nKey:"TRAILING_STOP_MARKET"},{value:"POST_ONLY",testId:"postOnly",i18nKey:"limitType-postOnly"}],k={width:"100%",boxShadow:"none",overflow:"hidden"},I={marginRight:["24px","16px"],".tab":{color:"t.third","&.xs":{fontSize:"xs"},"&:hover":{color:"t.yellow"},"&.active":{color:"t.yellow"}},"&:last-of-type":{marginRight:0,flex:1,minWidth:0,".tab":{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}}},_={position:"relative",top:"4px",width:"fit-content",py:"4px",bg:"modalBg",boxShadow:"elevation2",borderRadius:"4px",".option":{padding:"6px 16px",fontSize:"14px",color:"t.primary","&:hover":{bg:"lightPrimary",color:"t.primary",cursor:"pointer"},"&.active":{bg:"lightPrimary",color:"t.yellow"}}},C={cursor:"pointer"},w=o.memo(((e={})=>{const[t,i]=(0,m.K5)(),[n,x]=(0,m.H$)(),{getI18n:f}=(0,b.yk)(),v=(0,m.G3)(),g=(0,m._n)(),h="ph"===(0,b.Jr)(),y=(0,o.useMemo)((()=>v?N.filter((e=>"TWAP"!==e.value)):N),[v]),j=(0,o.useMemo)((()=>["LIMIT","MARKET",...y.map((e=>e.value))]),[y]),O=y.find((e=>e.value===n))||y[0];(0,o.useEffect)((function(){j.includes(t)||i(j[0]),j.includes(n)||x(O.value)}),[t,n,O.value,j,i,x]);const T=g?"login":"notLogin",P=(e,t,i)=>(0,r.jsx)("div",Object.assign({className:a()({active:e,tab:!0,xs:h}),"date-testid":i},{children:t}),void 0),w=(0,o.useMemo)((()=>(0,r.jsx)(s.Z,Object.assign({sx:_,name:"ordertabs-menu","data-testid":`ordertype_dropdown_${T}`},{children:y.map((({value:e,i18nKey:o,testId:n,getTestId:s})=>(0,r.jsx)("div",Object.assign({className:a()({active:t===e,xs:h,option:!0}),"data-testid":s?s({loginText:T}):n,onClick:()=>{i(e),x(e)}},{children:f(o)}),e)))}),void 0)),[f,h,t,i,x,T,y]);return(0,r.jsxs)(l.Z,Object.assign({alignItems:"center"},e,{className:"order-tabs"},{children:[(0,r.jsxs)(l.Z,Object.assign({flexDirection:"row"},{children:[(0,r.jsxs)(u.Z,Object.assign({variant:"standard",defaultActiveKey:t,controlledKey:t,onChange:i,tabsSx:k,tabSx:I},{children:[(0,r.jsx)(p.Z,{tab:()=>P("LIMIT"===t,f("limit"),"limit"),tabKey:"LIMIT"},void 0),(0,r.jsx)(p.Z,{tab:()=>P("MARKET"===t,f("market"),"market"),tabKey:"MARKET"},void 0),(0,r.jsx)(p.Z,{tab:()=>P(t===O.value,f(O.i18nKey),O.getTestId?O.getTestId({loginText:T}):O.testId),tabKey:O.value},void 0)]}),void 0),(0,r.jsx)(d.ZP,Object.assign({trigger:"hover",enablePortal:!0,placement:"bottom-end",overlay:w},{children:(0,r.jsx)(c.Z,{color:"t.third",size:16,verticalAlign:"middle","data-testid":"moreStopMode",sx:C},void 0)}),void 0)]}),void 0),(0,r.jsx)(S,{orderType:t},void 0)]}),void 0)}))},44375:(e,t,i)=>{i.r(t),i.d(t,{default:()=>m});var r=i(52322),o=i(25181),n=i(77536),a=i(72779),s=i.n(a),l=i(38896),d=i(97060);const c={width:"100%",boxShadow:"none"},u={width:"100%"},p={flex:1,".tab":{borderTop:"2px solid",borderTopColor:"moduleBg",color:"t.third",padding:"8px 0px",backgroundColor:"moduleBg",textAlign:"center",borderBottom:"1px solid",borderBottomColor:"modalBg","&.active":{borderTop:"2px solid",borderTopColor:"primary",borderBottomColor:"transparent",borderRight:"1px solid",borderRightColor:"modalBg",backgroundColor:"popupBg",color:"t.primary","&.close":{borderLeft:"1px solid",borderLeftColor:"modalBg"}}}},m=e=>{const{getI18n:t}=(0,d.yk)(),i=t("Open",{defaultValue:"Open"}),a=t("Close",{defaultValue:"Close"}),[m]=(0,l.hN)(),[x,f]=(0,l.lE)(),v=(e,t,i)=>(0,r.jsx)("div",Object.assign({className:s()({active:e,tab:!0,[i]:!0})},{children:t}),void 0);return m?(0,r.jsxs)(o.Z,Object.assign({variant:"standard",defaultActiveKey:x,controlledKey:x,onChange:f,tabsSx:c,tabSx:p,sx:u},e,{children:[(0,r.jsx)(n.Z,{tab:e=>v(e,i,"open"),tabKey:"OPEN","data-testid":"open"},void 0),(0,r.jsx)(n.Z,{tab:e=>v(e,a,"close"),tabKey:"CLOSE","data-testid":"close"},void 0)]}),void 0):null}},77801:(e,t,i)=>{i.d(t,{C:()=>a,_:()=>n});var r=i(52322),o=i(48658);const n=e=>{var{children:t,handle:i}=e,n=function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(i[r[o]]=e[r[o]])}return i}(e,["children","handle"]);return(0,r.jsx)(o.Z,Object.assign({className:"item",as:"span",onClick:i},n,{children:t}),void 0)},a=({getFutI18n:e,orderType:t})=>{switch(t){case"LIMIT":return e("orderType-limit-tip",{defaultValue:"A limit order is an order to buy or sell at a specific price or better. Limit orders are not guaranteed to execute."});case"MARKET":return e("orderType-market-tip",{defaultValue:"Market order is immediately matched to the best available market price."});case"STOP":return e("STOPtip",{defaultValue:"Stop Limit"});case"STOP_MARKET":return e("STOP_MARKETtip",{defaultValue:"Stop Market"});case"TRAILING_STOP_MARKET":return e("TRAILING_STOP_MARKET_TIP",{});case"POST_ONLY":return e("limitType-postOnly-tip",{defaultValue:"limitType-postOnly-tip"});default:return(0,r.jsx)(r.Fragment,{},void 0)}}},98911:(e,t,i)=>{i.d(t,{Z:()=>n});var r=i(2784),o=i(76699);const n=e=>{const{t,i18n:i}=(0,o.$)(e);return{i18n:i,getI18n:(0,r.useCallback)(((e,i,r=!0)=>{let o;return"boolean"==typeof r?o=r?"trd-orderForm":"trd":"string"==typeof r&&(o=r),t(`${o}-${e}`,i)}),[t])}}},30015:(e,t,i)=>{i.d(t,{Z:()=>l});var r=i(52322),o=i(2784),n=i(38896),a=i(2896);const s=i(53421).Z,l=(0,o.memo)((()=>{const e=(0,o.useRef)(),[t,[i,l]]=(0,n.z4)(),d=(0,n.j2)();return(0,o.useEffect)((()=>a.ee.on("SHOW_ORDER_CONFIRM_PANEL",(t=>{var i,r;null===(r=null===(i=null==e?void 0:e.current)||void 0===i?void 0:i.showOrderConfirmPanel)||void 0===r||r.call(i,t)}))),[]),(0,r.jsx)(s,{symbol:t,base:i,quote:l,ticker:d,ref:e,marginAsset:d.marginAsset},void 0)}))},81638:(e,t,i)=>{i.d(t,{Z:()=>p});var r=i(52322),o=i(2784),n=i(19925),a=i(62143),s=i(92036),l=i(45362),d=i(98911);const c=({onClick:e})=>{const{getI18n:t}=(0,d.Z)();return(0,r.jsx)(s.Z,Object.assign({bg:"moduleBg",display:["flex","none"],p:"sm",flexDirection:"column"},{children:(0,r.jsxs)(s.Z,Object.assign({justifyContent:"space-between"},{children:[(0,r.jsx)(l.Z,Object.assign({flex:"1",color:"white",colorStyle:"buy",sx:{height:"40px",borderRadius:"2px"},onClick:()=>e("BUY"),mr:"xs"},{children:t("BUY")}),void 0),(0,r.jsx)(l.Z,Object.assign({flex:"1",color:"white",colorStyle:"sell",sx:{height:"40px",borderRadius:"2px"},onClick:()=>e("SELL")},{children:t("SELL")}),void 0)]}),void 0)}),void 0)};var u=i(2896);const p=o.memo((({children:e})=>{const[t,i]=(0,o.useState)(!1),s=(0,o.useCallback)((()=>{i(!1)}),[i]),l=(0,o.useCallback)((()=>{i(!0)}),[i]),d=t?"-100%":"0";return(0,o.useEffect)((()=>u.ee.on("HIDE_MOBILE_MASK",s)),[s]),(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(c,{onClick:l},void 0),(0,r.jsx)(n.Z,{visible:t,onClick:s},void 0),(0,r.jsx)(a.Z,Object.assign({sx:{bg:"popupBg",zIndex:[30,0],color:"t.primary",fontSize:[1],position:"relative",userSelect:"none",borderTopLeftRadius:["10px","0"],borderTopRightRadius:["10px","0"],transition:["transform .3s ease-in-out","none"],transform:[`translate3d(0, ${d}, 0)`,"none"]}},{children:e}),void 0)]},void 0)}))}}]);