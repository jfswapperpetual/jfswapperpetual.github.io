"use strict";(self.webpackChunkcloud_trade_sdk=self.webpackChunkcloud_trade_sdk||[]).push([[2261,2364],{93111:(e,t,a)=>{a.d(t,{Z:()=>l}),a(2784);var n,o=a(7688),r=a(52322);e=a.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var i=function(e){var t=e.width,a=e.height,n=e.extend,i=e.children;return n?i({width:t,height:a}):(0,r.jsx)(o.Z,{children:i})},s=i;const l=s;var d,c;(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(i,"MyAutoSizer","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/shared/components/AutoSizer.js"),d.register(s,"default","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/shared/components/AutoSizer.js")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},85435:(e,t,a)=>{a.d(t,{pB:()=>I});var n=a(38777),o=a(56666),r=a(59740),i=a(29261),s=a(98331),l=a(48658),d=a(62143),c=a(21248),u=a(44613),f=a(2784),p=a(93111),h=a(53096),m=a(97060),v=a(52322);e=a.hmd(e);var b,g=["children","i18nKey","i18nDefault"],x=["loading","listGridProps","header","getListGridConfig","resetDeps","emptyNode","autoSizerProps"],j=["listGridConfig","renderHeaderCell","data","style"];function w(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function y(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?w(Object(a),!0).forEach((function(t){(0,o.Z)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):w(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&b(e);var O="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},k="trd-common",_=function(e){return(0,m.ZK)(k,e)};O(_,"useBaseLanguage{}",(function(){return[m.ZK]}));var I=function(e){var t=e.children,a=e.i18nKey,n=void 0===a?"nodata":a,o=e.i18nDefault,i=void 0===o?"no data":o,s=(0,r.Z)(e,g),d=_().getI18n;return(0,v.jsx)(l.Z,y(y({variant:"columns.emptyLine",__css:{height:"100%",width:"100%",minHeight:"20px",display:"flex",alignItems:"center",justifyContent:"center"}},s),{},{children:t||d(n,{defaultValue:i})}))};O(I,"useLanguage{{ getI18n }}",(function(){return[_]}));var B=function(e){var t=e.loading,a=void 0!==t&&t,o=e.listGridProps,l=void 0===o?{}:o,m=e.header,b=void 0===m?null:m,g=e.getListGridConfig,w=void 0===g?function(e){return e}:g,O=e.resetDeps,k=void 0===O?[]:O,_=e.emptyNode,B=void 0===_?(0,v.jsx)(I,{}):_,C=e.autoSizerProps,S=(0,r.Z)(e,x),D=(0,f.useRef)(null),R=l||{},L=R.listGridConfig,M=R.renderHeaderCell,W=R.data,T=R.style,A=(0,r.Z)(R,j);(0,s.Z)((function(){if(D&&D.current){var e=D.current.listRef;if(e&&e.current){var t=e.current,a=e.current.state,n=Math.floor(a.scrollOffset/32);t.resetAfterIndex(n,!0)}}}),1e3/60,(0,n.Z)(k));var Z=(0,i.tZ)(),H=(0,u.cp)(Z),P=b?[{header:!0}].concat(W):W,E=!a&&!W.length;return(0,v.jsxs)(d.Z,y(y({__css:{position:"relative",flex:1}},S),{},{children:[(0,v.jsx)(h.Z,{fullScreen:!0,inner:!0,show:a}),(0,v.jsx)(p.Z,y(y({},C),{},{children:function(e){var t=e.height,a=e.width;return E?(0,v.jsxs)(d.Z,{sx:{height:t,width:a,display:"flex",alignItems:"center",justifyContent:"center"},children:[b,B]}):(0,v.jsx)(c.Z,y(y({threshold:5,style:y({direction:H},T)},A),{},{className:"list-grid",ref:D,data:P,renderHeaderCell:M,listGridConfig:w(y(y({collapseHeight:80},L),{},{height:Math.max(t,0),width:a}))}))}}))]}))};O(B,"useRef{listGridRef}\nuseDebounce{}\nuseLng{lang}",(function(){return[s.Z,i.tZ]}));var C,S,D=f.memo(B);(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(C.register(k,"prefix","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/shared/components/EmptyGrid.js"),C.register(_,"useLanguage","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/shared/components/EmptyGrid.js"),C.register(I,"EmptyText","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/shared/components/EmptyGrid.js"),C.register(B,"EmptyGrid","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/shared/components/EmptyGrid.js"),C.register(D,"default","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/shared/components/EmptyGrid.js")),(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&S(e)},11628:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(2784),o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},r=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),i=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},s=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var a=[],n=!0,o=!1,r=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(a.push(i.value),!t||a.length!==t);n=!0);}catch(e){o=!0,r=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw r}}return a}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};const l=function(e){function t(){var e,a,n;o(this,t);for(var r=arguments.length,s=Array(r),l=0;l<r;l++)s[l]=arguments[l];return a=n=i(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),n._lastRenderedStartIndex=-1,n._lastRenderedStopIndex=-1,n._memoizedUnloadedRanges=[],n._onItemsRendered=function(e){var t=e.visibleStartIndex,a=e.visibleStopIndex;n._lastRenderedStartIndex=t,n._lastRenderedStopIndex=a,n._ensureRowsLoaded(t,a)},n._setRef=function(e){n._listRef=e},i(n,a)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"resetloadMoreItemsCache",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._memoizedUnloadedRanges=[],e&&this._ensureRowsLoaded(this._lastRenderedStartIndex,this._lastRenderedStopIndex)}},{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return(0,this.props.children)({onItemsRendered:this._onItemsRendered,ref:this._setRef})}},{key:"_ensureRowsLoaded",value:function(e,t){var a=this.props,n=a.isItemLoaded,o=a.itemCount,r=a.minimumBatchSize,i=void 0===r?10:r,l=a.threshold,d=void 0===l?15:l,c=function(e){for(var t=e.isItemLoaded,a=e.itemCount,n=e.minimumBatchSize,o=e.stopIndex,r=[],i=null,s=null,l=e.startIndex;l<=o;l++)t(l)?null!==s&&(r.push([i,s]),i=s=null):(s=l,null===i&&(i=l));if(null!==s){for(var d=Math.min(Math.max(s,i+n-1),a-1),c=s+1;c<=d&&!t(c);c++)s=c;r.push([i,s])}if(r.length)for(var u=r[0];u[1]-u[0]+1<n&&u[0]>0;){var f=u[0]-1;if(t(f))break;u[0]=f}return r}({isItemLoaded:n,itemCount:o,minimumBatchSize:i,startIndex:Math.max(0,e-d),stopIndex:Math.min(o-1,t+d)});(this._memoizedUnloadedRanges.length!==c.length||this._memoizedUnloadedRanges.some((function(e,t){var a=s(e,2),n=a[0],o=a[1];return c[t][0]!==n||c[t][1]!==o})))&&(this._memoizedUnloadedRanges=c,this._loadUnloadedRanges(c))}},{key:"_loadUnloadedRanges",value:function(e){var t=this,a=this.props.loadMoreItems||this.props.loadMoreRows;e.forEach((function(e){var n=s(e,2),o=n[0],r=n[1],i=a(o,r);null!=i&&i.then((function(){if(!((e={lastRenderedStartIndex:t._lastRenderedStartIndex,lastRenderedStopIndex:t._lastRenderedStopIndex,startIndex:o,stopIndex:r}).startIndex>e.lastRenderedStopIndex||e.stopIndex<e.lastRenderedStartIndex)){if(null==t._listRef)return;"function"==typeof t._listRef.resetAfterIndex?t._listRef.resetAfterIndex(o,!0):("function"==typeof t._listRef._getItemStyleCache&&t._listRef._getItemStyleCache(-1),t._listRef.forceUpdate())}var e}))}))}}]),t}(n.PureComponent)},32413:(e,t,a)=>{a.d(t,{Z:()=>f});var n=a(52322),o=a(62143),r=a(92036),i=a(45362),s=a(93603),l=a(2784),d=a(97060),c=a(38896),u=a(2364);const f=(0,l.memo)((function({trackDeposit:e,trackWithdraw:t}){const a=(0,c._n)(),{getI18n:l}=(0,d.HK)(),{showWalletConnectDialog:f}=(0,s.dc)();return(0,n.jsx)(o.Z,Object.assign({mt:"16px"},{children:a?(0,n.jsxs)(r.Z,Object.assign({justifyContent:"space-between"},{children:[(0,n.jsx)(i.Z,Object.assign({sz:"small",flex:"1",mr:"16px",onClick:()=>{e(),(0,u.openDepositModal)()}},{children:l("Deposit",{defaultValue:"Deposit"})}),void 0),(0,n.jsx)(i.Z,Object.assign({sz:"small",flex:"1",colorStyle:"secondary",onClick:()=>{t(),(0,u.openWithdrawModal)()}},{children:l("Withdraw",{defaultValue:"Withdraw"})}),void 0)]}),void 0):(0,n.jsx)(i.Z,Object.assign({sz:"small",width:"100%",onClick:f},{children:l("dex-header-ConnectWallet",{defaultValue:"Connect Wallet"})}),void 0)}),void 0)}))},2364:(e,t,a)=>{a.r(t),a.d(t,{default:()=>R,openDepositModal:()=>S,openDepositWithdrawLiteModal:()=>D,openWithdrawModal:()=>C});var n=a(52322),o=a(51072),r=a(62143),i=a(92036),s=a(45362),l=a(48658),d=a(72779),c=a.n(d),u=a(2784),f=a(1253),p=a(97060),h=a(4724),m=a(2896),v=a(32181),b=a(93603),g=a(22521),x=a(77542),j=a(22994),w=a(80941);const y=(0,u.memo)((({isDrawerLayout:e=!1,defaultToken:t})=>{const{getI18n:a,t:o,refreshBalance:r,unlimitWithdrawAssets:i}=(0,g.s)(),{showWalletConnectDialog:s}=(0,b.dc)(),{onTransactionButtonClick:l,onTransactionSuccess:d,onTransactionFail:c}=(0,j.zU)({isDrawerLayout:e,type:"withdraw"}),{onSelectTokenOptionClick:u,onSelectTokenDrawerPopup:f,onSelectTokenButtonClick:p}=(0,w.u)({isDrawerLayout:e});return(0,n.jsx)(v.bO,{onSelectTokenButtonClick:p,onSelectTokenDrawerPopup:f,onSelectTokenOptionClick:u,onWithdrawButtonClick:l,onTransactionSuccess:d,onTransactionFail:c,isDrawerLayout:e,defaultCoin:t||"BNB",getI18n:a,tradeType:v.v3.Futures,isSupportSpot:!1,t:o,refreshBalance:r,topfoldUI:(0,n.jsx)(x.L,{direction:"withdraw"},void 0),onConnectWalletButtonClick:s,unlimitWithdrawAssets:i},void 0)}));var O=a(98735);const k={bg:"bg3",borderRadius:"16px",mb:"16px",button:{height:"40px",borderRadius:"16px",flex:1,bg:"bg3",color:"t.white","&:hover:not(:disabled):not(:active):not(.inactive)":{color:"t.white"},"&.active":{bg:"primary"},"& > div":{fontWeight:600}}},_={pageName:"liteMode",$element_id:"transferPopups"},I=(0,u.memo)((({activeTab:e,setActiveTab:t,defaultToken:a})=>{const{getI18n:o}=(0,p.HK)(),{layout:d}=(0,O.vT)();(0,p.Tb)(_,d===O.dJ);const{trackWebClickWithWalletAddress:u}=(0,p.fM)();return(0,n.jsxs)(r.Z,Object.assign({pb:"24px"},{children:[(0,n.jsxs)(i.Z,Object.assign({sx:k},{children:[(0,n.jsx)(s.Z,Object.assign({onClick:()=>{u({pageName:"liteMode",$element_id:"switchTabTransferModule",$element_content:"Deposit"}),t("deposit")},type:"button",variant:"quiet",className:c()({active:"deposit"===e})},{children:(0,n.jsx)(l.Z,Object.assign({variant:"subtitle2",color:"t.primary"},{children:o("Deposit",{defaultValue:"Deposit"})}),void 0)}),void 0),(0,n.jsx)(s.Z,Object.assign({onClick:()=>{u({pageName:"liteMode",$element_id:"switchTabTransferModule",$element_content:"Withdrawal"}),t("withdraw")},type:"button",variant:"quiet",className:c()({active:"withdraw"===e})},{children:(0,n.jsx)(l.Z,Object.assign({variant:"subtitle2",color:"t.primary"},{children:o("Withdraw",{defaultValue:"Withdraw"})}),void 0)}),void 0)]}),void 0),"deposit"===e&&(0,n.jsx)(h.I,{isDrawerLayout:!0,defaultToken:a},void 0),"withdraw"===e&&(0,n.jsx)(y,{isDrawerLayout:!0,defaultToken:a},void 0)]}),void 0)})),B=(0,u.memo)((()=>{const{getI18n:e}=(0,p.yk)(),[t,a]=(0,u.useState)(!1),[i,s]=(0,u.useState)("deposit"),[d,c]=(0,u.useState)("BNB");return(0,u.useEffect)((()=>m.ee.on("SHOW_DEPOSIT_WITHDRAW_DRAWER",(({tab:e,token:t})=>{c(t||"BNB"),a(!0),s(e)}))),[]),(0,n.jsxs)(o.ZP.Modal,Object.assign({visible:t},{children:[(0,n.jsx)(o.ZP.ModalTitle,{title:(0,n.jsx)(l.Z,Object.assign({color:"t.primary"},{children:e("Balance",{defaultValue:"Balance"})}),void 0),variant:"center",onClose:()=>a(!1)},void 0),(0,n.jsx)(f.V,Object.assign({isDrawerVisible:t},{children:(0,n.jsx)(r.Z,Object.assign({height:"440px"},{children:(0,n.jsx)(I,{activeTab:i,setActiveTab:s,defaultToken:d},void 0)}),void 0)}),void 0)]}),void 0)})),C=()=>m.ee.emit("SHOW_DEPOSIT_WITHDRAW_DRAWER",{tab:"withdraw"}),S=()=>m.ee.emit("SHOW_DEPOSIT_WITHDRAW_DRAWER",{tab:"deposit"}),D=({tab:e,token:t})=>m.ee.emit("SHOW_DEPOSIT_WITHDRAW_DRAWER",{tab:e,token:t}),R=B},1253:(e,t,a)=>{a.d(t,{V:()=>r});var n=a(52322),o=a(2784);const r=({children:e,isDrawerVisible:t})=>{const[a,r]=(0,o.useState)(t),i=(0,o.useRef)(null);return(0,o.useEffect)((function(){t&&!a&&r(!0)}),[t,a]),(0,o.useEffect)((function(){const e=new IntersectionObserver((e=>{e.forEach((e=>{!e.isIntersecting&&a&&r(!1)}))}),{threshold:0});return i.current&&e.observe(i.current),()=>e.disconnect()}),[a]),(0,n.jsx)("div",Object.assign({ref:i},{children:(t||a)&&e}),void 0)}},84761:(e,t,a)=>{a.d(t,{Di:()=>h,MK:()=>w,bN:()=>b,jJ:()=>g,oJ:()=>m,tZ:()=>v});var n=a(52322),o=a(2784),r=a(92036),i=a(7845),s=a(48658),l=a(45362),d=a(71787),c=a(2896),u=a(93603),f=a(97060),p=a(2364);const h=(0,o.memo)((({assetLogo:e,assetCode:t})=>(0,n.jsxs)(r.Z,Object.assign({sx:{alignItems:"center"}},{children:[(0,n.jsx)(i.Z,{variant:"avatar",src:e,alt:"",sx:{width:24,height:24,alignSelf:"center"}},void 0),(0,n.jsx)(s.Z,Object.assign({sx:{ml:1,color:"t.secondary"}},{children:t}),void 0)]}),void 0))),m=(0,o.memo)((({formattedWalletBalance:e})=>(0,n.jsx)("div",{children:e},void 0))),v=(0,o.memo)((({formattedUnpl:e})=>(0,n.jsx)("div",{children:e},void 0))),b=(0,o.memo)((({formattedAvailableBalance:e})=>(0,n.jsx)("div",{children:e},void 0))),g=((0,o.memo)((({formattedAssetContribution:e})=>(0,n.jsxs)("div",{children:[e," ","--"===e?"":"USD"]},void 0))),(0,o.memo)((({formattedMarginBalance:e})=>(0,n.jsx)("div",{children:e},void 0)))),x=(0,o.memo)((({hint:e,children:t})=>e?(0,n.jsx)(d.Z,Object.assign({tip:e,arrow:!0,enablePortal:!0},{children:t}),void 0):t)),j={color:"t.disabled","&:hover:not(:disabled):not(:active)":{color:"t.disabled"},"&.inactive":{cursor:"pointer"}},w=(0,o.memo)((({assetCode:e,enable:t})=>{const{getI18n:a}=(0,f.HK)(),{isBSC:r}=(0,u.dc)(),{trackWebClickWithWalletAddress:i}=(0,f.fM)(),{isMobile:s}=(0,f.Fs)(),d=(0,o.useCallback)((()=>{s&&i({pageName:"advancedMode",$element_id:"depositPopups",$element_type:"assetList",title:e}),s?(0,p.openDepositWithdrawLiteModal)({tab:"deposit",token:e}):c.ee.emit("OPEN_DEPOSIT_MODAL",e)}),[e,i,s]),h=(0,o.useCallback)((()=>{s?(0,p.openDepositWithdrawLiteModal)({tab:"withdraw",token:e}):c.ee.emit("OPEN_WITHDRAW_MODAL",e)}),[e,s]),m=t?"":r?a("dex-balance-chain-not-support-BSC","Assets deposit/withdrawal of this token is not supported on BNB Chain. Please switch to Ethereum Main Network."):a("dex-balance-chain-not-support-ETH","Assets deposit/withdrawal of this token is not supported on Ethereum Main Network. Please switch to BNB Chain."),v=t?null:j;return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(x,Object.assign({hint:m},{children:(0,n.jsx)(l.Z,Object.assign({inactive:!t,sx:v,variant:"quiet",sz:"s",pl:"0",onClick:d},{children:a("Deposit",{defaultValue:"Deposit"})}),void 0)}),void 0),(0,n.jsx)(x,Object.assign({hint:m},{children:(0,n.jsx)(l.Z,Object.assign({inactive:!t,sx:v,variant:"quiet",sz:"s",pl:"0",onClick:h},{children:a("Withdraw",{defaultValue:"Withdraw"})}),void 0)}),void 0)]},void 0)}))},33973:(e,t,a)=>{a.d(t,{UW:()=>B,nN:()=>o,Y0:()=>h});var n=a(33470);const o=e=>e.map((e=>((e,{marginPrecision:t})=>{const{walletBalance:a,upnl:o,availableBalance:r,realMarginBalance:i,assetContribution:s,marginAvailable:l=!0}=e;return l?Object.assign(Object.assign({},e),{formattedWalletBalance:(0,n.GW)(a,t,!0),formattedUnpl:(0,n.uf)(o,t),formattedAvailableBalance:(0,n.uf)(r,t),formattedMarginBalance:(0,n.uf)(i,t),formattedAssetContribution:(0,n.uf)(s,t)}):Object.assign(Object.assign({},e),{formattedWalletBalance:(0,n.GW)(a,t,!0),formattedUnpl:"--",formattedAvailableBalance:"--",formattedMarginBalance:"--",formattedAssetContribution:"--"})})(e,{marginPrecision:8})));var r=a(52322),i=a(2784),s=a(97060),l=a(48658),d=a(56851);const c={maxHeight:"28px",lineHeight:"14px",verticalAlign:"bottom",overflow:"hidden",whiteSpace:"normal",wordBreak:"break-word",fontSize:0,mb:"10px"},u=(0,i.memo)((({title:e})=>(0,r.jsx)(l.Z,Object.assign({sx:c,color:"t.secondary"},{children:e}),void 0))),f=(0,i.memo)((({tip:e,title:t})=>(0,r.jsx)(d.m,Object.assign({tip:e,labelSx:c},{children:t}),void 0)));var p=a(84761);const h=()=>{const{getI18n:e}=(0,s.yk)();return(0,i.useMemo)((()=>[{key:"assetCode",title:(0,r.jsx)(u,{title:e("assets",{defaultValue:"Assets"})},void 0),width:100,dataIndex:"assetCode",render:(e,t)=>(0,r.jsx)(p.Di,{assetLogo:t.assetLogo,assetCode:t.assetCode},void 0)},{key:"walletBalance",title:(0,r.jsx)(f,{title:e("assetsList-walletBalance",{defaultValue:"Wallet Balance"}),tip:e("tradeHistory-marginBalance-walletBalanceTip")},void 0),width:100,dataIndex:"formattedWalletBalance",render:e=>(0,r.jsx)(p.oJ,{formattedWalletBalance:e},void 0)},{key:"unpl",title:(0,r.jsx)(f,{title:e("tradeHistory-marginBalance-unrealizedPNLTitle",{defaultValue:"Unrealized PNL"}),tip:e("tradeHistory-marginBalance-unrealizedPNLTip")},void 0),width:100,dataIndex:"formattedUnpl",render:e=>(0,r.jsx)(p.tZ,{formattedUnpl:e},void 0)},{key:"availableBalance",title:(0,r.jsx)(f,{title:e("tradeHistory-marginBalance-availableForOrderTitle",{defaultValue:"Available for Order"}),tip:e("tradeHistory-marginBalance-availableForOrderTip")},void 0),width:100,dataIndex:"formattedAvailableBalance",render:(e,t)=>(0,r.jsx)(p.bN,{formattedAvailableBalance:e},void 0)},{key:"Mb",title:(0,r.jsx)(u,{title:e("tradeHistory-marginBalanceLabel",{defaultValue:"Margin Balance"})},void 0),width:100,dataIndex:"MbUSDEquity",render:(e,t)=>(0,r.jsx)(p.jJ,{formattedMarginBalance:t.formattedMarginBalance},void 0)},{key:"Action",title:(0,r.jsx)(u,{title:e("assetsList-Action",{defaultValue:"Action"})},void 0),width:60,dataIndex:"assetCode",render:(e,t)=>(0,r.jsx)(p.MK,{assetCode:e,enable:t.enable},void 0)}]),[e])};var m=a(29261),v=a(60190),b=a(72958),g=a(45385),x=a(27831),j=a(31953),w=a(96683),y=a(23131),O=a(37957),k=a(38896),_=a(80900);const I=(0,y.nM)(),B=()=>{const e=(0,k.KQ)(),t=(0,k.zF)(),a=(0,k.Gf)(),[n]=(0,k.z4)(),o=(0,k.VA)(),{leverageList:r}=(0,k.rf)(),{contractVal:i}=(0,m.j2)(),s=(0,v.dM)(),l=(0,j.L6)(s),d=(0,k.G8)(),c=Object.values(e),{assetMode:u}=(0,k.F7)(),f=(0,_.P)()||{};return c.map((s=>{var c;const p=s.asset,h=t[p],{askRate:m=1}=(null==d?void 0:d[p])||{},v=l[p]||[],j=I?(0,g.ot)(v):(0,b.ot)(v),k=(0,w.v)({symbol:n,isDelivery:I,leverage:r[n]||20,marginAsset:p,contractVal:i,positions:v,balance:e,assetIndexes:d,assetMode:u,marginType:y.Yl.CROSSED,brackets:a}),_=s.walletBalance+j,B=(0,O.Q)({asset:p,assetNum:s.walletBalance,assetIndexes:d,prices:o});let C=0;if(u){const{assetEquityMap:t}=(0,x.$g)({balance:e,positions:v,leverage:r[n]||20,symbol:n,isDelivery:I,contractVal:i,askRate:m,assetIndexes:d});C=t[p]}let S=(null===(c=null==f?void 0:f[p])||void 0===c?void 0:c.logoUrl)||y.vy;return Object.assign(Object.assign({},s),{assetCode:(null==h?void 0:h.asset)||p,assetName:null==h?void 0:h.assetName,assetLogo:S,upnl:j,availableBalance:k,realMarginBalance:_,assetContribution:C,usdValue:B})}))}},79185:(e,t,a)=>{a.d(t,{$:()=>m});var n=a(33470),o=a(52527),r=a(7523),i=a(38896),s=a(31953),l=a(72958),d=a(37957);const c=(0,r._)(((e,t,a,n)=>{const o=(0,s.L6)(t);let r=0;return Object.entries(e).forEach((([e])=>{const t=o[e]||[];if(t.length>0){const o=(0,l.ot)(t),i=(0,d.Q)({asset:e,assetNum:o,assetIndexes:a,prices:n});r+=i}})),r}));var u=a(75699),f=a(60390),p=a(29261);const h=(e,t=!1)=>`${t&&e>0?"+":""}${(0,n.SB)((0,n.yd)(e,2),{maximumFractionDigits:2,minimumFractionDigits:2})}`,m=()=>{const e=(0,o.M)(),t=function(){const e=(0,i.KQ)(),t=(0,i.F)(),a=(0,i.G8)(),n=(0,i.CE)();return c(e,t,a,n)}(),a=(0,u.a)(),n=(0,f._)(),r=(0,p.G8)(),s=n&&r.USDT;return{totalBalance:e,totalUPNL:t,avlBalance:a,formattedTotalBalance:s?h(e):"--",formattedAvlBalance:s?h(a):"--",formattedTotalUPNL:s?h(t,!0):"--"}}}}]);