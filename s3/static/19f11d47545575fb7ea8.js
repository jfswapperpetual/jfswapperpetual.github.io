"use strict";(self.webpackChunkcloud_trade_sdk=self.webpackChunkcloud_trade_sdk||[]).push([[8473],{22686:(e,t,n)=>{n.d(t,{Z:()=>u});var r,o,i,s=n(56828),a=n(38896),l=n(90614),c=n(97060),d=n(52322);function u(){var e=(0,c.yk)().getI18n,t=(0,l.gN)(),n=(0,a.d0)();return(0,d.jsx)(s.Z,{i18n:e,contractInfo:t,changeSymbol:n,isDeliveryColumn:!1})}e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(u,"useFuturesLanguage{{ getI18n: getFuturesI18n }}\nuseContractInfoStream{contractInfo}\nuseChangeSymbol{changeSymbol}",(function(){return[c.yk,l.gN,a.d0]})),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&o.register(u,"FuturesTimesLeft","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Ticker/FuturesTimesLeft.js"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},56828:(e,t,n)=>{n.d(t,{Z:()=>j});var r,o=n(2867),i=n(2784),s=n(71926),a=n(38896),l=n(97060),c=n(92392),d=n(14485),u=n(23131),f=n(5700),v=n(53101),m=n(52322);e=n.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},b=function(e){var t=e.timer,n=e.i18n,r=(0,i.useState)(t),a=(0,o.Z)(r,2),l=a[0],c=a[1];return(0,s.Z)((function(){c(l-1e3)}),1e3),t<=0||l<0?n("inDelivering",{defaultValue:"in Delivering"}):(0,d.Ej)(l)};p(b,"useState{[left, setTime](timer)}\nuseInterval{}",(function(){return[s.Z]}));var g=function(e){var t=e.i18n,n=e.contractInfo,r=e.changeSymbol,s=e.isDeliveryColumn,d=void 0===s||s,p=(0,a.z4)(),g=(0,o.Z)(p,1)[0],h=(0,a.iB)(),j=h[g]||{},x=j.deliveryDate,y=j.contractType,w=void 0===y?"":y,L=j.pair,_=(0,l.Fs)().isMobile;(0,i.useEffect)((function(){var e=n.symbol,t=n.contractStatus,o=n.deliveryDate;if(g===e&&"DELIVERED"===(null==t?void 0:t.toUpperCase())){var i,s,a=Object.values(h).filter(c.gU),l=(null===(i=a.filter((function(e){return e.pair===L&&e.deliveryDate>o})))||void 0===i?void 0:i[0])||(null===(s=a.filter((function(e){return e.deliveryDate>o})))||void 0===s?void 0:s[0]);l&&(r({symbol:l.symbol}),window.location.reload())}}),[r,n,d,L,h,g]);var O=(0,v.s)(x),k=O.loading,S=O.value,Z=t("TimeLeftForDelivery",{defaultValue:"Time left for delivery"}),N=(0,i.useMemo)((function(){return k||!S?"00:00:00":S>24?"".concat(Math.ceil(S/24)," ").concat(t("daysLeft",{defaultValue:"days left"})):(0,m.jsx)(b,{timer:3600*S*1e3,i18n:t})}),[S,t,k]);return w.toUpperCase()===u.Yp.PERPETUAL?null:_?(0,m.jsx)(f.D9,{label:Z,children:N}):(0,m.jsx)(f.j7,{label:Z,price:N})};p(g,"useSymbol{[symbol]}\nuseProduct{productMap}\nuseResponsive{{ isMobile }}\nuseEffect{}\nuseHoursRemain{{ loading, value: hoursRemain }}\nuseMemo{text}",(function(){return[a.z4,a.iB,l.Fs,v.s]}));var h=(0,i.memo)(g);const j=h;var x,y;(x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(x.register(b,"Counter","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Ticker/components/TimesLeft.js"),x.register(g,"TimesLeft","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Ticker/components/TimesLeft.js"),x.register(h,"default","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Ticker/components/TimesLeft.js")),(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&y(e)},53101:(e,t,n)=>{n.d(t,{s:()=>a});var r=n(2784),o=n(46502),i=n(38896),s=n(35090);const a=e=>{const[t]=(0,i.z4)(),n=!(0,i.G3)(),{value:a,loading:l}=(0,o.N)((()=>function(e){return t=this,n=void 0,o=function*(){try{const{serverTime:t}=yield(0,s.b)(e);return t}catch(e){return Date.now()}},new((r=void 0)||(r=Promise))((function(e,i){function s(e){try{l(o.next(e))}catch(e){i(e)}}function a(e){try{l(o.throw(e))}catch(e){i(e)}}function l(t){var n;t.done?e(t.value):(n=t.value,n instanceof r?n:new r((function(e){e(n)}))).then(s,a)}l((o=o.apply(t,n||[])).next())}));var t,n,r,o}(n)),[t]);return(0,r.useMemo)((()=>e?{value:(e-a)/1e3/3600,loading:l}:{value:0,loading:!1}),[e,a,l])};"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature},46502:(e,t,n)=>{n.d(t,{N:()=>i});var r=n(5163),o=n(2784);function i(e,t,n){var i,s=(0,o.useRef)(0),a=(i=(0,o.useRef)(!1),(0,o.useEffect)((function(){return i.current=!0,function(){i.current=!1}}),[]),(0,o.useCallback)((function(){return i.current}),[])),l=(0,o.useState)(Date.now()),c=l[0],d=l[1],u=(0,o.useState)((0,r.__assign)({loading:!0,updateTime:Date.now()},n)),f=u[0],v=u[1];return(0,o.useEffect)((function(){var t=++s.current;!1===f.loading&&v((0,r.__assign)((0,r.__assign)({},f),{loading:!0})),e().then((function(e){var r=null==e?null==n?void 0:n.value:e;a()&&t===s.current&&v({value:r,loading:!1,error:null,updateTime:Date.now()})})).catch((function(e){a()&&t===s.current&&v((0,r.__assign)((0,r.__assign)({},n),{loading:!1,error:e,updateTime:Date.now()}))}))}),(0,r.__spreadArray)((0,r.__spreadArray)([],t),[c])),(0,r.__assign)((0,r.__assign)({},f),{onRefresh:function(){return d(Date.now)}})}},33941:(e,t,n)=>{n.d(t,{z:()=>s});var r=n(5163),o=n(2784),i=n(76635),s=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var s=(0,o.useRef)((function(){}));return s.current=e,(0,o.useCallback)(i.throttle.apply(void 0,(0,r.__spreadArray)([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.current.apply(this,e)}],(0,r.__read)(t))),[])}},50464:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(2784);function o(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function i(e,t){return r.useMemo((function(){return null==e&&null==t?null:function(n){o(e,n),o(t,n)}}),[e,t])}},84514:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(5163),o=n(2784),i=n(98569);const s=function(e){return o.createElement(i.Z,(0,r.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.934 12l3.89 3.89-1.769 1.767L8.398 12l1.768-1.768 3.89-3.889 1.767 1.768-3.889 3.89z",fill:"currentColor"}))}},30068:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(5163),o=n(2784),i=n(98569);const s=function(e){return o.createElement(i.Z,(0,r.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.288 12l-3.89 3.89 1.768 1.767L15.823 12l-1.768-1.768-3.889-3.889-1.768 1.768 3.89 3.89z",fill:"currentColor"}))}},53858:(e,t,n)=>{n.d(t,{Z:()=>i});var r=n(2784),o=n(22706);function i(){return r.useContext(o.Z)}},68853:(e,t,n)=>{n.d(t,{Ar:()=>a,Xd:()=>c,_D:()=>l});var r=n(52322),o=n(92036),i=n(48658),s=n(2784);const a=(0,s.memo)((e=>(0,r.jsx)(o.Z,Object.assign({__css:{flexDirection:["column","row"],justifyContent:"space-between",alignItems:["flex-start","center"]}},e),void 0))),l=(0,s.memo)((({priceColor:e,withSubPrice:t,sx:n,children:o})=>(0,r.jsx)(i.Z,Object.assign({className:"showPrice",__css:Object.assign({color:e,fontSize:t?["32px",2]:["32px",3],display:"flex",alignItems:"center"},n)},{children:o}),void 0))),c=(0,s.memo)((({sx:e,children:t})=>(0,r.jsx)(i.Z,Object.assign({className:"subPrice",__css:Object.assign({fontSize:[1,0],color:"t.third",lineHeight:["22px","inherit"]},e)},{children:t}),void 0)))},5700:(e,t,n)=>{n.d(t,{D9:()=>f,U1:()=>d,j7:()=>c,oB:()=>l});var r=n(52322),o=n(2784),i=n(92036),s=n(56851),a=n(91038);const l={".label":{fontSize:"10px",mr:["minor",0],mb:[0,"2px"],color:"t.third",lineHeight:"16px",fontWeight:"normal",textAlign:"left",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",borderBottom:"1px solid transparent"},".price-text":{fontSize:"12px",color:"t.primary"},".emphasize":{color:"t.emphasize"},".flex":{display:"flex"},".countdown":{ml:"8px"}},c=(0,o.memo)((({label:e,price:t,className:n})=>(0,r.jsxs)("div",Object.assign({className:n},{children:[(0,r.jsx)("div",Object.assign({className:"label"},{children:e}),void 0),(0,r.jsxs)("div",Object.assign({className:"price-text"},{children:[" ",t," "]}),void 0)]}),void 0))),d=(0,o.memo)((({time:e,timeTips:t,label:n,price:o,className:i})=>(0,r.jsxs)("div",Object.assign({className:i},{children:[(0,r.jsxs)("div",Object.assign({className:"label"},{children:[" ",n]}),void 0),(0,r.jsxs)("div",Object.assign({className:"flex"},{children:[(0,r.jsx)("div",Object.assign({className:"price-text emphasize"},{children:o}),void 0),(0,r.jsx)("div",Object.assign({className:"price-text countdown"},{children:(0,r.jsx)(s.m,Object.assign({tip:t},{children:(0,r.jsx)("div",Object.assign({className:"flex"},{children:(0,r.jsx)(a.Z,{time:e},void 0)}),void 0)}),void 0)}),void 0)]}),void 0)]}),void 0))),u={fontSize:"12px",".label":{color:"t.third",mr:"4px"},".price-text":{color:"t.primary"}},f=(0,o.memo)((({label:e,children:t})=>(0,r.jsxs)(i.Z,Object.assign({sx:u},{children:[(0,r.jsxs)("div",Object.assign({className:"label"},{children:[" ",e]}),void 0),(0,r.jsx)("div",Object.assign({className:"price-text"},{children:t}),void 0)]}),void 0)))},50598:(e,t,n)=>{n.d(t,{Z:()=>f});var r=n(52322),o=n(33941),i=n(92036),s=n(84514),a=n(30068),l=n(2784),c=n(64287),d=n(5700);const u=Object.assign(Object.assign({position:"relative",width:"100%"},d.oB),{".left-arrow":Object.assign(Object.assign({},c.U5),{background:e=>`linear-gradient(to right, ${e.colors.moduleBg} 42.24%, transparent 95.69%)`,svg:{"&:hover":{color:"t.third"}}}),".right-arrow":Object.assign(Object.assign({},c.eE),{background:e=>`linear-gradient(to left, ${e.colors.moduleBg} 42.24%, transparent 95.69%)`,svg:{"&:hover":{color:"t.third"}}}),".default-market-list-container":c.$j,".tablet-market-list-container":c.Wb,".mobile-market-list-container":c.o0,".multiChart-market-list-container":c.dk}),f=(0,l.memo)((({layout:e,list:t,isFullScreen:n,children:c,dataSource:f})=>{const v=(0,l.useRef)(null),[m,p]=(0,l.useState)(!1),[b,g]=(0,l.useState)(!1),h=(0,o.z)((()=>{const{scrollWidth:e=0,clientWidth:t=0,scrollLeft:n=0}=v.current||{};p(e>t+n),g(Boolean(n))}),[],1e3);(0,l.useEffect)((function(){h()}),[h]),(0,l.useEffect)((function(){if("ResizeObserver"in window){const e=new ResizeObserver(h);return v.current&&e.observe(v.current),()=>e.disconnect()}return window.addEventListener("resize",h,{capture:!1,passive:!0}),()=>{window.removeEventListener("resize",h)}}),[h,v]);const j=(0,l.useCallback)((()=>{var e;"number"==typeof(null===(e=null==v?void 0:v.current)||void 0===e?void 0:e.scrollLeft)&&(v.current.scrollLeft-=100,v.current.scrollLeft<0&&(v.current.scrollLeft=0),h())}),[h]),x=(0,l.useCallback)((()=>{var e;"number"==typeof(null===(e=null==v?void 0:v.current)||void 0===e?void 0:e.scrollLeft)&&(v.current.scrollLeft+=100,h())}),[h]);return(0,r.jsxs)(i.Z,Object.assign({sx:u},{children:[b&&(0,r.jsx)("div",Object.assign({onClick:j,className:"left-arrow "+(n?"fullscreen":"")},{children:(0,r.jsx)(s.Z,{size:20,color:"icons.close"},void 0)}),void 0),(0,r.jsxs)("div",Object.assign({className:`${e}-market-list-container`,ref:v,onScroll:h},{children:[t&&t.map((({label:e,key:t,timeKey:n,render:o,timeTips:i})=>{const s=o?o(f[t],f):f[t],a=f[n];return a?(0,r.jsx)(d.U1,{label:e,price:s,time:a,timeTips:i},t):(0,r.jsx)(d.j7,{label:e,price:s},t)})),c]}),void 0),m&&(0,r.jsx)("div",Object.assign({className:"right-arrow "+(n?"fullscreen":""),onClick:x},{children:(0,r.jsx)(a.Z,{size:20,color:"icons.close"},void 0)}),void 0)]}),void 0)}))}}]);