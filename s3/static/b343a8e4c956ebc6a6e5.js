"use strict";(self.webpackChunkcloud_trade_sdk=self.webpackChunkcloud_trade_sdk||[]).push([[8473],{22686:(e,t,r)=>{r.d(t,{Z:()=>d});var n,o,i,s=r(56828),a=r(38896),l=r(90614),c=r(97060),u=r(52322);function d(){var e=(0,c.yk)().getI18n,t=(0,l.gN)(),r=(0,a.d0)();return(0,u.jsx)(s.Z,{i18n:e,contractInfo:t,changeSymbol:r,isDeliveryColumn:!1})}e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(d,"useFuturesLanguage{{ getI18n: getFuturesI18n }}\nuseContractInfoStream{contractInfo}\nuseChangeSymbol{changeSymbol}",(function(){return[c.yk,l.gN,a.d0]})),(o="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&o.register(d,"FuturesTimesLeft","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Ticker/FuturesTimesLeft.js"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},56828:(e,t,r)=>{r.d(t,{Z:()=>j});var n,o=r(2867),i=r(2784),s=r(71926),a=r(38896),l=r(97060),c=r(92392),u=r(14485),d=r(23131),f=r(5700),v=r(53101),m=r(52322);e=r.hmd(e),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&n(e);var p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},b=function(e){var t=e.timer,r=e.i18n,n=(0,i.useState)(t),a=(0,o.Z)(n,2),l=a[0],c=a[1];return(0,s.Z)((function(){c(l-1e3)}),1e3),t<=0||l<0?r("inDelivering",{defaultValue:"in Delivering"}):(0,u.Ej)(l)};p(b,"useState{[left, setTime](timer)}\nuseInterval{}",(function(){return[s.Z]}));var g=function(e){var t=e.i18n,r=e.contractInfo,n=e.changeSymbol,s=e.isDeliveryColumn,u=void 0===s||s,p=(0,a.z4)(),g=(0,o.Z)(p,1)[0],h=(0,a.iB)(),j=h[g]||{},x=j.deliveryDate,y=j.contractType,w=void 0===y?"":y,L=j.pair,_=(0,l.Fs)().isMobile;(0,i.useEffect)((function(){var e=r.symbol,t=r.contractStatus,o=r.deliveryDate;if(g===e&&"DELIVERED"===(null==t?void 0:t.toUpperCase())){var i,s,a=Object.values(h).filter(c.gU),l=(null===(i=a.filter((function(e){return e.pair===L&&e.deliveryDate>o})))||void 0===i?void 0:i[0])||(null===(s=a.filter((function(e){return e.deliveryDate>o})))||void 0===s?void 0:s[0]);l&&(n({symbol:l.symbol}),window.location.reload())}}),[n,r,u,L,h,g]);var O=(0,v.s)(x),k=O.loading,S=O.value,Z=t("TimeLeftForDelivery",{defaultValue:"Time left for delivery"}),N=(0,i.useMemo)((function(){return k||!S?"00:00:00":S>24?"".concat(Math.ceil(S/24)," ").concat(t("daysLeft",{defaultValue:"days left"})):(0,m.jsx)(b,{timer:3600*S*1e3,i18n:t})}),[S,t,k]);return w.toUpperCase()===d.Yp.PERPETUAL?null:_?(0,m.jsx)(f.D9,{label:Z,children:N}):(0,m.jsx)(f.j7,{label:Z,price:N})};p(g,"useSymbol{[symbol]}\nuseProduct{productMap}\nuseResponsive{{ isMobile }}\nuseEffect{}\nuseHoursRemain{{ loading, value: hoursRemain }}\nuseMemo{text}",(function(){return[a.z4,a.iB,l.Fs,v.s]}));var h=(0,i.memo)(g);const j=h;var x,y;(x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(x.register(b,"Counter","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Ticker/components/TimesLeft.js"),x.register(g,"TimesLeft","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Ticker/components/TimesLeft.js"),x.register(h,"default","/Users/user/projects/mono/web/apps/cloud-trade-sdk/src/futures/components/Ticker/components/TimesLeft.js")),(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&y(e)},53101:(e,t,r)=>{r.d(t,{s:()=>a});var n=r(2784),o=r(46502),i=r(38896),s=r(35090);const a=e=>{const[t]=(0,i.z4)(),r=!(0,i.G3)(),{value:a,loading:l}=(0,o.N)((()=>function(e){return t=this,r=void 0,o=function*(){try{const{serverTime:t}=yield(0,s.b)(e);return t}catch(e){return Date.now()}},new((n=void 0)||(n=Promise))((function(e,i){function s(e){try{l(o.next(e))}catch(e){i(e)}}function a(e){try{l(o.throw(e))}catch(e){i(e)}}function l(t){var r;t.done?e(t.value):(r=t.value,r instanceof n?r:new n((function(e){e(r)}))).then(s,a)}l((o=o.apply(t,r||[])).next())}));var t,r,n,o}(r)),[t]);return(0,n.useMemo)((()=>e?{value:(e-a)/1e3/3600,loading:l}:{value:0,loading:!1}),[e,a,l])};"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature},46502:(e,t,r)=>{r.d(t,{N:()=>i});var n=r(5163),o=r(2784);function i(e,t,r){var i,s=(0,o.useRef)(0),a=(i=(0,o.useRef)(!1),(0,o.useEffect)((function(){return i.current=!0,function(){i.current=!1}}),[]),(0,o.useCallback)((function(){return i.current}),[])),l=(0,o.useState)(Date.now()),c=l[0],u=l[1],d=(0,o.useState)((0,n.__assign)({loading:!0,updateTime:Date.now()},r)),f=d[0],v=d[1];return(0,o.useEffect)((function(){var t=++s.current;!1===f.loading&&v((0,n.__assign)((0,n.__assign)({},f),{loading:!0})),e().then((function(e){var n=null==e?null==r?void 0:r.value:e;a()&&t===s.current&&v({value:n,loading:!1,error:null,updateTime:Date.now()})})).catch((function(e){a()&&t===s.current&&v((0,n.__assign)((0,n.__assign)({},r),{loading:!1,error:e,updateTime:Date.now()}))}))}),(0,n.__spreadArray)((0,n.__spreadArray)([],t),[c])),(0,n.__assign)((0,n.__assign)({},f),{onRefresh:function(){return u(Date.now)}})}},33941:(e,t,r)=>{r.d(t,{z:()=>s});var n=r(5163),o=r(2784),i=r(76635),s=function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];var s=(0,o.useRef)((function(){}));return s.current=e,(0,o.useCallback)(i.throttle.apply(void 0,(0,n.__spreadArray)([function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return s.current.apply(this,e)}],(0,n.__read)(t))),[])}},50464:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(2784);function o(e,t){"function"==typeof e?e(t):e&&(e.current=t)}function i(e,t){return n.useMemo((function(){return null==e&&null==t?null:function(r){o(e,r),o(t,r)}}),[e,t])}},84514:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(5163),o=r(2784),i=r(98569);const s=function(e){return o.createElement(i.Z,(0,n.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.934 12l3.89 3.89-1.769 1.767L8.398 12l1.768-1.768 3.89-3.889 1.767 1.768-3.889 3.89z",fill:"currentColor"}))}},30068:(e,t,r)=>{r.d(t,{Z:()=>s});var n=r(5163),o=r(2784),i=r(98569);const s=function(e){return o.createElement(i.Z,(0,n.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),o.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.288 12l-3.89 3.89 1.768 1.767L15.823 12l-1.768-1.768-3.889-3.889-1.768 1.768 3.89 3.89z",fill:"currentColor"}))}},53858:(e,t,r)=>{r.d(t,{Z:()=>i});var n=r(2784),o=r(22706);function i(){return n.useContext(o.Z)}},68853:(e,t,r)=>{r.d(t,{Ar:()=>a,Xd:()=>c,_D:()=>l});var n=r(52322),o=r(92036),i=r(48658),s=r(2784);const a=(0,s.memo)((e=>(0,n.jsx)(o.Z,Object.assign({__css:{flexDirection:["column","row"],justifyContent:"space-between",alignItems:["flex-start","center"]}},e),void 0))),l=(0,s.memo)((({priceColor:e,withSubPrice:t,sx:r,children:o})=>(0,n.jsx)(i.Z,Object.assign({className:"showPrice",__css:Object.assign({color:e,fontSize:t?["32px",2]:["32px",3],display:"flex",alignItems:"center"},r)},{children:o}),void 0))),c=(0,s.memo)((({sx:e,children:t})=>(0,n.jsx)(i.Z,Object.assign({className:"subPrice",__css:Object.assign({fontSize:[1,0],color:"t.third",lineHeight:["22px","inherit"]},e)},{children:t}),void 0)))},5700:(e,t,r)=>{r.d(t,{D9:()=>f,U1:()=>u,j7:()=>c,oB:()=>l});var n=r(52322),o=r(2784),i=r(92036),s=r(56851),a=r(91038);const l={".label":{fontSize:"10px",mr:["minor",0],mb:[0,"2px"],color:"t.third",lineHeight:"16px",fontWeight:"normal",textAlign:"left",textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",borderBottom:"1px solid transparent"},".price-text":{fontSize:"12px",color:"t.primary"},".emphasize":{color:"t.emphasize"},".flex":{display:"flex"},".countdown":{ml:"8px"}},c=(0,o.memo)((({label:e,price:t,className:r})=>(0,n.jsxs)("div",Object.assign({className:r},{children:[(0,n.jsx)("div",Object.assign({className:"label"},{children:e}),void 0),(0,n.jsxs)("div",Object.assign({className:"price-text"},{children:[" ",t," "]}),void 0)]}),void 0))),u=(0,o.memo)((({time:e,timeTips:t,label:r,price:o,className:i})=>(0,n.jsxs)("div",Object.assign({className:i},{children:[(0,n.jsxs)("div",Object.assign({className:"label"},{children:[" ",r]}),void 0),(0,n.jsxs)("div",Object.assign({className:"flex"},{children:[(0,n.jsx)("div",Object.assign({className:"price-text emphasize"},{children:o}),void 0),(0,n.jsx)("div",Object.assign({className:"price-text countdown"},{children:(0,n.jsx)(s.m,Object.assign({tip:t},{children:(0,n.jsx)("div",Object.assign({className:"flex"},{children:(0,n.jsx)(a.Z,{time:e},void 0)}),void 0)}),void 0)}),void 0)]}),void 0)]}),void 0))),d={fontSize:"12px",".label":{color:"t.third",mr:"4px"},".price-text":{color:"t.primary"}},f=(0,o.memo)((({label:e,children:t})=>(0,n.jsxs)(i.Z,Object.assign({sx:d},{children:[(0,n.jsxs)("div",Object.assign({className:"label"},{children:[" ",e]}),void 0),(0,n.jsx)("div",Object.assign({className:"price-text"},{children:t}),void 0)]}),void 0)))},50598:(e,t,r)=>{r.d(t,{Z:()=>f});var n=r(52322),o=r(33941),i=r(92036),s=r(84514),a=r(30068),l=r(2784),c=r(64287),u=r(5700);const d=Object.assign(Object.assign({position:"relative",width:"100%"},u.oB),{".left-arrow":Object.assign(Object.assign({},c.U5),{background:e=>`linear-gradient(to right, ${e.colors.moduleBg} 42.24%, transparent 95.69%)`,svg:{"&:hover":{color:"t.third"}}}),".right-arrow":Object.assign(Object.assign({},c.eE),{background:e=>`linear-gradient(to left, ${e.colors.moduleBg} 42.24%, transparent 95.69%)`,svg:{"&:hover":{color:"t.third"}}}),".default-market-list-container":c.$j,".tablet-market-list-container":c.Wb,".mobile-market-list-container":c.o0,".multiChart-market-list-container":c.dk}),f=(0,l.memo)((({layout:e,list:t,isFullScreen:r,children:c,dataSource:f})=>{const v=(0,l.useRef)(null),[m,p]=(0,l.useState)(!1),[b,g]=(0,l.useState)(!1),h=(0,o.z)((()=>{const{scrollWidth:e=0,clientWidth:t=0,scrollLeft:r=0}=v.current||{};p(e>t+r),g(Boolean(r))}),[],1e3);(0,l.useEffect)((function(){h()}),[h]),(0,l.useEffect)((function(){if("ResizeObserver"in window){const e=new ResizeObserver(h);return v.current&&e.observe(v.current),()=>e.disconnect()}return window.addEventListener("resize",h,{capture:!1,passive:!0}),()=>{window.removeEventListener("resize",h)}}),[h,v]);const j=(0,l.useCallback)((()=>{var e;"number"==typeof(null===(e=null==v?void 0:v.current)||void 0===e?void 0:e.scrollLeft)&&(v.current.scrollLeft-=100,v.current.scrollLeft<0&&(v.current.scrollLeft=0),h())}),[h]),x=(0,l.useCallback)((()=>{var e;"number"==typeof(null===(e=null==v?void 0:v.current)||void 0===e?void 0:e.scrollLeft)&&(v.current.scrollLeft+=100,h())}),[h]);return(0,n.jsxs)(i.Z,Object.assign({sx:d},{children:[b&&(0,n.jsx)("div",Object.assign({onClick:j,className:"left-arrow "+(r?"fullscreen":"")},{children:(0,n.jsx)(s.Z,{size:20,color:"icons.close"},void 0)}),void 0),(0,n.jsxs)("div",Object.assign({className:`${e}-market-list-container`,ref:v,onScroll:h},{children:[t&&t.map((({label:e,key:t,timeKey:r,render:o,timeTips:i})=>{const s=o?o(f[t],f):f[t],a=f[r];return a?(0,n.jsx)(u.U1,{label:e,price:s,time:a,timeTips:i},t):(0,n.jsx)(u.j7,{label:e,price:s},t)})),c]}),void 0),m&&(0,n.jsx)("div",Object.assign({className:"right-arrow "+(r?"fullscreen":""),onClick:x},{children:(0,n.jsx)(a.Z,{size:20,color:"icons.close"},void 0)}),void 0)]}),void 0)}))}}]);