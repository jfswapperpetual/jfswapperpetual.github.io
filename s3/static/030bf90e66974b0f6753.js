"use strict";(self.webpackChunkcloud_trade_sdk=self.webpackChunkcloud_trade_sdk||[]).push([[1040],{92153:(e,o,t)=>{t.d(o,{L:()=>C,Z:()=>O});var s=t(38777),i=t(56666),n=t(31763),r=t.n(n),a=t(98493),l=t.n(a),c=t(33120),d=t(42742),g=t(58564);e=t.hmd(e);var p,h=t(23716);function u(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);o&&(s=s.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),t.push.apply(t,s)}return t}function x(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?u(Object(t),!0).forEach((function(o){(0,i.Z)(e,o,t[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):u(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}))}return e}(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&p(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var m,f,b=(0,c.L)().isHybrid,v=(0,d.Ue)((0,d.xf)(g)),j=function(e,o){var t=e.substring(0,50);if(t.includes("blob:"))return o(!1);if(!t)return o(!1);var s=document.createElement("canvas"),i=s.getContext("2d"),n=new window.Image;return n.crossOrigin="Anonymous",n.src="".concat(e,"?").concat(Date.now()),n.onload=function(){s.height=n.height,s.width=n.width,i.drawImage(n,0,0);try{s.toBlob((function(e){o(URL.createObjectURL(e))}))}catch(e){o(n.src)}s=null},null},y=function(e,o,t,s,i){setTimeout((function(){r()(e,x({scale:1,allowTaint:!0,useCORS:!0,width:e.offsetWidth,height:e.offsetHeight,backgroundColor:null,y:0,scrollY:0},o)).then((function(e){if(i&&i(e),!1!==i)try{var o=e.toDataURL("image/jpeg");t&&t(o)}catch(e){s&&s(e)}})).catch((function(e){s&&s(e)}))}),10)},w=function(e,o,t,i,n){var r=e.querySelectorAll("img"),a=0;if(r[0]){var l=setInterval((function(){clearInterval(l),r.length!==a&&i&&i("超时")}),1e4);(0,s.Z)(r).forEach((function(s){j(s.src,(function(c){!1!==c&&(s.src=c),a++,r.length===a&&(clearInterval(l),y(e,o,t,i,n))}))}))}else y(e,o,t,i,n)},k=function(e,o,t,s,i){l().toJpeg(e,x({quality:1,cacheBust:!0},o)).then((function(e){if(i&&i(e),!1!==i)try{t&&t(e)}catch(e){s&&s(e)}})).catch((function(e){s&&s(e)}))};function O(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=e.el,t=e.android,s=e.ios,i=e.success,n=e.error,r=e.handle;o?b&&/(iPhone|iPad|iPod|iOS)/i.test(window.navigator.userAgent)?w(o,s,i,n,r):k(o,t,i,n,r):h.warn("domToImage: 未找到该节点，无法执行后续的截图操作")}function C(e,o){if(b)v.share({type:"IMAGE",image:e,shareStyle:1});else{var t=document.createElement("a");t.download=o,t.href=e,t.click()}}(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(m.register(b,"isHybrid","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/shared/utils/domToImage.js"),m.register(v,"bridge","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/shared/utils/domToImage.js"),m.register(j,"getUrlBlob","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/shared/utils/domToImage.js"),m.register(y,"IosRender","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/shared/utils/domToImage.js"),m.register(w,"IosHandle","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/shared/utils/domToImage.js"),m.register(k,"AndroidRender","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/shared/utils/domToImage.js"),m.register(O,"domToImage","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/shared/utils/domToImage.js"),m.register(C,"download","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/shared/utils/domToImage.js")),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&f(e)},19925:(e,o,t)=>{t.d(o,{Z:()=>a});var s=t(5163),i=t(2784),n=t(62143),r=(0,i.forwardRef)((function(e,o){return e.visible?i.createElement(n.Z,(0,s.__assign)({ref:o,variant:"mask"},e,{__css:{position:"fixed",top:0,left:0,bottom:0,right:0}})):null}));r.displayName="Mask";const a=r},34553:(e,o,t)=>{t.d(o,{Z:()=>h});var s=t(5163),i=t(2784),n=t(87938),r=t(92036),a=t(19925),l=t(62143),c=t(48658),d=t(77711),g="undefined"!=typeof window?i.useLayoutEffect:i.useEffect,p=(0,i.forwardRef)((function(e,o){var t=e.open,p=e.title,h=e.titleSx,u=e.containerSx,x=e.contentSx,m=e.mask,f=void 0===m||m,b=e.maskSx,v=e.showMaskOnMobile,j=void 0!==v&&v,y=e.onMaskClick,w=e.onCloseIconClick,k=e.showCloseIcon,O=void 0===k||k,C=e.children,P=e.onPressEnter,Z=void 0===P?function(){}:P,N=e.onPressEsc,L=void 0===N?function(){}:N,I=e.specialCss,S=void 0===I?{}:I,E=e.closeSx,_=void 0===E?{}:E,M=e.closeIconProps,$=void 0===M?{}:M,D=e.showTitleBottomLine,R=void 0===D||D,T=(0,s.__rest)(e,["open","title","titleSx","containerSx","contentSx","mask","maskSx","showMaskOnMobile","onMaskClick","onCloseIconClick","showCloseIcon","children","onPressEnter","onPressEsc","specialCss","closeSx","closeIconProps","showTitleBottomLine"]),z=function(e){13===e.keyCode?Z(e):27===e.keyCode&&L(e)};if((0,i.useEffect)((function(){return t?document.addEventListener("keydown",z):document.removeEventListener("keydown",z),function(){document.removeEventListener("keydown",z)}}),[t]),g((function(){return f&&t?document.body.style.overflow="hidden":document.body.style.removeProperty("overflow"),function(){document.body.style.removeProperty("overflow")}}),[f,t]),!t||"undefined"==typeof document||!document.body)return null;var H=!1;"undefined"!=typeof window&&window.matchMedia("(max-width: 766px)").matches&&(H=!0);var V=(0,s.__assign)({zIndex:"unset"},b),A=f&&(j||!H);return i.createElement(n.ZP,null,i.createElement(r.Z,{__css:(0,s.__assign)({zIndex:"modal",position:"fixed",alignItems:"center",justifyContent:"center",top:0,left:0,bottom:0,right:0},S),sx:u},A&&i.createElement(a.Z,{visible:!0,onClick:function(e){return y&&y(e)},sx:V}),i.createElement(l.Z,(0,s.__assign)({ref:o,__css:{position:"relative",borderRadius:["0px","large","large"],boxShadow:"dialog",backgroundColor:"popupBg",width:["100%","auto"],height:["100%","auto"],color:"t.primary"}},T),O&&i.createElement(l.Z,(0,s.__assign)({__css:{position:"absolute",top:0,right:0,left:"unset",pt:"20px",pr:"md",color:"t.disabled",cursor:"pointer",":hover":{color:"t.third"}}},$,{sx:_,onClick:function(e){return w&&w(e)}}),i.createElement(d.Z,{size:24})),p&&i.createElement(c.Z,{variant:"headline6",className:"modal-title",__css:{pl:"md",pr:"lg",pt:"20px",pb:"19px",borderBottom:"1px solid",borderBottomColor:"line",border:R?"":"none",textAlign:"left"},sx:h},p),i.createElement(l.Z,{className:"style-dialog-body",__css:{p:"md",fontSize:"sm",lineHeight:"20px"},sx:x},C))))}));p.displayName="StyledDialog";const h=p},977:(e,o,t)=>{function s(e,o,t){void 0===o&&(o="yyyy-MM-dd hh:mm"),void 0===t&&(t=!1);var s=t?{"M+":e.getUTCMonth()+1,"d+":e.getUTCDate(),"h+":e.getUTCHours(),"m+":e.getUTCMinutes(),"s+":e.getUTCSeconds(),"q+":Math.floor((e.getUTCMonth()+3)/3),S:e.getUTCMilliseconds()}:{"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()},i=o;return/(y+)/.test(o)&&(i=o.replace(RegExp.$1,(""+e.getFullYear()).substr(4-RegExp.$1.length))),Object.keys(s).forEach((function(e){new RegExp("("+e+")").test(i)&&(i=i.replace(RegExp.$1,1===RegExp.$1.length?s[e]:("00"+s[e]).substr((""+s[e]).length)))})),i}t.d(o,{v:()=>s})},11981:(e,o,t)=>{t.d(o,{C:()=>c});var s=t(52322),i=t(48658),n=t(33322),r=t(27986),a=t(56851);const l={color:"t.primary"},c=e=>{var{label:o,disabled:t,className:c,tooltipText:d,tooltipLearnMoreLink:g,checked:p,onChange:h}=e,u=function(e,o){var t={};for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&o.indexOf(s)<0&&(t[s]=e[s]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(s=Object.getOwnPropertySymbols(e);i<s.length;i++)o.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(e,s[i])&&(t[s[i]]=e[s[i]])}return t}(e,["label","disabled","className","tooltipText","tooltipLearnMoreLink","checked","onChange"]);const x=e=>{e.preventDefault()},m=(0,s.jsx)(i.Z,Object.assign({fontSize:12,onClick:x},{children:o}),void 0);return(0,s.jsxs)(n.Z,Object.assign({className:c,width:"auto"},{children:[(0,s.jsx)(r.Z,Object.assign({},u,{onChange:e=>{h(e.currentTarget.checked)},checked:p,disabled:t}),void 0),d?(0,s.jsx)(a.m,Object.assign({labelSx:l,tip:(0,s.jsx)("span",Object.assign({onClick:x},{children:d}),void 0),learnMoreLink:g},{children:m}),void 0):m]}),void 0)}},91040:(e,o,t)=>{t.r(o),t.d(o,{default:()=>oe});var s=t(52322),i=t(2784),n=t(97060),r=t(60190),a=t(88767),l=t(5163),c=t(84423),d=function(){return(0,l.__awaiter)(void 0,void 0,void 0,(function(){return(0,l.__generator)(this,(function(e){return[2,(0,c.v_)("/bapi/futures/v1/private/future/agent/agentcode/get")]}))}))},g=t(60390),p=t(29261),h=t(11981),u=t(62143),x=t(48658),m=t(92036),f=t(59111),b=t(977),v=t(73121),j=t(72779),y=t.n(j),w=t(82108),k=t.n(w);const O={display:"inline-block",textTransform:"capitalize","&.short":{color:"t.sell"},"&.long":{color:"t.buy"}},C=({className:e,direction:o,variant:t="caption1"})=>{const{getI18n:i}=(0,n.yk)(),r=o?i(o,{defaultValue:k()(o)}):"-",a=o?o.toLowerCase():"";return(0,s.jsx)(x.Z,Object.assign({variant:t,className:y()(e,a),sx:O},{children:r}),void 0)};var P=t(41498),Z=t.n(P),N=t(93603);const L={display:"flex",alignItems:"center",".code-container":{display:"flex",alignItems:"center",justifyContent:"center",width:"64px",height:"64px",bg:"white"}},I=({link:e})=>(0,s.jsx)(m.Z,Object.assign({sx:L},{children:e&&(0,s.jsx)("div",Object.assign({className:"code-container"},{children:(0,s.jsx)(Z(),{size:54,value:e},void 0)}),void 0)}),void 0),S=({link:e})=>{const{t:o}=(0,n.yk)(),{address:t=""}=(0,N.dc)(),i=t.slice(0,6)+"......"+t.slice(-4),r=o("futures-referral-address",{defaultValue:"Address"});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(I,{link:e},void 0),(0,s.jsxs)(m.Z,Object.assign({className:"referral"},{children:[(0,s.jsx)("div",Object.assign({className:"referral-label"},{children:r}),void 0),(0,s.jsx)("div",Object.assign({className:"referral-value"},{children:i}),void 0)]}),void 0)]},void 0)},E={position:"relative",zIndex:1,display:"flex",flexDirection:"column",justifyContent:"center",width:"343px",height:"412px",p:"24px 22px",fontSize:"12px",lineHeight:"16px",borderRadius:"16px",".logo":{height:"40px",mb:"16px",backgroundPosition:"left center",backgroundRepeat:"no-repeat"},".direction-leverage":{display:"flex",alignItems:"center",width:"100%",fontWeight:"400",mb:"16px",color:"t.primary",".divider":{display:"inline-block",width:"1px",height:"16px",bg:"t.primary",mx:"8px"},"> span":{whiteSpace:"nowrap"}},".pnl-roe-title":{mb:"8px",color:"t.secondary"},".pnl-roe-large-block":{fontSize:"48px",lineHeight:"40px",fontWeight:500},".pnl-roe-small-block":{fontSize:"20px",lineHeight:"28px"},".prices-block":{display:"flex",height:"40px",".list":{display:"flex",flexDirection:"column",justifyContent:"space-between",mr:"24px"},".name":{whiteSpace:"nowrap"}},".share-time":{my:"16px",textAlign:"left",color:"t.secondary"},".footer":{display:"flex",alignItems:"center",".referral":{display:"flex",flexDirection:"column",ml:"12px",".referral-label":{fontWeight:"400",color:"t.third"},".referral-value":{fontWeight:"700",fontSize:"20px",lineHeight:"28px",color:"t.primary"}}}},{shareImgFolder:_="static/images/share-poster"}=f.ll,M=({symbolDisplay:e,direction:o="LONG",leverage:t,showLeverage:i,pnlColor:r,pnl:a,showPnl:l,roe:c,marginAsset:d,entryPrice:g,markPrice:h,lastPrice:f,showPrices:j,shareLink:y})=>{const w="light"===(0,p.Fg)(),{getI18n:k,t:O}=(0,n.yk)(),{useLastPrice:P}=(0,v.F7)(),Z=`${_}/${w?"light":"dark"}_logo.png`,N=`${_}/mobile_${w?"light":"dark"}_${Number(a)>0?"win":"loss"}.png`;return(0,s.jsxs)(u.Z,Object.assign({sx:Object.assign(Object.assign({},E),{backgroundImage:`url(${N})`})},{children:[(0,s.jsx)(u.Z,{className:"logo",sx:{backgroundImage:`url(${Z})`}},void 0),(0,s.jsx)(x.Z,Object.assign({variant:"headline6",mb:"4px"},{children:e}),void 0),(0,s.jsxs)("div",Object.assign({className:"direction-leverage"},{children:[(0,s.jsx)(C,{direction:o},void 0),i&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"divider"},void 0),(0,s.jsx)("span",{children:`${t}x`},void 0)]},void 0)]}),void 0),(0,s.jsx)(x.Z,Object.assign({className:"pnl-roe-title"},{children:l?`${k("PNL")}(${k("ROE")}%)`:`${k("ROE")}%`}),void 0),(0,s.jsx)(u.Z,Object.assign({sx:{color:r,mb:"8px",height:"68px"}},{children:l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(m.Z,Object.assign({alignItems:"flex-end"},{children:[(0,s.jsx)(x.Z,Object.assign({className:"pnl-roe-large-block"},{children:a}),void 0),(0,s.jsx)(x.Z,Object.assign({className:"pnl-roe-small-block",ml:"4px"},{children:`${d}`}),void 0)]}),void 0),(0,s.jsxs)(x.Z,Object.assign({className:"pnl-roe-small-block"},{children:["(",c,")"]}),void 0)]},void 0):(0,s.jsx)(x.Z,Object.assign({className:"pnl-roe-large-block"},{children:c}),void 0)}),void 0),(0,s.jsx)("div",Object.assign({className:"prices-block"},{children:j&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",Object.assign({className:"list"},{children:[(0,s.jsx)(x.Z,Object.assign({className:"name",color:"t.secondary"},{children:k("entryPrice",{defaultValue:"Entry Price"})}),void 0),(0,s.jsx)(x.Z,Object.assign({className:"name",color:"t.secondary"},{children:P?k("lastPrice",{defaultValue:"Last Price"}):k("markPrice",{defaultValue:"Mark Price"})}),void 0)]}),void 0),(0,s.jsxs)("div",Object.assign({className:"list"},{children:[(0,s.jsx)(x.Z,Object.assign({color:"t.yellow"},{children:g}),void 0),(0,s.jsx)(x.Z,Object.assign({color:"t.yellow"},{children:P?f:h}),void 0)]}),void 0)]},void 0)}),void 0),(0,s.jsx)(x.Z,Object.assign({variant:"caption",className:"share-time"},{children:`${k("cut-off-time")}: ${(0,b.v)(new Date,"yyyy-MM-dd hh:mm")}`}),void 0),(0,s.jsx)(u.Z,Object.assign({className:"footer"},{children:(0,s.jsx)(S,{link:y},void 0)}),void 0)]}),void 0)};var $=t(45362),D=t(81993),R=t(34553),T=t(77711),z=t(92153);const H={overflow:"hidden",bg:"transparent",".style-dialog-body":{display:"flex",flexDirection:"column",justifyContent:"space-between",width:"100%",maxWidth:"100%",height:"100%",p:0}},V={position:"fixed",width:"100%",height:"100%",background:"rgba(0, 0, 0, 0.5)"},A={overflowY:"auto",my:"auto",".poster-container":{boxShadow:"dialog",display:"flex",justifyContent:"center"}},F={position:"relative",p:"15px",pb:"24px",bg:"popupBg",borderRadius:"10px 10px 0px 0px",".checkbox-row-container":{display:"flex",flexDirection:"row",mt:"8px"},".config-checkbox":{mr:"20px","&:last-child":{mr:0}},".checkbox-label":{color:"t.primary",fontSize:"14px"},".button-row":{display:"flex",mt:"24px"},".cancel-btn, .download-btn":{flex:"1"},".cancel-btn":{mr:"15px"}},U={position:"absolute",right:"15px",top:"15px",zIndex:2,color:"t.third",cursor:"pointer","&:hover":{color:"t.primary"}},G=({visible:e,shareLink:o,onClose:t,renderPoster:r,renderCheckboxes:a})=>{const l=(0,i.useRef)(null),{getI18n:c}=(0,n.yk)(),{enqueueNotification:d}=(0,D.Z)();return(0,s.jsxs)(R.Z,Object.assign({sx:H,open:e,showCloseIcon:!1,closeSx:U},{children:[(0,s.jsx)(u.Z,{sx:V},void 0),(0,s.jsx)(u.Z,Object.assign({sx:A},{children:(0,s.jsx)("div",Object.assign({ref:l,className:"poster-container"},{children:r()}),void 0)}),void 0),(0,s.jsxs)(u.Z,Object.assign({sx:F},{children:[(0,s.jsx)(T.Z,{sx:U,size:20,onClick:t},void 0),(0,s.jsx)(x.Z,Object.assign({variant:"subtitle1",color:"t.primary",textAlign:"center",mb:"24px"},{children:c("shareModal-config-title-short",{defaultValue:"Select Parameters"})}),void 0),(0,s.jsx)(x.Z,Object.assign({variant:"body2",color:"t.secondary"},{children:c("shareModal-config-title",{defaultValue:"Please select the information you wish to share:"})}),void 0),(0,s.jsx)("div",Object.assign({className:"checkbox-row-container"},{children:a()}),void 0),(0,s.jsxs)("div",Object.assign({className:"button-row"},{children:[(0,s.jsx)($.Z,Object.assign({className:"cancel-btn",sz:"normal",colorStyle:"secondary",onClick:()=>{o&&(navigator.clipboard.writeText(o),d({variant:"success",message:c("copy-successfully",{defaultValue:"Copy successfully!"})}))}},{children:c("copy-link",{defaultValue:"Copy Link"})}),void 0),(0,s.jsx)($.Z,Object.assign({className:"download-btn",sz:"normal",variant:"primary",onClick:()=>{if(!o)return;const e=l.current;(0,z.Z)({el:e,success(e){(0,z.L)(e,`share-poster-${Date.now()}`),d({variant:"success",message:c("download-successfully",{defaultValue:"Download successfully!"})})}})}},{children:c("download",{defaultValue:"Download"})}),void 0)]}),void 0)]}),void 0)]}),void 0)},B={position:"relative",zIndex:1,display:"flex",flexDirection:"column",justifyContent:"center",flex:"1",width:"552px",height:"384px",p:"24px",fontSize:"12px",lineHeight:"16px",borderRadius:"16px",".logo":{height:"40px",mb:"16px",backgroundPosition:"left center",backgroundRepeat:"no-repeat"},".direction-leverage":{display:"flex",alignItems:"center",width:"100%",fontWeight:"400",mb:"16px",color:"t.primary",".divider":{display:"inline-block",width:"1px",height:"16px",bg:"t.primary",mx:"8px"},"> span":{whiteSpace:"nowrap"}},".pnl-roe-title":{mb:"8px",color:"t.secondary"},".pnl-roe-large-block":{fontSize:"48px",lineHeight:"40px",fontWeight:500},".prices-block":{display:"flex",height:"40px",".list":{display:"flex",flexDirection:"column",justifyContent:"space-between",mr:"24px"},".name":{whiteSpace:"nowrap"}},".share-time":{my:"16px",textAlign:"left",color:"t.secondary"},".footer":{display:"flex",alignItems:"center",".referral":{display:"flex",flexDirection:"column",ml:"12px",".referral-label":{fontWeight:"400",color:"t.third"},".referral-value":{fontWeight:"700",fontSize:"20px",lineHeight:"28px",color:"t.primary"}}}},{shareImgFolder:W="static/images/share-poster"}=f.ll,q=({symbolDisplay:e,direction:o="LONG",leverage:t,showLeverage:i,pnlColor:r,pnl:a,showPnl:l,roe:c,marginAsset:d,entryPrice:g,markPrice:h,lastPrice:f,showPrices:j,shareLink:y})=>{const w="light"===(0,p.Fg)(),{getI18n:k,t:O}=(0,n.yk)(),{useLastPrice:P}=(0,v.F7)(),Z=`${W}/${w?"light":"dark"}_logo.png`,N=`${W}/pc_${w?"light":"dark"}_${Number(a)>0?"win":"loss"}.png`;return(0,s.jsxs)(u.Z,Object.assign({sx:Object.assign(Object.assign({},B),{backgroundImage:`url(${N})`})},{children:[(0,s.jsx)(u.Z,{className:"logo",sx:{backgroundImage:`url(${Z})`}},void 0),(0,s.jsx)(x.Z,Object.assign({variant:"headline6",mb:"4px"},{children:e}),void 0),(0,s.jsxs)("div",Object.assign({className:"direction-leverage"},{children:[(0,s.jsx)(C,{direction:o},void 0),i&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"divider"},void 0),(0,s.jsx)("span",{children:`${t}x`},void 0)]},void 0)]}),void 0),(0,s.jsx)(x.Z,Object.assign({className:"pnl-roe-title"},{children:l?`${k("PNL")}(${k("ROE")}%)`:`${k("ROE")}%`}),void 0),(0,s.jsx)(m.Z,Object.assign({sx:{alignItems:"flex-end",color:r,mb:"8px"}},{children:l?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(x.Z,Object.assign({className:"pnl-roe-large-block"},{children:a}),void 0),(0,s.jsx)(x.Z,Object.assign({variant:"headine3",mx:"4px"},{children:`${d}`}),void 0),(0,s.jsxs)(x.Z,Object.assign({variant:"headine3"},{children:["(",c,")"]}),void 0)]},void 0):(0,s.jsx)(x.Z,Object.assign({className:"pnl-roe-large-block"},{children:c}),void 0)}),void 0),(0,s.jsx)("div",Object.assign({className:"prices-block"},{children:j&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",Object.assign({className:"list"},{children:[(0,s.jsx)(x.Z,Object.assign({className:"name",color:"t.secondary"},{children:k("entryPrice",{defaultValue:"Entry Price"})}),void 0),(0,s.jsx)(x.Z,Object.assign({className:"name",color:"t.secondary"},{children:P?k("lastPrice",{defaultValue:"Last Price"}):k("markPrice",{defaultValue:"Mark Price"})}),void 0)]}),void 0),(0,s.jsxs)("div",Object.assign({className:"list"},{children:[(0,s.jsx)(x.Z,Object.assign({color:"t.yellow"},{children:g}),void 0),(0,s.jsx)(x.Z,Object.assign({color:"t.yellow"},{children:P?f:h}),void 0)]}),void 0)]},void 0)}),void 0),(0,s.jsx)(x.Z,Object.assign({variant:"caption",className:"share-time"},{children:`${k("cut-off-time")}: ${(0,b.v)(new Date,"yyyy-MM-dd hh:mm")}`}),void 0),(0,s.jsx)(u.Z,Object.assign({className:"footer"},{children:(0,s.jsx)(S,{link:y},void 0)}),void 0)]}),void 0)};var K=t(71927);const Y={overflow:"hidden",".style-dialog-body":{display:"flex",flexDirection:"column",width:"600px",maxWidth:"100%",height:"100%",p:0}},J={position:"absolute",right:"11px",top:"11px",zIndex:2,color:"t.third",cursor:"pointer","&:hover":{color:"t.primary"}},Q={".poster-container":{position:"relative",overflow:"hidden",display:"flex",flexDirection:"column",boxSizing:"border-box",p:"24px",pb:0},".action-panel":{mt:"auto",p:"24px",bg:"popupBg"},".checkbox-row-container":{display:"flex",flexDirection:"row",mt:"8px"},".config-checkbox":{mr:"24px","&:last-child":{mr:0}},".checkbox-label":{color:"t.primary",fontSize:"14px"},".button-row":{display:"flex",mt:"24px"},".cancel-btn, .download-btn":{flex:"1"},".cancel-btn":{mr:"8px"}},X=({visible:e,shareLink:o,onClose:t,renderPoster:r,renderCheckboxes:a})=>{const l=(0,i.useRef)(null),{getI18n:c}=(0,n.yk)(),{enqueueNotification:d}=(0,D.Z)();return(0,s.jsxs)(R.Z,Object.assign({sx:Y,open:e,showCloseIcon:!1,closeSx:J},{children:[(0,s.jsx)(K.Z,{size:24,sx:J,onClick:t},void 0),(0,s.jsxs)(u.Z,Object.assign({sx:Q},{children:[(0,s.jsx)("div",Object.assign({className:"poster-container"},{children:(0,s.jsx)("div",Object.assign({ref:l},{children:r()}),void 0)}),void 0),(0,s.jsxs)("div",Object.assign({className:"action-panel"},{children:[(0,s.jsx)(x.Z,Object.assign({variant:"body2",color:"t.secondary"},{children:c("shareModal-config-title",{defaultValue:"Please select the information you wish to share:"})}),void 0),(0,s.jsx)("div",Object.assign({className:"checkbox-row-container"},{children:a()}),void 0),(0,s.jsxs)("div",Object.assign({className:"button-row"},{children:[(0,s.jsx)($.Z,Object.assign({className:"cancel-btn",sz:"normal",colorStyle:"secondary",onClick:()=>{o&&(navigator.clipboard.writeText(o),d({variant:"success",message:c("copy-successfully",{defaultValue:"Copy successfully!"})}))}},{children:c("copy-link",{defaultValue:"Copy Link"})}),void 0),(0,s.jsx)($.Z,Object.assign({className:"download-btn",sz:"normal",variant:"primary",onClick:()=>{if(!o)return;const e=l.current;(0,z.Z)({el:e,success(e){(0,z.L)(e,`share-poster-${Date.now()}`),d({variant:"success",message:c("download-successfully",{defaultValue:"Download successfully!"})})}})}},{children:c("download",{defaultValue:"Download"})}),void 0)]}),void 0)]}),void 0)]}),void 0)]}),void 0)};var ee=t(72019);const oe=({visible:e,onClose:o,sideKey:t})=>{const{getI18n:l}=(0,n.yk)(),{isMobile:c}=(0,n.Fs)(),[u,x]=(0,i.useState)(!0),[m,f]=(0,i.useState)(!0),[b,v]=(0,i.useState)(!0),{symbolText:j,leverage:y}=(0,ee.iA)({sideKey:t}),w=(0,r.t2)(t,"positionSize"),k=Number(w)>0?"LONG":"SHORT",{pnlColor:O,formatedPnl:C,ROEVal:P}=(0,ee.qU)({sideKey:t}),[Z,N]=C.split(" "),{formatedEntryPrice:L}=(0,ee.A4)({sideKey:t}),{formatedMarkPrice:I,formatedLastPrice:S}=(0,ee.z1)({sideKey:t}),{referralCode:E}=(()=>{var e,o;const t=(0,g._)(),{isExistFutureAccount:s}=(0,p.Pc)(),{isLoading:i,data:n}=(0,a.useQuery)("FUTURES_REFERRAL_CODE",d,{enabled:Boolean(t&&s),staleTime:1/0});return{isLoading:i,referralCode:(null===(o=null===(e=null==n?void 0:n.data)||void 0===e?void 0:e.agentCode)||void 0===o?void 0:o.toString())||""}})(),_=(0,i.useMemo)((()=>{var e,o;return`${null===(e=window.top)||void 0===e?void 0:e.location.href}${(null===(o=window.top)||void 0===o?void 0:o.location.search)?"&":"?"}ref=${E}`}),[E]),$=()=>(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(h.C,{className:"config-checkbox",label:l("LeverageLabel",{defaultValue:"Leverage"}),checked:u,onChange:x},void 0),(0,s.jsx)(h.C,{className:"config-checkbox",label:l("pnl-amount",{defaultValue:"PNL Amount"}),checked:m,onChange:f},void 0),(0,s.jsx)(h.C,{className:"config-checkbox",label:l("price",{defaultValue:"Price"}),checked:b,onChange:v},void 0)]},void 0);return c?(0,s.jsx)(G,{visible:e,shareLink:_,onClose:o,renderPoster:()=>(0,s.jsx)(M,{symbolDisplay:j,direction:k,leverage:y,showLeverage:u,pnlColor:O,pnl:Z,showPnl:m,marginAsset:N,roe:P,entryPrice:L,markPrice:I,lastPrice:S,showPrices:b,shareLink:_},void 0),renderCheckboxes:$},void 0):(0,s.jsx)(X,{visible:e,shareLink:_,onClose:o,renderPoster:()=>(0,s.jsx)(q,{symbolDisplay:j,direction:k,leverage:y,showLeverage:u,pnlColor:O,pnl:Z,showPnl:m,marginAsset:N,roe:P,entryPrice:L,markPrice:I,lastPrice:S,showPrices:b,shareLink:_},void 0),renderCheckboxes:$},void 0)}}}]);