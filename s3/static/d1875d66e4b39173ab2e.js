"use strict";(self.webpackChunkcloud_trade_sdk=self.webpackChunkcloud_trade_sdk||[]).push([[5649],{90614:(e,t,o)=>{o.d(t,{gN:()=>i,QV:()=>r.Q});var r=o(27657),n=o(2784),a=o(23131);function i(){const[e,t]=(0,n.useState)({});return(0,n.useEffect)((()=>(0,a.RU)().getContractInfoStream().subscribe((e=>{t(e)}))),[]),e}o(55606),o(93954),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature},93954:(e,t,o)=>{o.d(t,{s:()=>f});var r,n=o(2784),a=o(27657),i=o(26786),l=o(48752),s=o(97060);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var u,c,d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},f=function(e){var t=(0,s.yk)().getI18n,o=(0,a.Q)().isCoinUnit,r=e||{},u=r.contractVal,c=r.equalQtyPrecision,d=r.precision,f=(0,n.useCallback)((function(e){var t=e.quantity,r=e.price,n=e.func,a=void 0===n?i.mD:n,s=e.format,d=void 0===s||s;return o?(0,l.unitChangeCoinQty)({quantity:t,price:r,contractVal:u,precision:c,func:a,format:d}):t}),[u,c,o]),p=(0,n.useCallback)((function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"marginAsset";return o?e[r]:t("Cont",{defaultValue:"Cont"})}),[t,o,e]),g=(0,n.useCallback)((function(){return o?c:d}),[c,o,d]);return(0,n.useMemo)((function(){return{getQuantity:f,getAssetLabel:p,getPrecision:g}}),[p,g,f])};d(f,"useFuturesLanguage{{ getI18n: getFuturesI18n }}\nusePreferenceUnit{{ isCoinUnit }}\nuseCallback{getQuantity}\nuseCallback{getAssetLabel}\nuseCallback{getPrecision}\nuseMemo{}",(function(){return[s.yk,a.Q]})),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(u.register((function(e){var t=e.quantity,o=e.price,r=e.contractVal;return Math.floor(t*o/r)}),"unitChangeCoinToCont","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/delivery/hooks/useUnitChange.js"),u.register(f,"useUnitChange","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/delivery/hooks/useUnitChange.js")),(c="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&c(e)},31928:(e,t,o)=>{var r;o.d(t,{Z:()=>a}),e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var n={form:{container:{p:"16px 12px 16px 12px",flexDirection:"column",justifyContent:"unset"},panel:{width:"100%",mr:0},tip:{pt:"15px"}},switch:{item:{bg:"calculator.resultBg",border:"none",color:"calculator.numberColor","&.active":{fontWeight:500,background:"linear-gradient(270deg, #FBDA3C 0%, #EFB80B 100%)",color:"#212833"}}},result:{container:{width:"100%",mt:"12px",bg:"calculator.resultBgMobile",py:"12px"},title:{fontWeight:"normal !important",mb:"12px"},label:{fontSize:"16px",color:"#848E9C"},value:{fontSize:"15px",color:"calculator.numberColor"},tooltipLabel:{fontSize:"16px",color:"#848E9C",borderBottom:"none !important"},description:{position:"relative",fontSize:"12px",color:"#848E9C",lineHeight:"18px",mt:10}},calculateBtn:{height:50,mt:18,fontWeight:"normal !important",background:"linear-gradient(90deg, #FBDA3C 0%, #EFB80B 100%)"},SymbolSelect:{overlayBoxSx:{width:"94vw"}},DropBpx:{sx:{bg:"calculator.dropBoxBg",borderColor:"calculator.dropBoxBg",fontWeight:"normal"}},custom:{TextField:{props:{color:"calculator.inputColor",fontSize:"15px !important",fontWeight:500,pb:"1px"},boxProps:{width:"100%",mt:12,height:44,borderColor:"calculator.inputBorderColorMobile"},prefix:{color:"#848E9C"},suffix:{color:"#848E9C",fontSize:"15px !important"}}}};const a=n;var i,l;(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&i.register(n,"default","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/Mobile/theme/overrides.js"),(l="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&l(e)},1138:(e,t,o)=>{o.d(t,{Z:()=>u});var r,n,a,i=o(2784),l=o(97060),s=o(31928);function u(){var e=(0,l.Fs)().isMobile;return(0,i.useMemo)((function(){return e?s.Z:void 0}),[e])}e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(u,"useResponsive{{ isMobile }}\nuseMemo{}",(function(){return[l.Fs]})),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(u,"useMobileOverrideStyles","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/Mobile/useMobileOverrideStyles.js"),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)},70465:(e,t,o)=>{o.d(t,{h:()=>v});var r,n,a,i=o(56666),l=o(2867),s=o(2784),u=o(37407),c=o(62143),d=o(92036),f=o(55742),p=o(1138),g=o(52322);function b(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function m(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?b(Object(o),!0).forEach((function(t){(0,i.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):b(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function v(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.activeKey,o=e.data,r=void 0===o?[]:o,n=e.onSelectChange,a=void 0===n?function(){}:n,i=e.sx,b=e.overlayBoxSx,v=e.itemSx,y=(0,p.Z)(),x=(0,s.useState)(!1),P=(0,l.Z)(x,2),h=P[0],j=P[1],O=(0,s.useMemo)((function(){return(0,g.jsx)(c.Z,{sx:m({width:"143px",maxHeight:"250px",borderRadius:"4px",overflow:"auto",mt:"2px",boxShadow:"0px 0px 8px rgba(11, 14, 17, 0.15)",bg:"popupBg"},b),children:r.map((function(e){var t=e.key,o=e.value,r=e.disabled,n=r?{}:{color:"t.yellow",bg:"lightPrimary"};return(0,g.jsx)(d.Z,{justifyContent:"center",alignItems:"center",sx:m({height:"35px",color:r?"t.disabled":"t.secondary",fontSize:"14px",cursor:r?"not-allowed":"pointer",bg:"popupBg","&:hover":m({},n)},v),onClick:function(){r||a(t)},children:o},t)}))})}),[r,v,a,b]),C=(0,s.useMemo)((function(){return m(m({userSelect:"none",width:"100%",color:"t.primary",py:"4px",bg:"inputBg",fontSize:"sm",fontWeight:500,mr:"xs",borderRadius:"4px",cursor:"pointer","&:last-of-type":{mr:0}},null==y?void 0:y.DropBpx.sx),i)}),[y,i]);return(0,s.useMemo)((function(){var e;return(0,g.jsx)(f.ZP,{trigger:"click",overlay:O,sx:C,enablePortal:!0,onVisibleChange:j,children:(0,g.jsxs)(d.Z,{justifyContent:"center",alignItems:"center",children:[(0,g.jsx)(c.Z,{children:null===(e=Object.values(r).find((function(e){return e.key===t})))||void 0===e?void 0:e.value}),(0,g.jsx)(u.Z,{color:"#848E9C",sx:{transform:h?"rotate(180deg)":null,transition:"transform 100ms"}})]})})}),[t,r,C,O,h])}e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(v,"useMobileOverrideStyles{mobileOverrideStyles}\nuseState{[visible, setVisible](false)}\nuseMemo{overLay}\nuseMemo{dropDownSx}\nuseMemo{}",(function(){return[p.Z]})),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(v,"DropBpx","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/DropBox/DropBox.js"),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)},51182:(e,t,o)=>{o.d(t,{V:()=>m});var r,n,a,i=o(56666),l=o(2784),s=o(92036),u=o(97060),c=o(20423),d=o(38203),f=o(70465),p=o(52322);function g(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function b(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?g(Object(o),!0).forEach((function(t){(0,i.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):g(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.sx,o=(0,l.useContext)(d._),r=o.marginType,n=void 0===r?c.Yl.CROSS:r,a=o.setMarginType,i=o.positionMode,g=void 0===i?c.Tw.ONEWAY:i,m=o.setPositionMode,v=(0,u.Fs)(),y=v.isMobile,x=(0,u.yk)(),P=x.getI18n;(0,l.useEffect)((function(){n===c.Yl.ISOLATED&&m(c.Tw.ONEWAY)}),[n,g,m]);var h=(0,l.useMemo)((function(){return[{key:c.Yl.CROSS,value:P("header-Cross",{defaultValue:"Cross"})},{key:c.Yl.ISOLATED,value:P("headerIsolated",{defaultValue:"Isolated"})}]}),[P]),j=(0,l.useMemo)((function(){return[{key:c.Tw.ONEWAY,value:P("OneWayPosition",{defaultValue:"One-way Mode"})},{key:c.Tw.HEDGE,value:P("TwoWayPosition",{defaultValue:"Hedge Mode"}),disabled:n===c.Yl.ISOLATED}]}),[P,n]),O=(0,l.useMemo)((function(){return{width:y?"45.5vw":"143px"}}),[y]),C=(0,l.useMemo)((function(){return b({mb:"ls"},t)}),[t]),L=(0,l.useCallback)((function(e){return a(e)}),[a]),w=(0,l.useCallback)((function(e){return m(e)}),[m]);return(0,p.jsxs)(s.Z,{sx:C,children:[(0,p.jsx)(f.h,{data:h,activeKey:n,onSelectChange:L,overlayBoxSx:O}),(0,p.jsx)(f.h,{data:j,activeKey:g,onSelectChange:w,overlayBoxSx:O})]})}e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(m,"useContext{{\n    marginType = MARGIN_TYPE.CROSS,\n    setMarginType,\n    positionMode = POSITION_MODE.ONEWAY,\n    setPositionMode,\n  }}\nuseResponsive{{ isMobile }}\nuseFuturesLanguage{{ getI18n: getFuturesI18n }}\nuseEffect{}\nuseMemo{marginTypes}\nuseMemo{positionModes}\nuseMemo{overlayBoxSx}\nuseMemo{containerSx}\nuseCallback{onMarginTypeChange}\nuseCallback{onPositionChange}",(function(){return[u.Fs,u.yk]})),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(m,"MarginTypeAndPositionMode","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/DropBox/MarginTypeAndPositionMode.js"),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)},24915:(e,t,o)=>{o.d(t,{m:()=>y});var r,n,a,i=o(56666),l=o(2784),s=o(92036),u=o(97060),c=o(38203),d=o(1138),f=o(70465),p=o(38896),g=o(17584),b=o(52322);function m(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function v(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?m(Object(o),!0).forEach((function(t){(0,i.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):m(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function y(){var e=(0,l.useContext)(c._),t=e.symbol,o=e.setSymbol,r=(0,p.iB)(),n=(0,d.Z)(),a=(0,p.G3)(),i=(0,u.yk)().getI18n,m=(0,l.useMemo)((function(){return Object.values(r).map((function(e){var t=e.symbol;return{key:t,value:a?(0,g.lE)(t,i):t}}))}),[i,a,r]);return(0,b.jsx)(s.Z,{sx:{mb:"ls"},children:(0,b.jsx)(f.h,{data:m,activeKey:t,onSelectChange:function(e){return o(e)},overlayBoxSx:v({width:"295px",maxHeight:"285px"},null==n?void 0:n.SymbolSelect.overlayBoxSx)})})}e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(y,"useContext{{ symbol, setSymbol }}\nuseProduct{productMap}\nuseMobileOverrideStyles{mobileOverrideStyles}\nuseDeliveryPath{isDelivery}\nuseFuturesLanguage{{ getI18n: getFutI18n }}\nuseMemo{symbolList}",(function(){return[p.iB,d.Z,p.G3,u.yk]})),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&n.register(y,"SymbolSelect","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/DropBox/SymbolSelect.js"),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)},55822:(e,t,o)=>{o.d(t,{Vp:()=>r.V,me:()=>n.m}),o(70465);var r=o(51182),n=o(24915);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature},88502:(e,t,o)=>{o.d(t,{X:()=>m});var r,n=o(56666),a=o(2784),i=o(45362),l=o(38203),s=o(64008),u=o(1138),c=o(52322);function d(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function f(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?d(Object(o),!0).forEach((function(t){(0,n.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):d(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var p,g,b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},m=function(e){var t=e.onClick,o=(0,a.useContext)(l._).isCalculateBtnValid,r=(0,s.Z)().getI18n,n=(0,u.Z)(),d=(0,a.useMemo)((function(){return{"&:disabled":{bg:"line",color:"t.third"}}}),[]);return(0,a.useMemo)((function(){return(0,c.jsx)(i.Z,f(f({variant:"default",width:1,sz:"l",disabled:!o,onClick:t,sx:d},f({mt:4},null==n?void 0:n.calculateBtn)),{},{"data-testid":"Calculate",children:r("Calculate",{defaultValue:"Calculate"})}))}),[d,r,o,n,t])};b(m,"useContext{{ isCalculateBtnValid }}\nuseLanguage{{ getI18n }}\nuseMobileOverrideStyles{mobileOverrideStyles}\nuseMemo{buttonSx}\nuseMemo{}",(function(){return[s.Z,u.Z]})),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&p.register(m,"CalculateBtn","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/CalculateBtn.js"),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)},37143:(e,t,o)=>{o.d(t,{Y:()=>f,p:()=>b});var r,n=o(56666),a=o(92036),i=o(62143),l=o(1138),s=o(52322);function u(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function c(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?u(Object(o),!0).forEach((function(t){(0,n.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):u(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},f=function(e){var t=e.children,o=e.sx,r=e.overrideSx,n=(0,l.Z)();return(0,s.jsx)(a.Z,{__css:{p:"24px 32px 32px",justifyContent:"space-between"},sx:c(c(c({},o),null==n?void 0:n.form.container),r),children:t})};d(f,"useMobileOverrideStyles{mobileOverrideStyles}",(function(){return[l.Z]}));var p,g,b=function(e){var t,o=e.children,r=(0,l.Z)();return(0,s.jsx)(i.Z,{__css:{width:"50%",mr:4},sx:null==r||null===(t=r.form)||void 0===t?void 0:t.panel,children:o})};d(b,"useMobileOverrideStyles{mobileOverrideStyles}",(function(){return[l.Z]})),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(p.register(f,"FormContainer","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/Container.js"),p.register(b,"FormBody","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/Container.js")),(g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&g(e)},38203:(e,t,o)=>{o.d(t,{_:()=>l});var r,n=o(2784);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var a,i,l=(0,n.createContext)({currentLeverageBracket:{}});(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&a.register(l,"Context","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/Context.js"),(i="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&i(e)},95798:(e,t,o)=>{o.d(t,{Co:()=>y,yt:()=>v});var r,n=o(56666),a=o(2784),i=o(16831),l=o(48658),s=o(92036),u=o(62143),c=o(97060),d=o(38896),f=o(1138),p=o(98098),g=o(52322);function b(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function m(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?b(Object(o),!0).forEach((function(t){(0,n.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):b(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function v(e){var t=e.config,o=t.value,r=t.max,n=t.precision,b=t.onChange,v=t.placeholder,y=t.asset,x=t.errorText,P=void 0===x?"":x,h=t.negative,j=void 0!==h&&h,O=t.testId,C=t.type,L=void 0===C?"number":C,w=t.assetLabel,S=void 0===w?null:w,G=t.onAssetLabelClick,k=t.boxProps,M=t.mobileBoxProps,H="rtl"===(0,d.gm)(),I=(0,c.Fs)().isMobile,E=(0,f.Z)(),Z=null==E?void 0:E.custom.TextField,D=(0,a.useCallback)((function(){return G()}),[G]),V=(0,a.useCallback)((function(e){(j||+e>=0)&&+e<=+r&&b(e)}),[r,j,b]),F=(0,a.useCallback)((function(e){return(0,p._p)(e,{fn:V,filed:null,places:n,negative:j})}),[V,j,n]),B=(0,a.useCallback)((function(e){return(0,p.Y5)(e)}),[]),T=(0,a.useMemo)((function(){return v&&(0,g.jsx)(l.Z,{fontSize:14,color:"t.third",sx:null==Z?void 0:Z.prefix,children:v})}),[Z,v]),N=(0,a.useMemo)((function(){return y&&(0,g.jsxs)(s.Z,{justifyContent:"center",alignItems:"center",children:[S&&(0,g.jsx)(u.Z,{sx:{fontSize:"12px",color:"t.yellow",mr:"4px",cursor:"pointer",padding:"3px 4px",borderRadius:"4px","&:hover":{bg:"calculator.inputAssetLabelBg"}},onClick:D,children:S}),(0,g.jsx)(l.Z,{color:"t.primary",fontSize:1,sx:null==Z?void 0:Z.suffix,children:y})]})}),[y,S,Z,D]),q=(0,a.useMemo)((function(){return{sx:I?m(m({},null==Z?void 0:Z.boxProps),M):m({width:"100%",mt:"12px",border:"none",bg:"inputBg",height:"40px",input:{px:"8px"}},k)}}),[k,I,M,Z]),U=(0,a.useMemo)((function(){return m(m({style:H?{textAlign:"right"}:{}},null==Z?void 0:Z.props),O?{"data-test-id":O}:{})}),[H,Z,O]);return(0,a.useMemo)((function(){return(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(i.Z,m({type:L,variant:"inline",value:o,onChange:F,onBlur:B,prefix:T,suffix:N,boxProps:q,placeholder:I?(0,p.uf)(0,n):null},U)),!!P&&(0,g.jsx)(u.Z,{sx:{fontSize:"12px",color:"t.sell"},children:P})]})}),[P,q,T,U,N,I,B,F,n,L,o])}function y(e){var t=e.inputs,o=e.boxProps;return(0,g.jsx)(g.Fragment,{children:t.map((function(e,t){return(0,g.jsx)(v,{config:e,boxProps:o},t)}))})}e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(v,"useDirection{}\nuseResponsive{{ isMobile }}\nuseMobileOverrideStyles{mobileOverrideStyles}\nuseCallback{onInputAssetLabelClick}\nuseCallback{_onChange}\nuseCallback{onInputChange}\nuseCallback{onInputBlur}\nuseMemo{inputPrefix}\nuseMemo{inputSuffix}\nuseMemo{inputBoxProps}\nuseMemo{inputExtraProps}\nuseMemo{}",(function(){return[d.gm,c.Fs,f.Z]}));var x,P,h=y;(x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(x.register(v,"FormInput","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/FormInputs.js"),x.register(y,"FormInputs","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/FormInputs.js"),x.register(h,"default","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/FormInputs.js")),(P="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&P(e)},6821:(e,t,o)=>{o.d(t,{Q:()=>j});var r,n=o(2784),a=o(92036),i=o(62143),l=o(48658),s=o(51259),u=o(97060),c=o(17584),d=o(38896),f=o(1138),p=o(38203),g=o(20423),b=o(64008),m=o(52322);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var v,y,x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},P={pt:"16px",pb:"12px",".slider-tip":{color:"t.third",fontSize:"12px",pt:"16px",".position-cap":{color:"t.primary",mt:"4px"}}};function h(e,t){var o=[];if(t<10){o=[];for(var r=1;r<=t;r++)o.push(r)}else{o=[e];for(var n=1;n<=5;n++)o.push(Math.floor(n/5*t))}return o}function j(){var e,t=(0,n.useContext)(p._),o=t.leverage,r=t.setLeverage,v=t.currentLeverageBracket,y=t.isLeverageGreaterThan,x=t.symbol,j=(0,b.X)().leveragePositionUnitField,O=(0,u.Fs)().isMobile,C=(0,f.Z)(),L=(0,u.yk)().getI18n,w=(0,d.iB)(),S=(0,d.Gf)(),G=(w[x]||g.oF)[j],k=v.bracketSeq,M=v.bracketNotionalCap,H=k===(null==S||null===(e=S[x])||void 0===e?void 0:e.length),I=(0,d.ho)({symbol:x,brackets:S}).leverageData,E=I.minVal,Z=I.maxVal,D=(0,n.useMemo)((function(){return h(E,Z)}),[Z,E]),V=(0,n.useMemo)((function(){return{min:E,max:Z}}),[Z,E]),F=(0,n.useCallback)((function(e){return r(e)}),[r]),B=(0,n.useMemo)((function(){return(0,m.jsx)(m.Fragment,{children:!H&&(0,m.jsxs)("div",{className:"slider-tip",children:[L("AvailablePositionsTip",{defaultValue:"Max position at current leverage:"}),(0,m.jsxs)("div",{className:"position-cap",children:[(0,c.kh)(M)," ",G]})]})})}),[M,L,H,y,G]),T=(0,n.useMemo)((function(){var e;return(0,m.jsxs)(m.Fragment,{children:[" ",!H&&(0,m.jsxs)(a.Z,{justifyContent:"space-between",__css:{fontSize:0,pt:2,color:"calculator.labelColor","& > span":{color:"t.primary"},"&.active":{color:"#F23051",span:{color:"#F23051"}},"&.active > span":{color:"#F23051"}},sx:null==C||null===(e=C.form)||void 0===e?void 0:e.tip,className:y?"active":"",children:[(0,m.jsx)(i.Z,{sx:{fontSize:"12px",lineHeight:"16px"},children:L("AvailablePositionsTip")}),(0,m.jsxs)(i.Z,{children:[(0,m.jsxs)(l.Z,{as:"span",sx:{color:"calculator.numberColor",fontWeight:500},children:[" ",(0,c.kh)(M)," "]}),(0,m.jsx)("span",{children:G})]})]})]})}),[M,L,H,C,G,y]);return O?(0,m.jsxs)(i.Z,{mb:"8px",children:[(0,m.jsx)(s.Z,{progress:o,range:V,onChange:F,unit:"x",steppers:D,showScales:!0}),T]}):(0,m.jsxs)(i.Z,{sx:P,children:[(0,m.jsx)(s.Z,{progress:o,range:V,onChange:F,unit:"x",px:"0px",steppers:D,showScales:!0}),B]})}x(j,"useContext{{ leverage, setLeverage, currentLeverageBracket, isLeverageGreaterThan, symbol }}\nuseContractConfig{{ leveragePositionUnitField }}\nuseResponsive{{ isMobile }}\nuseMobileOverrideStyles{mobileOverrideStyles}\nuseFuturesLanguage{{ getI18n: getFuturesI18n }}\nuseProduct{productMap}\nuseBrackets{brackets}\nuseLeverageData{{\n    leverageData: { minVal: min, maxVal: max },\n  }}\nuseMemo{sliderSteppers}\nuseMemo{sliderRange}\nuseCallback{sliderOnChange}\nuseMemo{sliderTip}\nuseMemo{sliderTipMobile}",(function(){return[b.X,u.Fs,f.Z,u.yk,d.iB,d.Gf,d.ho]})),(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(10,"MINIMUM_LEVERAGE_GEAR","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/LeverageSlider.js"),v.register(5,"STEPPER_LENGTH","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/LeverageSlider.js"),v.register(P,"STYLE","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/LeverageSlider.js"),v.register(h,"toSteps","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/LeverageSlider.js"),v.register(j,"LeverageSlider","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/LeverageSlider.js")),(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&y(e)},21498:(e,t,o)=>{o.d(t,{G:()=>m});var r,n=o(2784),a=o(92036),i=o(45362),l=o(64008),s=o(1138),u=o(38203),c=o(20423),d=o(52322);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var f,p,g="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},b={button:{flex:1,"&.normal-button":{bg:"inputBg",color:"t.primary","&:hover:not(:disabled):not(:active):not(.inactive)":{bg:"line"}},"&.long-button":{"&:hover:not(:disabled):not(:active)":{bg:"buyHover"},"&:active":{bg:"buyHover"}},"&.short-button":{"&:hover:not(:disabled):not(:active)":{bg:"sellHover"},"&:active":{bg:"sellHover"}}}},m=function(){var e=(0,l.Z)().getI18n,t=(0,s.Z)(),o=(0,n.useContext)(u._),r=o.positionDirection,f=o.setPositionDirection,p=o.marginType,g=o.positionMode,m=(0,n.useCallback)((function(){return f(c.DD.LONG)}),[f]),v=(0,n.useCallback)((function(){return f(c.DD.SHORT)}),[f]);return(0,n.useMemo)((function(){if(p===c.Yl.ISOLATED&&g===c.Tw.HEDGE)return null;var t=r===c.DD.LONG,o=r===c.DD.SHORT;return(0,d.jsxs)(a.Z,{sx:b,children:[(0,d.jsx)(i.Z,{variant:"default",colorStyle:"buy",className:t?"long-button":"normal-button",onClick:m,"data-testid":"LongButton",children:e("Long",{defaultValue:"Long"})}),(0,d.jsx)(i.Z,{variant:"default",colorStyle:"sell",className:o?"short-button":"normal-button",onClick:v,"data-testid":"ShortButton",children:e("Short",{defaultValue:"Short"})})]})}),[e,p,t,m,v,r,g])};g(m,"useLanguage{{ getI18n }}\nuseMobileOverrideStyles{mobileOverrideStyles}\nuseContext{{ positionDirection, setPositionDirection, marginType, positionMode }}\nuseCallback{onLongDirectionClick}\nuseCallback{onShortDirectionClick}\nuseMemo{}",(function(){return[l.Z,s.Z]})),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(f.register(b,"STYLE","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/PositionDirectionSwitch.js"),f.register(m,"PositionDirectionSwitch","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/PositionDirectionSwitch.js")),(p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&p(e)},83857:(e,t,o)=>{o.d(t,{z:()=>b});var r,n=o(2867),a=o(2784),i=o(20423),l=o(38896),s=o(38203),u=o(23131),c=o(52322);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var d,f,p="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},g=u.Fy.leverageInfo.defaultVal,b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.children,o=(0,l.z4)()[0],r=(0,a.useState)(!1),u=(0,n.Z)(r,2),d=u[0],f=u[1],p=(0,a.useState)(o),b=(0,n.Z)(p,2),m=b[0],v=b[1],y=(0,a.useState)(i.DD.LONG),x=(0,n.Z)(y,2),P=x[0],h=x[1],j=(0,a.useState)(i.Yl.CROSS),O=(0,n.Z)(j,2),C=O[0],L=O[1],w=(0,a.useState)(i.Tw.ONEWAY),S=(0,n.Z)(w,2),G=S[0],k=S[1],M=(0,a.useState)(!1),H=(0,n.Z)(M,2),I=H[0],E=H[1],Z=(0,l.Gf)(),D=(0,l.ho)({symbol:m,brackets:Z}),V=D.findLeverageByLevel,F=D.leverageData.maxVal,B=(0,a.useState)(Math.min(F,g)),T=(0,n.Z)(B,2),N=T[0],q=T[1],U=V(N),R=d&&!I;return(0,a.useEffect)((function(){v(o)}),[o]),(0,a.useEffect)((function(){q(Math.min(F,g))}),[F,q,m]),(0,c.jsx)(s._.Provider,{value:{symbol:m,setSymbol:v,leverage:N,setLeverage:q,isLeverageGreaterThan:I,setIsLeverageGreaterThan:E,currentLeverageBracket:U||{},positionDirection:P,setPositionDirection:h,marginType:C,setMarginType:L,positionMode:G,setPositionMode:k,setIsFormValid:f,isCalculateBtnValid:R},children:t})};p(b,"useSymbol{}\nuseState{[isFormValid, setIsFormValid](false)}\nuseState{[symbol, setSymbol](originSymbol)}\nuseState{[positionDirection, setPositionDirection](POSITION_DIRECTION_MAP.LONG)}\nuseState{[marginType, setMarginType](MARGIN_TYPE.CROSS)}\nuseState{[positionMode, setPositionMode](POSITION_MODE.ONEWAY)}\nuseState{[isLeverageGreaterThan, setIsLeverageGreaterThan](false)}\nuseBrackets{brackets}\nuseLeverageData{{\n    findLeverageByLevel,\n    leverageData: { maxVal: max },\n  }}\nuseState{[leverage, setLeverage](Math.min(max, defaultLeverage))}\nuseEffect{}\nuseEffect{}",(function(){return[l.z4,l.Gf,l.ho]})),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(d.register(g,"defaultLeverage","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/Provider.js"),d.register(b,"Provider","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/Provider.js")),(f="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&f(e)},55589:(e,t,o)=>{o.d(t,{u:()=>L});var r=o(2867),n=o(56666),a=o(2784),i=o(62143),l=o(48658),s=o(21209),u=o(92036),c=o(45362),d=o(21030),f=o(5163),p=o(98569);const g=function(e){return a.createElement(p.Z,(0,f.__assign)({width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24"},e),a.createElement("path",{d:"M12 9a1 1 0 100-2 1 1 0 100 2zm0 8a1 1 0 001-1v-5a1 1 0 10-2 0v5a1 1 0 001 1z"}),a.createElement("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12s4.477 10 10 10 10-4.477 10-10zm-2 0a8 8 0 10-16 0 8 8 0 0016 0z",clipRule:"evenodd"}))};var b,m=o(64008),v=o(1138),y=o(97060),x=o(77376),P=o(52322);function h(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function j(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?h(Object(o),!0).forEach((function(t){(0,n.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}e=o.hmd(e),(b="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&b(e);var O="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},C={width:"50%",p:"24px",pt:0,position:"relative",borderLeft:"0.5px solid",borderLeftColor:"line",".title":{mb:"28px",fontStyle:"normal",fontWeight:500,fontSize:"md",lineHeight:"24px",color:"t.primary"},".field":{mt:"12px",display:"flex",fontSize:"14px",justifyContent:"space-between"},".label":{color:"t.third"},".value":{color:"t.primary"},".description":{fontSize:"12px",lineHeight:"16px",color:"t.third",position:[null,"absolute"],bottom:"16px",mr:"16px"}},L=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.results,o=e.sx,r=e.titleSx,n=e.itemSx,s=(0,m.Z)(),u=s.getI18n,c=(0,v.Z)();return(0,a.useMemo)((function(){return(0,P.jsxs)(i.Z,{sx:j(j(j({},C),o),null==c?void 0:c.result.container),children:[(0,P.jsx)(l.Z,{className:"title",sx:j(j({},r),null==c?void 0:c.result.title),children:u("Result",{defaultValue:"Result"})}),(0,P.jsx)(i.Z,{children:(0,P.jsx)(k,{items:t,sx:n})})]})}),[u,n,c,t,o,r])};O(L,"useLanguage{{ getI18n }}\nuseMobileOverrideStyles{mobileOverrideStyles}\nuseMemo{}",(function(){return[m.Z,v.Z]}));var w,S,G={bg:"calculator.dialogBg",userSelect:"none",width:["calc(100vw - 32px)","680px","680px"],"& .bn-slider-radio-tooltip":{color:"calculator.sliderTipColor",display:"block"},"& .bn-slider-available-step":{color:"calculator.sliderLabelColor"},"& .bn-input-prefix > div":{color:"calculator.inputPrefixColor"},"& .bn-slider-radio-button":{boxShadow:"none !important"},"& > svg":{color:"calculator.closeIconColor","&:hover":{color:"calculator.closeIconActiveColor"}},borderRadius:"7px"};function k(e){var t=e.items,o=e.sx,n=(0,a.useState)(!1),i=(0,r.Z)(n,2),f=i[0],p=i[1],b=(0,v.Z)(),m=(0,y.yk)().getI18n;return(0,P.jsxs)(P.Fragment,{children:[(0,P.jsx)(s.Z,{visible:Boolean(f),onMaskClick:function(){return p(null)},sx:G,children:(0,P.jsxs)(u.Z,{flexDirection:"column",children:[(0,P.jsx)(l.Z,{sx:{px:"24px",py:"32px",fontSize:"14px",lineHeight:"22px",color:"calculator.numberColor",boxShadow:"0px 2px 8px rgba(11, 14, 17, 0.3)"},children:f}),(0,P.jsx)(c.Z,{sx:{height:"54px",borderTop:"1px solid",borderColor:"calculator.resultBg",fontSize:"17px",fontWeight:"normal",bg:"calculator.dialogBg"},onClick:function(){return p(null)},children:m("CalculatorMobile-PNLTooltipConfirm",{defaultValue:"Ok, got it"})})]})}),t.map((function(e,t){var r,n,a,i,s=e.value,c=e.label,f=e.asset,m=e.description,v=e.labelTooltip,y=e.testId;return(0,P.jsxs)(u.Z,j(j({className:"field"},y?{"data-testid":y}:{}),{},{sx:o,children:[!v&&(0,P.jsx)(l.Z,{className:"label",sx:null==b||null===(r=b.result)||void 0===r?void 0:r.label,children:c}),!!v&&(0,P.jsx)(x.Z,{children:function(e){var t;return e.isMobile?(0,P.jsxs)(u.Z,{className:"label",sx:null==b||null===(t=b.result)||void 0===t?void 0:t.tooltipLabel,onClick:function(){return p(v)},children:[(0,P.jsx)(l.Z,{mr:"8px",children:c}),(0,P.jsx)(g,{size:18})]}):(0,P.jsx)(d.ZP,{tip:v,children:(0,P.jsx)(l.Z,{className:"label",children:c})})}}),(s||0===s)&&(0,P.jsx)(l.Z,{className:"label",sx:null==b||null===(n=b.result)||void 0===n?void 0:n.label,children:(0,P.jsxs)(l.Z,{className:"value",as:"span",sx:null==b||null===(a=b.result)||void 0===a?void 0:a.value,children:[s," ",f]})}),m&&(0,P.jsx)(l.Z,{className:"description",sx:null==b||null===(i=b.result)||void 0===i?void 0:i.description,children:m})]}),t)}))]})}O(k,"useState{[dialog, setDialog](false)}\nuseMobileOverrideStyles{mobileOverrideStyles}\nuseFuturesLanguage{{ getI18n: getFuturesI18n }}",(function(){return[v.Z,y.yk]})),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(w.register(C,"STYLE","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/Results.js"),w.register(L,"Results","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/Results.js"),w.register(G,"dialogSx","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/Results.js"),w.register(k,"Result","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/components/Form/Results.js")),(S="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&S(e)},805:(e,t,o)=>{o.d(t,{Gc:()=>r.G,QY:()=>l.Q,XU:()=>n.X,Yb:()=>s.Y,p5:()=>s.p,u9:()=>a.u,zt:()=>i.z});var r=o(21498),n=o(88502),a=o(55589),i=o(83857),l=o(6821),s=o(37143);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature},15434:(e,t,o)=>{o.d(t,{Co:()=>r.Co,me:()=>n.me,yt:()=>r.yt});var r=o(95798),n=o(55822);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature},20423:(e,t,o)=>{var r;o.d(t,{DD:()=>l,Tw:()=>c,Yl:()=>u,nU:()=>d,oF:()=>i,uf:()=>s}),e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var n,a,i={baseAsset:"BTC",quoteAsset:"USDT",pricePrecision:2,quantityPrecision:2,tickSizePrecision:2},l={LONG:"LONG",SHORT:"SHORT"},s="-",u={ISOLATED:"ISOLATED",CROSS:"CROSS"},c={ONEWAY:"ONEWAY",HEDGE:"HEDGE"},d=1e10;(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(n.register(i,"DEFAULT_PRODUCT","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/constants.js"),n.register(l,"POSITION_DIRECTION_MAP","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/constants.js"),n.register(s,"INIT_VALUE","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/constants.js"),n.register(u,"MARGIN_TYPE","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/constants.js"),n.register(c,"POSITION_MODE","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/constants.js"),n.register(d,"MAX_QTY_PRICE_AMOUNT","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/constants.js")),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)},64008:(e,t,o)=>{o.d(t,{X:()=>n.X,Z:()=>r.Z});var r=o(34952),n=o(28692);"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature},28692:(e,t,o)=>{o.d(t,{X:()=>h});var r,n=o(56666),a=o(2784),i=o(44174),l=o(26786),s=o(48752),u=o(74220),c=o(38896),d=o(97060),f=o(90614),p=o(20423);function g(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function b(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?g(Object(o),!0).forEach((function(t){(0,n.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):g(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var m,v,y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},x=function(e){var t=e.isCoinUnit,o=e.tickSizePrecision,r=e.quantityPrecision;return{helper:b(b({},u),{},{openPrice:t?u.openPriceCoin:u.openPriceUSDT}),walletBalancePrecision:2,leveragePositionUnitField:"quoteAsset",getUnitChangeQty:function(e){var o=e.quantity,n=e.entryPrice;return t?o:(0,l.GW)(o/n,r)},getCoinUnitUnit:function(e){return e.product.baseAsset},getQuantityUnit:function(e){var o=e.product;return t?o.baseAsset:o.marginAsset},getQuantityPrecision:function(e){var r=e.product;return t?r.quantityPrecision:o},getNotionalValue:function(e){var o=e.quantity,r=e.entryPrice;return t?o*r:o}}},P=function(e){var t=e.isCoinUnit,o=e.getFuturesI18n;return{helper:b(b({},s),{},{openPrice:t?s.openPriceCoin:s.openPriceCont}),walletBalancePrecision:4,leveragePositionUnitField:"baseAsset",getUnitChangeQty:function(e){var o=e.quantity,r=e.entryPrice,n=e.contractVal;return t?Math.floor(o*r/n):o},getCoinUnitUnit:function(){return o("Cont",{defaultValue:"Cont"})},getQuantityUnit:function(e){var r=e.product;return t?r.baseAsset:o("Cont",{defaultValue:"Cont"})},getQuantityPrecision:function(e){var o=e.product;return t?o.equalQtyPrecision:o.quantityPrecision},getNotionalValue:function(e){var o=e.quantity,r=e.entryPrice,n=e.contractVal;return t?o:o*n/r}}};function h(){var e=(0,c.G3)(),t=(0,d.yk)().getI18n,o=(0,c.QV)(),r=(0,f.QV)(),n=(0,c.j2)()||p.oF,l=n.tickSize,s=n.quantityPrecision,u=(0,i.p8)(l);return(0,a.useMemo)((function(){return e?P({getFuturesI18n:t,isCoinUnit:r.isCoinUnit}):x({isCoinUnit:o.isCoinUnit,tickSizePrecision:u,quantityPrecision:s})}),[e,t,r.isCoinUnit,o.isCoinUnit,u,s])}y(h,"useDeliveryPath{isDelivery}\nuseFuturesLanguage{{ getI18n: getFuturesI18n }}\nusePerpetualPreferenceUnit{perpetualPreferenceUnit}\nuseDeliveryPreferenceUnit{deliveryPreferenceUnit}\nuseCurrentProduct{}\nuseMemo{}",(function(){return[c.G3,d.yk,c.QV,f.QV,c.j2]})),(m="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(m.register(x,"genPerpetualConfig","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/hooks/useContractConfig.js"),m.register(P,"genDeliveryConfig","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/hooks/useContractConfig.js"),m.register(h,"useContractConfig","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/hooks/useContractConfig.js")),(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&v(e)},63752:(e,t,o)=>{o.d(t,{k:()=>O});var r,n=o(56666),a=o(2867),i=o(2784),l=o(92036),s=o(62143),u=o(38896),c=o(64008),d=o(20423),f=o(15434),p=o(38203),g=o(52322);function b(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function m(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?b(Object(o),!0).forEach((function(t){(0,n.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):b(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var v,y,x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},P=(0,i.forwardRef)(x((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.walletBalance,o=e.walletBalanceInput,r=arguments.length>1?arguments[1]:void 0,n=(0,i.useContext)(p._),l=n.symbol,s=n.setIsLeverageGreaterThan,b=n.currentLeverageBracket.bracketNotionalCap,m=n.isFormValid,v=n.setIsFormValid,y=(0,c.X)(),x=y.getQuantityPrecision,P=y.getQuantityUnit,h=y.getUnitChangeQty,j=y.getNotionalValue,O=(0,c.Z)(),C=O.getI18n,L=(0,u.iB)(),w=L[l]||d.oF,S=w.quoteAsset,G=w.pricePrecision,k=w.contractVal,M=void 0===k?100:k,H=(0,i.useState)(""),I=(0,a.Z)(H,2),E=I[0],Z=I[1],D=(0,i.useState)(""),V=(0,a.Z)(D,2),F=V[0],B=V[1],T=(0,i.useCallback)((function(e){var t=e.quantity;return h({quantity:t,entryPrice:E,contractVal:M})}),[M,E,h]);return(0,i.useImperativeHandle)(r,(function(){return{getFormData:function(){return{entryPrice:+E,quantity:T({quantity:F})}}}})),(0,i.useEffect)((function(){s(j({quantity:F,entryPrice:E,contractVal:M})>b)}),[b,M,E,j,F,s]),(0,i.useEffect)((function(){var e=!!(E&&t&&F);m!==e&&v(e)}),[E,t,F,v,m]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsx)(f.Co,{inputs:[{value:E,max:d.nU,precision:G,onChange:Z,placeholder:C("entryPrice",{defaultValue:"Entry Price"}),asset:S},{value:F,max:d.nU,precision:x({product:w}),onChange:B,placeholder:C("quantity",{defaultValue:"Quantity"}),asset:P({product:w})}]}),(0,g.jsx)(f.Co,{inputs:o})]})}),"useContext{{\n    symbol,\n    setIsLeverageGreaterThan,\n    currentLeverageBracket: { bracketNotionalCap },\n    isFormValid,\n    setIsFormValid,\n  }}\nuseContractConfig{{ getQuantityPrecision, getQuantityUnit, getUnitChangeQty, getNotionalValue }}\nuseLanguage{{ getI18n }}\nuseProduct{productMap}\nuseState{[entryPrice, setEntryPrice]('')}\nuseState{[quantity, setQuantity]('')}\nuseCallback{getUnitChangeQtyFn}\nuseImperativeHandle{}\nuseEffect{}\nuseEffect{}",(function(){return[c.X,c.Z,u.iB,i.useImperativeHandle]}))),h=function(e){var t=e.color,o=e.text;return(0,g.jsx)(l.Z,{alignItems:"center",sx:{fontSize:"14px",color:t,"&::before":{content:'""',display:"inline-block",width:"4px",height:"12px",mr:"8px",bg:t}},children:o})},j=(0,i.forwardRef)(x((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.walletBalance,o=e.walletBalanceInput,r=arguments.length>1?arguments[1]:void 0,l=(0,i.useContext)(p._),b=l.isFormValid,m=l.setIsFormValid,v=l.setIsLeverageGreaterThan,y=l.currentLeverageBracket.bracketNotionalCap,x=(0,c.X)(),P=x.getQuantityPrecision,j=x.getQuantityUnit,O=x.getUnitChangeQty,C=x.getNotionalValue,L=(0,c.Z)(),w=L.getI18n,S=(0,u.z4)(),G=(0,a.Z)(S,1),k=G[0],M=(0,u.iB)(),H=M[k]||d.oF,I=H.quoteAsset,E=H.pricePrecision,Z=H.contractVal,D=void 0===Z?100:Z,V=(0,i.useState)(""),F=(0,a.Z)(V,2),B=F[0],T=F[1],N=(0,i.useState)(""),q=(0,a.Z)(N,2),U=q[0],R=q[1],A=(0,i.useState)(""),Q=(0,a.Z)(A,2),_=Q[0],z=Q[1],W=(0,i.useState)(""),Y=(0,a.Z)(W,2),X=Y[0],K=Y[1],$=(0,i.useCallback)((function(e){var t=e.quantity,o=e.entryPrice;return O({quantity:t,entryPrice:o,contractVal:D})}),[D,O]);return(0,i.useImperativeHandle)(r,(function(){return{getFormData:function(){var e;return e={},(0,n.Z)(e,d.DD.LONG,{entryPrice:B,quantity:$({quantity:_,entryPrice:B,contractVal:D})}),(0,n.Z)(e,d.DD.SHORT,{entryPrice:U,quantity:$({quantity:X,entryPrice:U,contractVal:D})}),e}}})),(0,i.useEffect)((function(){var e=!!(B&&U&&_&&X&&t);b!==e&&m(e)}),[t,m,B,U,_,X,b]),(0,i.useEffect)((function(){v(Math.max(C({quantity:_,entryPrice:B,contractVal:D}),C({quantity:X,entryPrice:U,contractVal:D}))>y)}),[y,D,C,B,_,v,U,X]),(0,g.jsxs)(g.Fragment,{children:[(0,g.jsxs)(s.Z,{sx:{mb:"24px"},children:[(0,g.jsx)(h,{color:"buy",text:w("Long",{defaultValue:"Long"})}),(0,g.jsx)(f.Co,{inputs:[{value:B,max:d.nU,precision:E,onChange:T,placeholder:w("entryPrice",{defaultValue:"Entry Price"}),asset:I},{value:_,max:d.nU,precision:P({product:H}),onChange:z,placeholder:w("quantity",{defaultValue:"Quantity"}),asset:j({product:H})}]})]}),(0,g.jsxs)(s.Z,{sx:{mb:"24px"},children:[(0,g.jsx)(h,{color:"sell",text:w("Short",{defaultValue:"Short"})}),(0,g.jsx)(f.Co,{inputs:[{value:U,max:d.nU,precision:E,onChange:R,placeholder:w("entryPrice",{defaultValue:"Entry Price"}),asset:I},{value:X,max:d.nU,precision:P({product:H}),onChange:K,placeholder:w("quantity",{defaultValue:"Quantity"}),asset:j({product:H})}]})]}),(0,g.jsx)(f.Co,{inputs:o,boxProps:{mt:0}})]})}),"useContext{{\n    isFormValid,\n    setIsFormValid,\n    setIsLeverageGreaterThan,\n    currentLeverageBracket: { bracketNotionalCap },\n  }}\nuseContractConfig{{ getQuantityPrecision, getQuantityUnit, getUnitChangeQty, getNotionalValue }}\nuseLanguage{{ getI18n }}\nuseSymbol{[symbol]}\nuseProduct{productMap}\nuseState{[longEntryPrice, setLongEntryPrice]('')}\nuseState{[shortEntryPrice, setShortEntryPrice]('')}\nuseState{[longQuantity, setLongQuantity]('')}\nuseState{[shortQuantity, setShortQuantity]('')}\nuseCallback{getUnitChangeQtyFn}\nuseImperativeHandle{}\nuseEffect{}\nuseEffect{}",(function(){return[c.X,c.Z,u.z4,u.iB,i.useImperativeHandle]}))),O=(0,i.forwardRef)(x((function(e,t){var o=(0,i.useContext)(p._),r=o.marginType,n=o.positionMode;return r===d.Yl.CROSS&&n===d.Tw.HEDGE?(0,g.jsx)(j,m({ref:t},e)):(0,g.jsx)(P,m({ref:t},e))}),"useContext{{ marginType, positionMode }}"));(v="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(v.register(P,"LiqBaseAndAmountInput","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/LiquidationPrice/LiquidationPriceInputs.js"),v.register(h,"PositionDirectionLabel","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/LiquidationPrice/LiquidationPriceInputs.js"),v.register(j,"LiqLongShortPriceAndAmountInput","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/LiquidationPrice/LiquidationPriceInputs.js"),v.register(O,"LiqPriceAndAmountInput","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/LiquidationPrice/LiquidationPriceInputs.js")),(y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&y(e)},68779:(e,t,o)=>{o.d(t,{Z:()=>C});var r,n=o(56666),a=o(2867),i=o(2784),l=o(97060),s=o(38896),u=o(26786),c=o(98098),d=o(34952),f=o(20423),p=o(805),g=o(38203),b=o(55822),m=o(63752),v=o(64008),y=o(52322);function x(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function P(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?x(Object(o),!0).forEach((function(t){(0,n.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):x(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var h="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},j=function(){var e,t,o,r,n=(0,i.useContext)(g._),x=n.symbol,h=n.marginType,j=n.positionMode,O=n.positionDirection,C=n.leverage,L=(0,v.X)(),w=L.helper,S=L.walletBalancePrecision,G=L.getUnitChangeQty,k=(0,d.Z)().getI18n,M=(0,s._n)(),H=(0,s.iB)(),I=H[x]||f.oF,E=(0,s.KQ)(),Z=(0,s.$J)()||{},D=(0,s.F)(),V=(0,s.Gf)()||{},F=(0,l.Fs)().isMobile,B=(0,l.yk)().getI18n,T=null===(e=(0,s.CE)()[x])||void 0===e?void 0:e.markPrice,N=j===f.Tw.ONEWAY,q=I.quoteAsset,U=I.marginAsset,R=I.pricePrecision,A=I.contractVal,Q=void 0===A?100:A,_=M?h===f.Yl.CROSS?null==E||null===(t=E[U])||void 0===t?void 0:t.crossWalletBalance:(null===(o=Z[x])||void 0===o?void 0:o.isolatedWallet)||(null==E||null===(r=E[U])||void 0===r?void 0:r.crossWalletBalance):"",z=(0,i.useState)(0===Number(_)?"":(0,u.GW)(_,S)),W=(0,a.Z)(z,2),Y=W[0],X=W[1],K=(0,i.useState)(f.uf),$=(0,a.Z)(K,2),J=$[0],ee=$[1],te=(0,i.useState)(null),oe=(0,a.Z)(te,2),re=oe[0],ne=oe[1],ae=((0,i.useCallback)((function(e){var t=e.quantity,o=e.entryPrice;return G({quantity:t,entryPrice:o,contractVal:Q})}),[Q,G]),(0,i.useCallback)((function(){ee(f.uf),ne(B("calculator-liqPriceIsVerifyTip",{defaultValue:"Insufficient wallet balance (initial margin) to open a position."}))}),[B])),ie=(0,i.useRef)(),le=(0,i.useMemo)((function(){return[{value:J,label:k("liqPrice",{defaultValue:"Liquidation Price"}),asset:q,testId:"LiquidationPriceValue"},{description:k("liqPriceTip",{defaultValue:"Liquidation Price Tip"})}]}),[J,q,k]),se=(0,i.useMemo)((function(){return N?{}:{mb:0}}),[N]),ue=(0,i.useCallback)((function(){var e,t=ie.current.getFormData(),o=O===f.DD.LONG?1:-1,r={symbol:x,brackets:V,positions:D,productMap:H,walletBalance:Y,marginType:h,positionMode:j};if(ne(null),N){var n=t.entryPrice,a=t.quantity;e=w.liquidationPrice(P(P({},r),{},{curPosition:{entryPrice:n,positionSize:a*o,contractVal:Q}})),w.isLiqPriceInValid({walletBalance:Y,entryPrice:n,quantity:a,leverage:C,contractVal:Q})?ae():ee(e<0?f.uf:(0,c.uf)(e,R))}else{var i=t[f.DD.LONG],l=i.entryPrice,s=i.quantity,u=t[f.DD.SHORT],d=u.entryPrice,p=u.quantity,g={entryPrice:l,positionSize:s,contractVal:Q,markPrice:T},b={entryPrice:d,positionSize:p,contractVal:Q,markPrice:T};e=w.liquidationPrice(P(P({},r),{},{curPosition:{markPrice:T},longPosition:g,shortPosition:b})),w.isLiqPriceInValidHEDGE({walletBalance:Y,leverage:C,longPosition:P({quantity:g.positionSize},g),shortPosition:P({quantity:b.positionSize},b),contractVal:Q})?ae():ee(e<0?f.uf:(0,c.uf)(e,R))}}),[V,Q,w,N,C,h,T,O,j,R,H,ae,x,D,Y]);return(0,i.useEffect)((function(){X((0,u.GW)(_,S))}),[_,S,h]),(0,y.jsxs)(p.Yb,{children:[(0,y.jsxs)(p.p5,{children:[(0,y.jsx)(b.Vp,{sx:se}),N&&(0,y.jsx)(p.Gc,{}),(0,y.jsx)(p.QY,{}),(0,y.jsx)(m.k,{ref:ie,walletBalance:Y,walletBalanceInput:[{value:Y,max:f.nU,precision:S,onChange:X,placeholder:k("walletBalance",{defaultValue:"Wallet Balance"}),asset:U,testId:"WalletBalanceInput",errorText:re}]}),F&&(0,y.jsx)(p.u9,{results:le}),(0,y.jsx)(p.XU,{onClick:ue})]}),!F&&(0,y.jsx)(p.u9,{results:le})]})};h(j,"useContext{{ symbol, marginType, positionMode, positionDirection, leverage }}\nuseContractConfig{{ helper, walletBalancePrecision, getUnitChangeQty }}\nuseLanguage{{ getI18n }}\nuseIsLogin{isLoggedIn}\nuseProduct{productMap}\nuseBalance{balances}\nusePositions{}\nuseValidPositionArr{validPositionArr}\nuseBrackets{}\nuseResponsive{{ isMobile }}\nuseFuturesLanguage{{ getI18n: getFuturesI18n }}\nuseMarkPrice{}\nuseState{[walletBalance, setWalletBalance](Number(initialBalance) === 0 ? '' : floor(initialBalance, walletBalancePrecision))}\nuseState{[liquidationPrice, setLiquidationPrice](INIT_VALUE)}\nuseState{[errorText, setErrorText](null)}\nuseCallback{getUnitChangeQtyFn}\nuseCallback{setWbErrorWhenInvalidLiq}\nuseRef{formRef}\nuseMemo{results}\nuseMemo{marginAndTypeSwitchSx}\nuseCallback{onCalculator}\nuseEffect{}",(function(){return[v.X,d.Z,s._n,s.iB,s.KQ,s.$J,s.F,s.Gf,l.Fs,l.yk,s.CE]}));var O=function(e){return(0,y.jsx)(p.zt,{children:(0,y.jsx)(j,P({},e))})};const C=O;var L,w;(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(L.register(j,"LiquidationPrice","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/LiquidationPrice/index.js"),L.register(O,"default","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/LiquidationPrice/index.js")),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&w(e)},81492:(e,t,o)=>{o.d(t,{Z:()=>O});var r,n,a,i=o(56666),l=o(2867),s=o(2784),u=o(97060),c=o(38896),d=o(15509),f=o(805),p=o(38203),g=o(15434),b=o(64008),m=o(20423),v=o(26786),y=o(98098),x=o(52322);function P(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function h(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?P(Object(o),!0).forEach((function(t){(0,i.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):P(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function j(){var e,t,o,r=(0,s.useContext)(p._),n=r.symbol,a=r.setIsFormValid,i=r.currentLeverageBracket.bracketNotionalCap,P=r.leverage,h=(0,b.X)(),j=h.helper,O=h.walletBalancePrecision,C=h.getCoinUnitUnit,L=(0,b.Z)().getI18n,w=(0,u.yk)().getI18n,S=(0,u.Fs)().isMobile,G=(0,c._n)(),k=(0,c.iB)()[n]||m.oF,M=k.quoteAsset,H=k.pricePrecision,I=k.marginAsset,E=(0,c.KQ)(),Z=(null===(e=(0,d.Pj)().nextTickers)||void 0===e||null===(t=e.find((function(e){return e.symbol===n})))||void 0===t?void 0:t.lastPrice)||0,D=G?(0,v.GW)(null==E||null===(o=E[I])||void 0===o?void 0:o.crossWalletBalance,O):"",V=(0,s.useState)(""),F=(0,l.Z)(V,2),B=F[0],T=F[1],N=(0,s.useState)(0===Number(D)?"":D),q=(0,l.Z)(N,2),U=q[0],R=q[1],A=(0,s.useState)(m.uf),Q=(0,l.Z)(A,2),_=Q[0],z=Q[1],W=(0,s.useState)(m.uf),Y=(0,l.Z)(W,2),X=Y[0],K=Y[1],$=(0,s.useMemo)((function(){return[{value:B,max:m.nU,precision:H,onChange:T,placeholder:L("entryPrice",{defaultValue:"Entry Price"}),asset:M,assetLabel:w("lastPrice",{defaultValue:"Last Price"}),onAssetLabelClick:function(){var e;T((null===(e=+Z)||void 0===e?void 0:e.toFixed(H))||0)}},{value:U,max:m.nU,precision:O,onChange:R,placeholder:L("walletBalance",{defaultValue:"Wallet Balance"}),asset:I}]}),[B,w,L,O,Z,H,M,U,I]),J=(0,s.useMemo)((function(){return[{value:_,label:"".concat(L("maxOpen",{defaultValue:"Max Open"})," (").concat(C({product:k}),")")},{value:X,label:"".concat(L("maxOpen",{defaultValue:"Max Open"})," (").concat(I,")")},{description:L("maxopentip",{defaultValue:"Max Open Tip"})}]}),[X,L,C,k,_,I]),ee=(0,s.useCallback)((function(){var e=j.maxOpenQuantity({walletBalance:U,leverage:P,entryPrice:B,contractVal:k.contractVal,bracketNotionalCap:i}),t=j.maxOpenCoin({walletBalance:U,leverage:P,bracketNotionalCap:i});K((0,y.qh)(t)?t:m.uf),z((0,y.qh)(e)?e:m.uf)}),[j,U,P,B,k.contractVal,i]);return(0,s.useEffect)((function(){a(!(!B||!U))}),[B,a,U]),(0,s.useEffect)((function(){z(m.uf),K(m.uf),T(""),R(D)}),[D,n]),(0,x.jsxs)(f.Yb,{children:[(0,x.jsxs)(f.p5,{children:[!S&&(0,x.jsx)(g.me,{}),(0,x.jsx)(f.Gc,{}),(0,x.jsx)(f.QY,{}),(0,x.jsx)(g.Co,{inputs:$}),S&&(0,x.jsx)(f.u9,{results:J}),(0,x.jsx)(f.XU,{onClick:ee})]}),!S&&(0,x.jsx)(f.u9,{results:J})]})}function O(e){return(0,x.jsx)(f.zt,{children:(0,x.jsx)(j,h({},e))})}e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(j,"useContext{{\n    symbol,\n    setIsFormValid,\n    currentLeverageBracket: { bracketNotionalCap },\n    leverage,\n  }}\nuseContractConfig{{ helper, walletBalancePrecision, getCoinUnitUnit }}\nuseLanguage{{ getI18n }}\nuseFuturesLanguage{{ getI18n: getFuturesI18n }}\nuseResponsive{{ isMobile }}\nuseIsLogin{isLoggedIn}\nuseProduct{productMap}\nuseBalance{balances}\nuseFuturesMarket{market}\nuseState{[entryPrice, setEntryPrice]('')}\nuseState{[walletBalance, setWalletBalance](Number(initialBalance) === 0 ? '' : initialBalance)}\nuseState{[maxOpenQuantity, setMaxOpenQuantity](INIT_VALUE)}\nuseState{[maxOpenCoin, setMaxOpenCoin](INIT_VALUE)}\nuseMemo{inputs}\nuseMemo{results}\nuseCallback{onCalculator}\nuseEffect{}\nuseEffect{}",(function(){return[b.X,b.Z,u.yk,u.Fs,c._n,c.iB,c.KQ,d.Pj]})),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(n.register(j,"MaxOpenPanel","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/MaxOpen.js"),n.register(O,"MaxOpenWrapper","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/MaxOpen.js")),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)},99663:(e,t,o)=>{o.d(t,{r:()=>M});var r=o(56666),n=o(2867),a=o(2784),i=o(92036),l=o(62143),s=o(5163),u=o(98569);const c=function(e){return a.createElement(u.Z,(0,s.__assign)({width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24"},e),a.createElement("path",{d:"M11 11V4a1 1 0 112 0v7h7a1 1 0 110 2h-7v7a1 1 0 11-2 0v-7H4a1 1 0 110-2h7z"}))};var d,f=o(77711),p=o(74258),g=o(97060),b=o(38896),m=o(38203),v=o(64008),y=o(20423),x=o(15434),P=o(52322);function h(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function j(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?h(Object(o),!0).forEach((function(t){(0,r.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}e=o.hmd(e),(d="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&d(e);var O="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e};function C(e){setTimeout((function(){return e&&e()}),0)}var L,w,S=function(){return{id:Date.now(),entryPrice:"",quantity:""}},G={height:"24px",borderRadius:"1px",width:"160px",mt:0,flex:1,"&.bn-input-status-focus input":{border:"1px solid",borderColor:"primary"},input:{textAlign:"left",height:"40px",borderRadius:"4px",color:"t.primary"}},k={mt:0,"& input":{textAlign:"left !important",pl:"8px"}},M=(0,a.forwardRef)(O((function(e,t){var o=(0,a.useContext)(m._),s=o.symbol,u=o.isFormValid,d=o.setIsFormValid,h=(0,v.X)(),O=h.getQuantityPrecision,L=h.getQuantityUnit,w=(0,v.Z)().getI18n,M=(0,b.iB)()[s]||y.oF,H=M.quoteAsset,I=M.pricePrecision,E=(0,g.Fs)().isMobile,Z=(0,a.useState)({}),D=(0,n.Z)(Z,2),V=D[0],F=D[1],B=function(e){C((function(){delete V[e],F(j({},V))}))},T=(0,a.useCallback)((function(){C((function(){var e=S();V[e.id]=e,F(j({},V))}))}),[V]),N=(0,a.useCallback)((function(e,t,o){C((function(){V[e][t]=o,F(j({},V))}))}),[V]);return(0,a.useEffect)((function(){T()}),[]),(0,a.useEffect)((function(){var e=Object.values(V),t=!!e.length&&!e.some((function(e){var t=e.entryPrice,o=e.quantity;return!t||!o}));t!==u&&d(t)}),[u,V,d]),(0,a.useImperativeHandle)(t,(function(){return{getPositions:function(){return V},resetPositions:function(){var e=S();F((0,r.Z)({},e.id,e))}}})),(0,P.jsxs)(P.Fragment,{children:[(0,P.jsxs)(i.Z,{sx:{alignItems:"center",justifyContent:"space-between",fontSize:"12px",color:"t.third",mt:E?"24px":"40px",mb:"12px"},children:[!E&&(0,P.jsx)(l.Z,{width:"80px",children:w("open",{defaultValue:"Open"})}),(0,P.jsxs)(i.Z,{flex:1,children:[(0,P.jsxs)(l.Z,{sx:{mr:E?"-16px":"0px",flex:1},children:[w("entryPrice",{defaultValue:"Entry Price"})," (",H,")"]}),(0,P.jsxs)(l.Z,{sx:{flex:1},children:[w("quantity",{defaultValue:"Quantity"})," (",L({product:M}),")"]})]}),!E&&(0,P.jsx)(l.Z,{width:"40px",textAlign:"right",children:w("action",{defaultValue:"Action"})})]}),Object.values(V).map((function(e,t){var o=e.id,r=e.entryPrice,n=e.quantity;return(0,P.jsxs)(i.Z,{alignItems:"center",justifyContent:"space-between",sx:E?{mb:"12px",bg:"inputBg",px:"8px"}:{height:"40px",bg:"inputBg",px:"8px",mb:"12px",borderRadius:"4px"},children:[!E&&(0,P.jsx)(l.Z,{fontSize:0,width:"80px",color:"t.primary",children:t+1}),(0,P.jsxs)(i.Z,{justifyContent:"center",alignItems:"center",flex:1,children:[(0,P.jsx)(x.yt,{config:{value:r,max:y.nU,precision:I,onChange:function(e){return N(o,"entryPrice",e)},asset:E?H:null,boxProps:G,mobileBoxProps:k}}),E&&(0,P.jsx)(l.Z,{sx:{minWidth:"8px"}}),(0,P.jsx)(x.yt,{config:{value:n,max:y.nU,precision:O({product:M}),onChange:function(e){return N(o,"quantity",e)},asset:E?L({product:M}):null,boxProps:G,mobileBoxProps:k}})]}),E?(0,P.jsx)(f.Z,{color:"#848E9C",ml:3,onClick:function(){return B(o)}}):(0,P.jsx)(p.Z,{ml:"20px",fontSize:"20px",textAlign:"right",color:"t.third",cursor:"pointer",onClick:function(){return B(o)}})]},o)})),(0,P.jsxs)(i.Z,{sx:j({margin:"0 auto",mt:"17px",color:"t.yellow",cursor:"pointer",alignItems:"center",justifyContent:"center",fontSize:"14px"},E&&{mb:"6px",ml:0,justifyContent:"left"}),onClick:T,children:[(0,P.jsx)(c,{size:14,color:"t.yellow"}),"  ",w("addPosition",{defaultValue:"Add Position"})]})]})}),"useContext{{ symbol, isFormValid, setIsFormValid }}\nuseContractConfig{{ getQuantityPrecision, getQuantityUnit }}\nuseLanguage{{ getI18n }}\nuseProduct{productMap}\nuseResponsive{{ isMobile }}\nuseState{[positions, setPositions]({})}\nuseCallback{onAdd}\nuseCallback{onChange}\nuseEffect{}\nuseEffect{}\nuseImperativeHandle{}",(function(){return[v.X,v.Z,b.iB,g.Fs,a.useImperativeHandle]})));(L="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(L.register(C,"delay","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/OpenPrice/OpenPricePositions.js"),L.register(S,"genInitialPosition","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/OpenPrice/OpenPricePositions.js"),L.register(G,"boxProps","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/OpenPrice/OpenPricePositions.js"),L.register(k,"mobileBoxProps","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/OpenPrice/OpenPricePositions.js"),L.register(M,"OpenPricePositions","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/OpenPrice/OpenPricePositions.js")),(w="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&w(e)},82109:(e,t,o)=>{o.d(t,{Z:()=>w});var r,n,a,i=o(56666),l=o(2867),s=o(2784),u=o(62143),c=o(92036),d=o(97060),f=o(38896),p=o(805),g=o(38203),b=o(15434),m=o(64008),v=o(20423),y=o(99663),x=o(98098),P=o(52322);function h(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function j(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?h(Object(o),!0).forEach((function(t){(0,i.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):h(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}function O(e){var t=e.results,o=e.positionsRef,r=e.onCalculator;return(0,P.jsxs)(p.Yb,{sx:{flexDirection:"column"},overrideSx:{pt:0,pr:0},children:[(0,P.jsx)(u.Z,{sx:{maxHeight:"324px",overflow:"auto"},children:(0,P.jsxs)(u.Z,{sx:{pr:"32px"},children:[(0,P.jsxs)(c.Z,{sx:{pt:"24px"},children:[(0,P.jsxs)(p.p5,{children:[(0,P.jsx)(b.me,{}),(0,P.jsx)(p.Gc,{})]}),(0,P.jsx)(p.u9,{results:t,sx:{py:"0px"},titleSx:{mt:"0px !important",mb:"28px !important"}})]}),(0,P.jsx)(y.r,{ref:o})]})}),(0,P.jsx)(u.Z,{sx:{pr:"32px"},children:(0,P.jsx)(p.XU,{onClick:r})})]})}function C(e){var t=e.results,o=e.positionsRef,r=e.onCalculator;return(0,P.jsxs)(p.Yb,{sx:{flexDirection:"column"},children:[(0,P.jsx)(c.Z,{children:(0,P.jsx)(p.p5,{children:(0,P.jsx)(p.Gc,{})})}),(0,P.jsx)(y.r,{ref:o}),(0,P.jsx)(p.u9,{results:t}),(0,P.jsx)(p.XU,{onClick:r})]})}function L(){var e=(0,s.useContext)(g._).symbol,t=(0,m.X)().helper,o=(0,d.Fs)().isMobile,r=(0,m.Z)().getI18n,n=(0,f.iB)()[e]||v.oF,a=n.quoteAsset,i=n.pricePrecision,u=(0,s.useState)(v.uf),c=(0,l.Z)(u,2),p=c[0],b=c[1],y=(0,s.useRef)(),h=(0,s.useMemo)((function(){return[{value:p,label:"".concat(r("avgPrice",{defaultValue:"Avg Price"})," (").concat(a,")")}]}),[p,r,a]),j=(0,s.useCallback)((function(){var e=t.openPrice({positions:Object.values(y.current.getPositions()).map((function(e){return{entryPrice:+e.entryPrice,quantity:+e.quantity}}))});b((0,x.qh)(e)?e.toFixed(i):v.uf)}),[t,i]);(0,s.useEffect)((function(){b(v.uf),y.current.resetPositions()}),[e]);var L=o?C:O;return(0,P.jsx)(L,{results:h,positionsRef:y,onCalculator:j})}function w(e){return(0,P.jsx)(p.zt,{children:(0,P.jsx)(L,j({},e))})}e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),("undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e})(L,"useContext{{ symbol }}\nuseContractConfig{{ helper }}\nuseResponsive{{ isMobile }}\nuseLanguage{{ getI18n }}\nuseProduct{productMap}\nuseState{[avgPrice, setAvgPrice](INIT_VALUE)}\nuseRef{positionsRef}\nuseMemo{results}\nuseCallback{onCalculator}\nuseEffect{}",(function(){return[m.X,d.Fs,m.Z,f.iB]})),(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(n.register(O,"OpenPricePC","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/OpenPrice/index.js"),n.register(C,"OpenPriceMobile","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/OpenPrice/index.js"),n.register(L,"OpenPrice","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/OpenPrice/index.js"),n.register(w,"OpenPriceWrapper","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/OpenPrice/index.js")),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)},66107:(e,t,o)=>{o.d(t,{Z:()=>h});var r,n=o(56666),a=o(2867),i=o(2784),l=o(97060),s=o(38896),u=o(20423),c=o(805),d=o(38203),f=o(15434),p=o(98098),g=o(64008),b=o(52322);function m(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function v(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?m(Object(o),!0).forEach((function(t){(0,n.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):m(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var y="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},x=function(){var e=(0,i.useContext)(d._),t=e.symbol,o=e.setIsLeverageGreaterThan,r=e.currentLeverageBracket.bracketNotionalCap,n=e.setIsFormValid,m=e.positionDirection,v=e.leverage,y=(0,g.X)(),x=y.getUnitChangeQty,P=y.getQuantityPrecision,h=y.getQuantityUnit,j=y.getNotionalValue,O=y.helper,C=(0,s.iB)()[t]||u.oF,L=C.quoteAsset,w=C.marginAsset,S=C.pricePrecision,G=C.contractVal,k=void 0===G?100:G,M=(0,l.ZK)().getI18n,H=(0,l.Fs)().isMobile,I=(0,i.useState)(""),E=(0,a.Z)(I,2),Z=E[0],D=E[1],V=(0,i.useState)(""),F=(0,a.Z)(V,2),B=F[0],T=F[1],N=(0,i.useState)(""),q=(0,a.Z)(N,2),U=q[0],R=q[1],A=(0,i.useState)(u.uf),Q=(0,a.Z)(A,2),_=Q[0],z=Q[1],W=(0,i.useState)(u.uf),Y=(0,a.Z)(W,2),X=Y[0],K=Y[1],$=(0,i.useState)(u.uf),J=(0,a.Z)($,2),ee=J[0],te=J[1],oe=(0,i.useCallback)((function(e){return x({quantity:e,entryPrice:Z,contractVal:k})}),[x,Z,k]),re=(0,i.useMemo)((function(){return[{value:Z,max:u.nU,precision:S,onChange:D,placeholder:M("entryPrice",{defaultValue:"Entry Price"}),asset:L,testId:"EntryPrice"},{value:B,max:u.nU,precision:S,onChange:T,placeholder:M("exitPrice",{defaultValue:"Exit Price"}),asset:L,testId:"ExitPrice"},{value:U,max:u.nU,precision:P({product:C}),onChange:R,placeholder:M("quantity",{defaultValue:"Quantity"}),asset:h({product:C}),testId:"Quantity"}]}),[Z,B,M,h,S,C,U,P,L]),ne=(0,i.useMemo)((function(){return[{value:_,label:M("initialMargin",{defaultValue:"Initial Margin"}),labelTooltip:M("liqPriceTipText",{defaultValue:"Initial margin may not equal to actual margin required to place an order. Actual margin required = initial margin + open loss, where open loss reflects the additional cost due to the difference between order price and mark price."}),asset:w,testId:"InitialMaginValue"},{key:"PNL",value:X,label:M("PNL",{defaultValue:"PNL"}),asset:w,testId:"PNLValue"},{value:ee,label:M("ROE",{defaultValue:"ROE"}),asset:"%",testId:"ROEValue"}]}),[_,M,w,X,ee]),ae=(0,i.useCallback)((function(){var e=oe(U),t=O.initialMargin({entryPrice:Z,quantity:e,leverage:v,contractVal:k}),o=O.PNL({positionDirection:m,quantity:e,entryPrice:Z,exitPrice:B,contractVal:k}),r=O.ROE({PNL:o,quantity:e,leverage:v,entryPrice:Z,contractVal:k});z(O.initialMarginFormat(t)),K((0,p.qh)(o)?O.PNLFormat(o):u.uf),te((0,p.qh)(r)?O.ROEFormat(r):u.uf)}),[oe,U,O,Z,v,k,m,B]);return(0,i.useEffect)((function(){n(!!(Z&&B&&U))}),[Z,B,U,n]),(0,i.useEffect)((function(){o(j({quantity:U,entryPrice:Z,contractVal:k})>r)}),[r,k,Z,j,U,o]),(0,i.useEffect)((function(){H&&(n(!1),D(""),T(""),R(""),z(u.uf),K(u.uf),te(u.uf))}),[H,n,t]),(0,b.jsxs)(c.Yb,{children:[(0,b.jsxs)(c.p5,{children:[(0,b.jsx)(c.Gc,{}),(0,b.jsx)(c.QY,{}),(0,b.jsx)(f.Co,{inputs:re}),H&&(0,b.jsx)(c.u9,{results:ne}),(0,b.jsx)(c.XU,{onClick:ae})]}),!H&&(0,b.jsx)(c.u9,{results:ne})]})};y(x,"useContext{{\n    symbol,\n    setIsLeverageGreaterThan,\n    currentLeverageBracket: { bracketNotionalCap },\n    setIsFormValid,\n    positionDirection,\n    leverage,\n  }}\nuseContractConfig{{ getUnitChangeQty, getQuantityPrecision, getQuantityUnit, getNotionalValue, helper }}\nuseProduct{productMap}\nuseLanguage{{ getI18n }}\nuseResponsive{{ isMobile }}\nuseState{[entryPrice, setEntryPrice]('')}\nuseState{[exitPrice, setExitPrice]('')}\nuseState{[quantity, setQuantity]('')}\nuseState{[initialMargin, setInitialMargin](INIT_VALUE)}\nuseState{[PNL, setPNL](INIT_VALUE)}\nuseState{[ROE, setROE](INIT_VALUE)}\nuseCallback{getUnitChangeQtyFn}\nuseMemo{inputs}\nuseMemo{results}\nuseCallback{onCalculator}\nuseEffect{}\nuseEffect{}\nuseEffect{}",(function(){return[g.X,s.iB,l.ZK,l.Fs]}));var P=function(e){return(0,b.jsx)(c.zt,{children:(0,b.jsx)(x,v({},e))})};const h=P;var j,O;(j="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(j.register(x,"PNL","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/PNL.js"),j.register(P,"default","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/PNL.js")),(O="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&O(e)},32407:(e,t,o)=>{o.d(t,{Z:()=>j});var r,n=o(56666),a=o(2867),i=o(2784),l=o(97060),s=o(38896),u=o(34952),c=o(20423),d=o(98098),f=o(805),p=o(38203),g=o(15434),b=o(64008),m=o(52322);function v(e,t){var o=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),o.push.apply(o,r)}return o}function y(e){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?v(Object(o),!0).forEach((function(t){(0,n.Z)(e,t,o[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(o)):v(Object(o)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(o,t))}))}return e}e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e);var x="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default.signature:function(e){return e},P=function(){var e=(0,i.useContext)(p._),t=e.symbol,o=e.setIsFormValid,r=e.positionDirection,n=e.leverage,v=(0,b.X)().helper,y=(0,s.iB)()[t]||c.oF,x=y.quoteAsset,P=y.pricePrecision,h=(0,i.useState)(""),j=(0,a.Z)(h,2),O=j[0],C=j[1],L=(0,i.useState)(""),w=(0,a.Z)(L,2),S=w[0],G=w[1],k=(0,i.useState)(c.uf),M=(0,a.Z)(k,2),H=M[0],I=M[1],E=(0,u.Z)().getI18n,Z=(0,l.Fs)().isMobile,D=(0,l.yk)().getI18n,V=(0,i.useMemo)((function(){return[{value:O,max:c.nU,precision:P,onChange:C,placeholder:E("entryPrice",{defaultValue:"Entry Price"}),asset:x,testId:"EntryPrice"},{value:S,max:"1999",precision:2,onChange:G,placeholder:E("ROE",{defaultValue:"ROE"}),asset:"%",errorText:H<0&&D("calculator-reachROETip",{defaultValue:"can't reach the ROE"}),negative:!0,testId:"ROEInput"}]}),[O,P,E,x,S,H,D]),F=(0,i.useMemo)((function(){return[{value:H<0?c.uf:H,label:E("targetPrice",{defaultValue:"Target Price"}),asset:x,testId:"TargetPriceValue"}]}),[H,x,E]),B=(0,i.useCallback)((function(){var e=v.targetPrice({ROE:S,leverage:n,positionDirection:r,entryPrice:O});I((0,d.KO)(e)?(0,d.uf)(e,P):-1/0)}),[v,S,n,r,O,P]);return(0,i.useEffect)((function(){o(!(!O||!S))}),[O,S,o]),(0,i.useEffect)((function(){Z&&(o(!1),C(""),G(""),I(c.uf))}),[Z,o,t]),(0,m.jsxs)(f.Yb,{children:[(0,m.jsxs)(f.p5,{children:[(0,m.jsx)(f.Gc,{}),(0,m.jsx)(f.QY,{}),(0,m.jsx)(g.Co,{inputs:V}),Z&&(0,m.jsx)(f.u9,{results:F}),(0,m.jsx)(f.XU,{onClick:B})]}),!Z&&(0,m.jsx)(f.u9,{results:F})]})};x(P,"useContext{{ symbol, setIsFormValid, positionDirection, leverage }}\nuseContractConfig{{ helper }}\nuseProduct{productMap}\nuseState{[entryPrice, setEntryPrice]('')}\nuseState{[ROE, setROE]('')}\nuseState{[targetPrice, setTargetPrice](INIT_VALUE)}\nuseLanguage{{ getI18n }}\nuseResponsive{{ isMobile }}\nuseFuturesLanguage{{ getI18n: getFuturesI18n }}\nuseMemo{inputs}\nuseMemo{results}\nuseCallback{onCalculator}\nuseEffect{}\nuseEffect{}",(function(){return[b.X,s.iB,u.Z,l.Fs,l.yk]}));var h=function(e){return(0,m.jsx)(f.zt,{children:(0,m.jsx)(P,y({},e))})};const j=h;var O,C;(O="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(O.register(P,"TargetPrice","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/TargetPrice.js"),O.register(h,"default","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/panels/TargetPrice.js")),(C="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&C(e)},98098:(e,t,o)=>{var r,n,a;function i(e){return/[^\d|.|,|\u3002]/.test(e)}function l(e){return/[^\-?\d|.|,|\u3002]/.test(e)}function s(e){return!/\d*\.?\d+$/.test(e.target.value)&&(e.target.value="")}function u(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;try{if("number"!=typeof e&&!e)return"-";var o=(e="number"==typeof e?e:+e).toFixed(Math.max(0,~~t)),r=-1!==o.indexOf(".")?/\d(?=(\d{3})+\.)/g:/\d(?=(\d{3})+$)/g;return o.replace(r,"$&,")}catch(e){return"-"}}function c(e,t){var o=t.fn,r=t.filed,n=t.places,a=t.negative,s=void 0!==a&&a,u=e.target.value;return(s?l(Number(u)):i(Number(u)))?"":(/\u3002|,/.test(u)&&(u=u.replace(/[\u3002|,]/g,".")),/^0\d/.test(u)?u="0":/^\./.test(u)?u=0+u.substring(0,n+1):Number(u)>=0&&-1!==u.indexOf(".")&&u.split(".")[1].length>=n&&(u=u.replace(new RegExp("^(\\d*\\.\\d{".concat(n,"})\\d*")),"$1")),Number.isNaN(Number(u))?"":void(r?o(r,u):o(u)))}function d(e){return e>0&&f(e)}function f(e){return!Number.isNaN(e)&&!isNaN(e)&&Math.abs(e)!==1/0}o.d(t,{KO:()=>d,Y5:()=>s,_p:()=>c,qh:()=>f,uf:()=>u}),e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature,(n="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(n.register(i,"inputCheck","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/utils.js"),n.register(l,"inputCheckWithNegative","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/utils.js"),n.register(s,"onBlur","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/utils.js"),n.register(u,"formatNumber","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/utils.js"),n.register(c,"onInputChange","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/utils.js"),n.register(d,"isValidTargetPrice","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/utils.js"),n.register(f,"isValidNumber","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/components/Calculator/utils.js")),(a="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&a(e)},74220:(e,t,o)=>{o.r(t),o.d(t,{PNL:()=>d,PNLFormat:()=>O,ROE:()=>f,ROEFormat:()=>C,formPositionSize:()=>x,initialMargin:()=>c,initialMarginFormat:()=>j,isLiqPriceInValid:()=>P,isLiqPriceInValidHEDGE:()=>h,liquidationPrice:()=>g,maxOpenCoin:()=>m,maxOpenQuantity:()=>b,openPriceCoin:()=>v,openPriceUSDT:()=>y,targetPrice:()=>p});var r,n=o(17584),a=o(95302),i=o(92521),l=o(26786);e=o.hmd(e),(r="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.enterModule:void 0)&&r(e),"undefined"!=typeof reactHotLoaderGlobal&&reactHotLoaderGlobal.default.signature;var s,u,c=function(e){return e.entryPrice*e.quantity*(1/e.leverage)},d=function(e){var t=e.positionDirection,o=e.exitPrice,r=e.entryPrice,n=e.quantity;return(t===a.DD.LONG?o-r:r-o)*n},f=function(e){var t=e.PNL,o=e.entryPrice,r=e.quantity,n=e.leverage;return t/c({entryPrice:o,quantity:r,leverage:n})*100},p=function(e){var t=e.ROE,o=e.leverage,r=e.positionDirection,n=t/100/o;return e.entryPrice*(r===a.DD.LONG?n+1:1-n)},g=function(e){var t=e.brackets,o=e.positions,r=e.symbol,n=e.marginType,l=e.positionMode,s=e.walletBalance,u=e.longPosition,c=e.shortPosition,d=e.curPosition,f=(null==t?void 0:t[r])||[],p=0;if(n===a.Yl.CROSS){var g=o.filter((function(e){return!(null!=e&&e.isolated)})).filter((function(e){return(null==e?void 0:e.symbol)!==r}));p=(0,i.zW)(g,t)-(0,i.ot)(g)}return l===a.Tw.ONEWAY?(0,i.W8)(f,s,p,d):(0,i.wr)(f,s,p,u,c,d)},b=function(e){var t=e.walletBalance,o=e.leverage,r=e.entryPrice,n=e.bracketNotionalCap;return Math.floor(Math.min(t*o/r,n/r))},m=function(e){var t=e.walletBalance,o=e.leverage,r=e.bracketNotionalCap;return(0,l.GW)(Math.min(t*o,r))},v=function(e){var t=e.positions;return t.reduce((function(e,t){var o=t.entryPrice;return e+t.quantity*o}),0)/t.reduce((function(e,t){return e+t.quantity}),0)},y=function(e){var t=e.positions;return t.reduce((function(e,t){return e+t.quantity}),0)/t.reduce((function(e,t){var o=t.entryPrice;return e+t.quantity/o}),0)},x=function(e){return e.quantity*e.entryPrice},P=function(e){var t=e.walletBalance,o=e.entryPrice,r=e.quantity,n=e.leverage;return t<Math.abs(o)*Math.abs(r)/n},h=function(e){var t=e.walletBalance,o=e.leverage,r=e.longPosition,n=e.shortPosition;return t<Math.abs(r.entryPrice)*Math.abs(r.quantity)/o+Math.abs(n.entryPrice)*Math.abs(n.quantity)/o},j=function(e){return(0,n.uf)(e)},O=function(e){return(0,n.uf)(e)},C=function(e){return(0,n.uf)(e)};(s="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.default:void 0)&&(s.register(c,"initialMargin","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/utils/futuresv2/futuresCalculate.js"),s.register(d,"PNL","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/utils/futuresv2/futuresCalculate.js"),s.register(f,"ROE","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/utils/futuresv2/futuresCalculate.js"),s.register(p,"targetPrice","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/utils/futuresv2/futuresCalculate.js"),s.register(g,"liquidationPrice","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/utils/futuresv2/futuresCalculate.js"),s.register(b,"maxOpenQuantity","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/utils/futuresv2/futuresCalculate.js"),s.register(m,"maxOpenCoin","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/utils/futuresv2/futuresCalculate.js"),s.register(v,"openPriceCoin","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/utils/futuresv2/futuresCalculate.js"),s.register(y,"openPriceUSDT","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/utils/futuresv2/futuresCalculate.js"),s.register(x,"formPositionSize","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/utils/futuresv2/futuresCalculate.js"),s.register(P,"isLiqPriceInValid","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/utils/futuresv2/futuresCalculate.js"),s.register(h,"isLiqPriceInValidHEDGE","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/utils/futuresv2/futuresCalculate.js"),s.register(j,"initialMarginFormat","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/utils/futuresv2/futuresCalculate.js"),s.register(O,"PNLFormat","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/utils/futuresv2/futuresCalculate.js"),s.register(C,"ROEFormat","/flow/src/git.toolsfdg.net/mono/mono/web/apps/cloud-trade-sdk/src/futures/utils/futuresv2/futuresCalculate.js")),(u="undefined"!=typeof reactHotLoaderGlobal?reactHotLoaderGlobal.leaveModule:void 0)&&u(e)},74258:(e,t,o)=>{o.d(t,{Z:()=>i});var r=o(5163),n=o(2784),a=o(98569);const i=function(e){return n.createElement(a.Z,(0,r.__assign)({width:"1em",height:"1em",viewBox:"0 0 24 24",fill:"none"},e),n.createElement("path",{fill:"currentColor",d:"M3 4h18v3H3z"}),n.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M15 2H9v2h6V2zm4 5H5v14h14V7zm-8.5 2H8v9h2.5V9zm3 0H16v9h-2.5V9z",fill:"currentColor"}))}},27657:(e,t,o)=>{o.d(t,{Q:()=>l});var r=o(11001),n=o(73121);const{coin:a,cont:i}=r.SW;function l(){const{unit:e}=(0,n.F7)();return{isCoinUnit:e===a,isContUnit:e===i}}},65649:(e,t,o)=>{o.r(t),o.d(t,{default:()=>L});var r=o(52322),n=o(2784),a=o(62143),i=o(92036),l=o(48658),s=o(25181),u=o(77536),c=o(5163),d=o(98569);const f=function(e){return n.createElement(d.Z,(0,c.__assign)({width:"1em",height:"1em",fill:"currentColor",viewBox:"0 0 24 24"},e),n.createElement("path",{d:"M12 10.586l5.95-5.95a1 1 0 111.414 1.414L13.414 12l5.95 5.95a1 1 0 01-1.414 1.414L12 13.414l-5.95 5.95a1 1 0 01-1.414-1.414l5.95-5.95-5.95-5.95A1 1 0 116.05 4.636l5.95 5.95z"}))};var p=o(66107),g=o(32407),b=o(68779),m=o(81492),v=o(82109),y=o(34952),x=o(97060);const P="PNL",h="TARGET_PRICE",j="MAX_OPEN",O="OPEN_PRICE";function C({title:e,testId:t,active:o}){return(0,r.jsx)(a.Z,Object.assign({tx:"tabs",variant:"trade-next.tab",sx:{padding:"18px 1px 12px 1px",fontSize:"14px",mr:"24px"},className:o?"active":"","data-testid":t},{children:e}),void 0)}const L=({open:e,setOpen:t})=>{const[o,a]=(0,n.useState)(P),{getI18n:c}=(0,y.Z)(),{getI18n:d}=(0,x.yk)();return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(i.Z,Object.assign({alignItems:"center",justifyContent:"space-between",p:"20px 32px"},{children:[(0,r.jsx)(l.Z,Object.assign({variant:"title6",color:"t.primary"},{children:d("calculator",{defaultValue:"Calculator"})}),void 0),(0,r.jsx)(f,{className:"close-icon",onClick:()=>t(!1)},void 0)]}),void 0),(0,r.jsxs)(s.Z,Object.assign({defaultActiveKey:P,tabsClassName:"tabs",onChange:e=>a(e)},{children:[(0,r.jsx)(u.Z,Object.assign({tab:e=>(0,r.jsx)(C,{title:c("PNL",{defaultValue:"PNL"}),testId:"PNL",active:e},void 0),tabKey:P},{children:o===P&&e&&(0,r.jsx)(p.Z,{},void 0)}),void 0),(0,r.jsx)(u.Z,Object.assign({tab:e=>(0,r.jsx)(C,{title:c("targetPrice",{defaultValue:"Target Price"}),testId:"TargetPrice",active:e},void 0),tabKey:h},{children:o===h&&(0,r.jsx)(g.Z,{},void 0)}),void 0),(0,r.jsx)(u.Z,Object.assign({tab:e=>(0,r.jsx)(C,{title:c("liqPrice",{defaultValue:"Liquidation Price"}),testId:"LiquidationPrice",active:e},void 0),tabKey:"LIQ"},{children:"LIQ"===o&&e&&(0,r.jsx)(b.Z,{},void 0)}),void 0),(0,r.jsx)(u.Z,Object.assign({tab:e=>(0,r.jsx)(C,{testId:"MaxOpen",title:c("maxOpen",{defaultValue:"Max Open"}),active:e},void 0),tabKey:j},{children:o===j&&e&&(0,r.jsx)(m.Z,{},void 0)}),void 0),(0,r.jsx)(u.Z,Object.assign({tab:e=>(0,r.jsx)(C,{testId:"OpenPrice",title:c("openPrice",{defaultValue:"Open Price"}),active:e},void 0),tabKey:O},{children:o===O&&e&&(0,r.jsx)(v.Z,{},void 0)}),void 0)]}),void 0)]},void 0)}},77376:(e,t,o)=>{o.d(t,{Z:()=>n});var r=o(33656);const n=({children:e})=>{const{isMobile:t,isIPad:o}=(0,r.F)();return e&&e({isMobile:t,isIPad:o})}}}]);